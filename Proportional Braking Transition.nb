Notebook[{

Cell[CellGroupData[{
Cell["On Proportional Braking in H Bridges", \
"Title",ExpressionUUID->"39796d72-87ca-4320-97ff-a98d4bd016ce"],

Cell["\<\
Robert Atkinson
10 August 2018\
\>", "Author",ExpressionUUID->"05aea015-05f3-4e99-899d-20a8cd5792a1"],

Cell["\<\
Most H bridge designs use one of two common switching modalities, which are \
commonly termed \[OpenCurlyQuote]lock anti-phase\[CloseCurlyQuote] and \
\[OpenCurlyQuote]sign-magnitude\[CloseCurlyQuote] respectively (Ref: \
http://www.modularcircuits.com/blog/articles/h-bridge-secrets). However, the \
STMicroelectronics VNH5050E H bridge, used in FTC motor controllers for \
nearly the past decade, employs neither of these modalities, instead using \
what can be called an \[OpenCurlyQuote]asynchronous sign-magnitude switching \
modality. In addition to it\[CloseCurlyQuote]s driving modes, this modality \
admits a mode wherein dynamic-braking is applied in proportional to the PWM \
duty cycle, which we term \[OpenCurlyQuote]proportional braking\
\[CloseCurlyQuote]. \
\>", "Text",ExpressionUUID->"56cc4ba9-b77c-4512-b3b4-73f00a3c0eee"],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ". Introduction"
}], "Section",ExpressionUUID->"8b5eb0dc-1aa8-4e93-bd3b-d162d4a5bebc"],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". Administrivia"
}], "Subsection",ExpressionUUID->"634dcc1a-ed99-4cd1-8ce4-cc86bfd29e80"],

Cell["Before we begin, we load in some previously computed logic.", \
"Text",ExpressionUUID->"7ad28d45-c772-4943-a312-e5b632c383c6"],

Cell[BoxData[{
 RowBox[{"Get", "[", 
  RowBox[{
   RowBox[{"NotebookDirectory", "[", "]"}], " ", "<>", " ", 
   "\"\<Utilities.m\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"inputDirectory", " ", "=", " ", 
   RowBox[{
    RowBox[{"FileNameJoin", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"NotebookDirectory", "[", "]"}], ",", 
       "\"\<MotorPhysicsGears.Output\>\""}], "}"}], "]"}], " ", "<>", " ", 
    "$PathnameSeparator"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Get", "[", 
   RowBox[{
   "inputDirectory", " ", "<>", " ", 
    "\"\<ParametersUnitsAndAssumptions.m\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Get", "[", 
   RowBox[{"inputDirectory", " ", "<>", " ", "\"\<MotorModels.m\>\""}], "]"}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Get", "[", 
   RowBox[{
   "inputDirectory", " ", "<>", " ", "\"\<MotorTimeDomainFunctions.m\>\""}], 
   "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Get", "[", 
   RowBox[{"inputDirectory", " ", "<>", " ", "\"\<SteadyState.m\>\""}], "]"}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Get", "[", 
   RowBox[{"inputDirectory", " ", "<>", " ", "\"\<Misc.m\>\""}], "]"}], 
  ";"}]}], "Input",ExpressionUUID->"00da5f52-c4e4-4d20-9d91-5577a43f3731"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". H Bridge Architecture"
}], "Subsection",ExpressionUUID->"ed7969a3-3120-435b-bdfc-5f7dfb129e16"],

Cell["\<\
In order to appreciate the design task explored in this document, it is \
important to have a comfortable, detailed working understanding of the \
operation of H bridges. From a simplified perspective, an H Bridge can \
abstractly be thought of as a circuit involving a motor, a voltage source, \
and four switches (Ref: https://en.wikipedia.org/wiki/H_bridge):\
\>", "Text",ExpressionUUID->"f9291b8f-4c1a-4043-9615-ff15e917ae48"],

Cell[TextData[Cell[BoxData[
 GraphicsBox[
  TagBox[RasterBox[CompressedData["
1:eJzt3QlcFPX/P3BYTkGUKwFPDI/UzIO8UvNIK/NIU7wKTBNNszwwzxQzMo9v
auaFR6JG5vVNTbzwINQ0vwmpGeSBoggJiCIgN/zfMn/3tw2w7O7M7mdn5vV8
UA9cZj7z0fnMi8+8d3am4ZjJ74xTWVhYBNnT/94ZPbPHtGmjZw92pj/4fRI0
YfwngWP7fDI9cHzgtI5jrOjFVpYWFun039PvSwEAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADElp6evnHjxlCAZ9auWHFo/vzE
0FB84YvJV8bZs6xzUUpmzJhhAfBv71lY/IwvfDH6OuLszDoXpeSTTz6hY3bO
nDmsZ39gLj7v0+cbC4urQUHM52P4UuDX8fr1I+ztWeeilHAZ/r///Y91R8Bc
xM2eTXOh9Kgo1h0BJYpu2xYZrhdkOPAgw4EhZLi+kOHAgwwHhpDh+kKGAw8y
HBhChusLGQ48yHBgCBmuL2Q48CDDgSFkuL6Q4cCDDAeGkOH6QoYDDzIcGEKG
6wsZDjzIcGAIGa4vZDjwIMOBIWS4vpDhwIMMB4aQ4fpChgMPMhwYQobrCxkO
PMhwYAgZri9kOPAgw4EhZLi+kOHAgwwHhpDh+kKGAw8yHBhChusLGQ48yHBg
CBmuL2Q48CDDgSFkuL6Q4cCDDAeGkOH6QoYDDzIcGEKG6wsZDjzIcGAIGa4v
ZDjwIMOBIWS4vpDhwIMMB4aQ4fpChgMPMhwYQobrCxkOPMhwYAgZri9kOPAg
w4EhZLi+kOHAgwwHhpDh+kKGAw8yHBhChusLGQ48yHBgCBmuL2Q48CDDgSFk
uL6Q4cCDDAeGkOH6QoYDDzIcGEKG6wsZDjzIcGAIGa4vZDjw/P3550dcXB6c
OaPXWpmXLhXn5hqpS6Acv3brdszTU69Vip48eXzlipH6Y/7MOcOjoqLy8vJY
9wKqVlJUdKxWrRPPP19aUsK6L6A4ybt305njjcWLWXeEDbPN8MLCQkdHxwMH
DrDuCFQt7fhxOoguBQay7ggo0e9+fjT8Hv3+O+uOsGG2GX7u3Dnq2OTJk1l3
BKp2efx4OohSjx1j3RFQnKKcnEOOjicaNlTsOaDZZvhXX32lUqkaN27MuiNQ
Ba6QctTdvaSwkHVfQHGSd+2i+cNfM2ey7ggzZpvhXbp0oY5ZWVk9fPiQdV9A
GxRSgCGFF1JKzTXDCwsL7ezsqGNOTk4oiZs5FFKAFRRSSs01w8+dO+fg4MDN
w1ESN2copABDKKSUmmuGL1q0yN7e3qJMkyZNWHcHKoVCCjCEQkqpuWY4Vwzn
oCRuzlBIAVZQSOGYYYari+EclMTNFgopwBAKKRwzzHB1MVw9D0dJ3DyhkAIM
oZDCMcMM1yyGoyRuzlBIAVZQSFEzwwzXLIajJG62UEgBhlBIUTO3DOcVw1ES
N1sopABDKKSomVuGnz9/vnyGq1Qq6ifrrsG/oJACrKCQosncMvz48eNeXl4e
Zdzd3WvVqsV9/9FHH7HuGvwfFFKAIRRSNJlbhmt6/vnnf8e5kllCIQUYQiFF
EzIcDIBCCrCCQgoPMhz0hUIKMIRCCg8yHPSFQgowhEIKDzJcioqKijIyMlht
HYUUhcspo30ZGqLZ2dmibxqFlPKQ4RJSXFy8fv36Nm3aWFlZ0V6ztrauU6eO
n59feHi45mK//fbb2rVrx4wZ06FDB19f323btonYBxRSFOvevXvjxo3z9PTk
rvh1dHR86aWXJk+eHBcXp15m165d/fr18/LysrS0pGXc3Nx69Ohx6NAhsfqA
Qkp5yHAJGTlyJO0se3v7d955Z8qUKaNGjerUqRPlOaW65mK8q+uXLl0qYh9Q
SFGmGzdueHh40HDy8fF5//33p06dOmjQIG9vb3qFJgzqxfz9/Wl8du7cmcYq
jc+XX36ZFqA8Dw0NFaUbKKSUhwyXisjISNpT9evXv3PnjubrSUlJvHn4hAkT
Nm/e/Mcff3z22WeiZzgKKcpEp3s0liZOnEgng+oXS0pKfvnlFzrvU79y/fr1
J0+eaK5Ig5MyvGbNmnl5eQL7gEJKhZDhUjF37lzaUwsWLNB9FVpY3AxHIUWx
3N3daSwlJycbsC4dyLRufHy8wD6gkFIhZLhUzJ8/n/YUJbnuq4ie4SikKBZX
Bk9MTNR3RZqre3l5qVSqR48eCewDCikVQoZLxb59+2hPOTs7//jjj7m5ubqs
InqGo5CiWG+99RaNpV69el25ckX3tbKysoKCgmjFsWPHCuwACimVQYZLRVFR
Uf/+/bm3KatVq9atW7dZs2adPn2aXq9sFXEz/P8XUtzcUEhRoNjYWK6cQurU
qTNkyJC1a9dWNi0PCQmhg7d+/fq2trbPPffcF198USh4zCTv3v20kDJjhsB2
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
/PHHgnqpeLLM8LS0NAv9r27lKZ/hhKKbe8Xb27v8FQjvvvsu99NevXpxr4iY
4dw5qZHuaMqKbDI8ICCA9s7169eNvSFTZvhLL73k6Oio+/KVZfjBgwepz6+9
9hrv9ZYtW5rmF5+8yTLDExISaGxQogpppMIMv3XrFs2xuRd5F4pnZmbS5J/7
0fbt27kXRcxw7h6GmzdvFtKIuZFNhnOPz0tJSTH2hkyZ4Z07d7a0tNS9IFlZ
hhcWFtauXZuaunnzpvpF7pNrFOPi9FXBuAz/4/33E0NDZfN1pOweyB9++KGQ
f5kKM5x0796de5F3oXhoaCj3eo0aNXJycrgXRcxw7ia6wUOHMv/nFfHreP36
8sjwAQMG0N5JTU019oZMmeHcUNf9qj8t14dzD6fTfKAJHZ70yjfffCNCR5Xt
2hdfUIbL7GtpWWYKvNdfZRkeFhbGvci7ULxTp07c64GBgeoXRczwQ4cOPT25
YP1vK/rXoWrVhPyzmImRI0daCLsOSkemzPC2bdva2dnpvryWDP/7779pHq6+
VUVubq6Li4utra0JfuvJ3q3Vq3+W3Tx8X9kvfYEX61aW4dnZ2U5OTtzr6gvF
uSHKvXjmzBn1wiJm+IEDB6iRGQMHMv/nFfGL5uEHbW2F/LOYifHjx9PeuXz5
srE3ZMoMb9y4sbu7u+7La/+cZufOnS2efdZ4x44dFhq3AEpMTPzzzz8F9lax
ZFkPv3r1qkXll6TqqLIML3326FgLjQvFuVNFQsNe8yNpImZ4eHg4NbJ69Woh
jZgb2dTD6aTPovJPsojIlBnu4eFBM2fdl9ee4dwbOnTs0PdvvPEGfR8REcH9
aPny5f7+/gJ7q1iyzHD6tU4jZNiwYUIa0ZLhNJfgXucuFC8uLq5Xrx73Cu/+
/yJm+Pr166mRrVu3CmnE3Mgmw1euXEl75/vvvzf2hkyW4XS+ScO7W7duuq+i
PcOzsrLoBNbR0TEuLs7Kyqp27drqd0tzc3NpcwI7rFiyzPDMzEwa56+//rqQ
RrRkOO9C8cOHD3Pfq1SqO3fuaC4pYoYvWrSIGtm3b5+QRsyNbDL8yJEjtHfm
zZtn7A2ZLMNjY2NpQ+PGjdN9lSrvecWdwHKfvqdTV/Xre/bsWbx4MX1z9+7d
QYMG0R/blDHgeXAKJMsMJ+7u7nqdBpanJcPJ559/zv3I29vbz8+P+778bw0R
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
0SoDBgwQ2IFrX3xBB9EdjWtgQFHu378/efJkb29vi2csLS0pQJ48eaJeZseO
HfT6xo0buT+KmOEopFQGGS4tu3fv7tOnj729vfo4atKkSYUXBnD27NlDB1qd
OnX++ecfgZv+pXXrg9bW+WlpAtsBqbt+/fr3339PU3ErKysagfQN93pqairF
dffu3UuelTvEynAUUrRAhktRbm4u5faiRYt8fHy4qw0TEhLKLxYREWFra0tH
0NWrVwVuMSchgWZB53v3FtgOyMnhw4cty6SV/WafOnUqd7l45DMHDx7kPg3E
/dHgDaGQogUyXNIozH19fWkPhoSE8H50/Phxmq47OztfvHhR+IZuLF1KB9Ht
9euFNwVy0rRpUxp+0dHR9P3o0aMttCoxdBaNQooWyHCpW7FiBe3Bd999V/PF
qKgoR0fHGjVq/Pbbb6Js5XSHDgdVqryyN6oA1GrXrk3DjxtmFy5c2PVv27dv
596I5/5o2CZQSNEOGS518+bNoz0YGBiofuXMmTPVy5w9e1aUTeQmJf1saXn2
1VdFaQ2kyN/f/8iRI5oTafp+6dKlXLm7sjfWRamHo5CiHTJcKlatWrVgwQLe
hzRjY2Pd3NxoD+7Zs4d75dy5czT9dnBwoKm4WJtO+OYbOogSVq4Uq0GQHO5z
mg0aNBgxYsTUqVMDAgJeeOEFesXKyko99soTJcNRSNEOGS4Vn332Ge0pW1vb
Tp06BZTp0qULd/MrPz8/9QSpV69e3MWHLuUY9hlPQjNwmoc/SUwU728DEnPq
1Knp06e3bt26Zs2aXHHby8tr5MiR2o9Q7v0aIfctRCGlSshwqbh///7mzZuH
DBlC8x+aZtNeq1Wr1htvvBEeHq55hjtjxoxelaDVDdhu3j//HLSyOt2+vXh/
FZA2ml0XFBSYZlsopFTJnDP87t27VX6ABYzt9vr1dBDdWLKEdUdAiVBIqZI5
ZziYg/Ovv04HUfbff7PuCCgOCim6QIaDFgUPH0bY2v7SqhXrjoASoZCiC2Q4
aHE3LIwOomuGvhkKIAQKKbpAhoMWF/r3p4PoseCP6gPoC4UUHSHDoTKFWVkR
9vYnmzRh3RFQIhRSdIQMh8rc27GDDqL4uXNZdwSUCIUUHSHDoTK/DxlCB9Gj
mBjWHQHFQSFFd8hwqFDRkyeHHB1xEAETKKToDhkOFUr573/pILoaFMS6I6BE
KKToDhkOFYp59106iDJ+/ZV1R0BxUEjRCzIcyispKDji4hJZp05JcTHrvoDi
oJCiF2Q4lHc/IoIOoiuTJrHuCCgRCil6QYZDeZc++IAOovRTp1h3BBQHhRR9
IcOBp6So6Ohzzx11dy8pLGTdF1AcFFL0hQwHnvSTJ+kgujR2LOuOgBLFjBjx
tJAi0nNglQAZDjyJoaF0EN357jvWHQElivb1PWhjg0KK7pDhwMM99OFuWBjr
joASnW7f/qCVFeteSAkyHHiQ4cDQmVdeoeGHebjukOHAgwwHhp4+gNvCAu+n
6w4ZDjzIcGDo1x49aPgV5+Wx7ohkIMOBBxkODJ3v3ZuGX1F2NuuOSAYyHHiQ
4cDQ+TffpOFX+OgR645IBjIceJDhwNCFfv1o+BU8eMC6I5KBDAceZDgw9L+B
A2n45d2/z7ojkoEMBx5kODD0++DBTzM8OZl1RyQDGQ48yHBgiLtp4ZM7d1h3
RDKQ4cCDDAeGYkaOpOGXk5DAuiOSgQwHHmQ4MBQbEEDDL/v6ddYdkQxkOPAg
w4GhP8aMoeGXFRfHuiOSgQwHHmQ4MHQpMJCG3+M//2TdEclAhgMPMhwYujxh
Ag2/zD/+YN0RyUCGAw8yHBi68vHHNPwe/f47645IBjIceJDhwNCfU6bgOT56
QYYDDzIcGPpr+nQafhlnz7LuiGQgw4EHGQ4M/TVzJg2/B9HRrDsiGchw4EGG
A0Pxc+fS8Es/eZJ1RyQDGQ48yHBg6O/gYBp+qceOse6IZCDDgQcZDgxdW7jw
aYYfPsy6I5KBDAceZDgwdP3LL2n4/fPzz6w7IhnIcOBBhgNDN5YsoeGX8tNP
rDsiGchw4EGGA0M3//MfGn7Je/aw7ohkIMOBBxkODCWsXEnD796PP7LuiGQg
w4EHGQ4M3Vq9moZfUng4645IBjIceJDhwNDtdeueDr+tW1l3RDKQ4cCDDAeG
EjdupOF3Z/Nm1h2RDGQ48CDDgaE7W7bQ8EvcsIF1RyQDGQ48yHBg6O62bTT8
bq9dy7ojkoEMBx5kODCU9MMPNPxuffst645IBjIceJDhwNC9nTtp+CWsWMG6
I5LBZfhXX321C6DMmsDAtRYWVz76KHnXLnzhy8RfV4OCKMNvLFvGOhol49NP
P7UA+Lf3LCx+xhe+2H1hHq671NTUDRs2hAI8s2716sMLFiSGhuILX0y+7mze
XPj4MetoBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAHn6f7jTwFA=
    "], {{0, 303}, {492, 0}}, {0, 255},
    ColorFunction->RGBColor],
   BoxForm`ImageTag["Byte", ColorSpace -> "RGB", Interleaving -> True],
   Selectable->False],
  DefaultBaseStyle->"ImageGraphics",
  ImageSize->{287.55555555555543`, Automatic},
  ImageSizeRaw->{492, 303},
  PlotRange->{{0, 492}, {0, 303}}]], "Input",
 TextAlignment->
  Center,ExpressionUUID->"d27b2d51-87bd-4797-aa6a-650bcdd8f119"]], "Text",
 TextAlignment->Center,ExpressionUUID->"fbaa5353-b99c-4a2c-8f73-660427ac204d"],

Cell["\<\
In this document, we need to be able to discuss with some precision the state \
of these switches. As there are four switches, there are 16 possible states. \
We will number those states by assigning weights to each switch, and summing \
over the weights of the switches which are closed in any particular state. We \
assign weights as follows: S1 \[Rule] 8,  S2 \[Rule] 4,  S3 \[Rule] 2,  and \
S4 \[Rule] 1. With that nomenclature in hand, the motor\[CloseCurlyQuote]s \
response in each of the 16 states is as follows:\
\>", "Text",ExpressionUUID->"dfa55035-27fb-4f39-a484-705fa3f40f6b"],

Cell[TextData[{
 Cell[GraphicsData["Metafile", "\<\
CF5dJ6E]HGAYHf4PEfU^I6mgLb15CDHPAVmbKF5d0@0006RD0@0006`000000000000004l1001X0@00
00000000000D7P00F2000215CDH00040U6P006L200080000000000000000000000l00406001`0`00
K`400000000000000000081]3@2HV@D0AP0002`0000P0000ADe6:`500@0L00004000008@`=/10000
H000060000160000G00005000015CDH[8T0400`0000000007T0900`000000000940100`000000000
<4020100000400000020?b501`0<0000000000A0000<000000000240000800008P0000`0003ooooo
8@0000P0000R000030000?ooool:000040000000000000008@0000P0000U0000300000d0080H0000
30000000000I000030000?ooo`0B000030000080000F000030000000000D0000300000d0000U0000
300000L0080U000030000000081;000040000000000500008P0000`0003ooooo8@0000P0000I0000
30000?ooo`0H000030000000000N00006000000000000000D04006T1000R000030000?oooolQ0000
200001T0000<0000oooo01P0000<0000000001h0000H00000@000040001@0@00J@400280000<0000
ooooob40000800006@0000`0003oool0600000`0000000007P0001P0000100000@000501001Y0@00
8P0000`0003ooooo8@0000P0000I000030000?ooo`0H000030000000000N00006000004000010000
D04006T1000W00006000004000000000YJFU0000000U000030000040000H000030000:FUY@0I0000
30000:FUY@1<0000I000004000010000C`4002P00000000000000501000Y00008@3`000000000000
0020?`00000000000020?`0000000000000000000000000000000000000000009`0001P000020000
00000>g]k@0000009@0000`000020000:00000`000010000600000`0003]kNd06@0000`0003]kNd0
C00006@000010000:00004l1000l0000000002P0001@0@005@000240l000000000000000P3l00000
00000000P3l0000000000000000000000000000000000000000004`0001T00000@000500001?0@00
I0000000001@0000D04001D0000Q0?00000000000000080o000000000000080o0000000000000000
000000000000000000000000001<0000I0000040001h0000C`4008`000000000N0000501000E0000
8@3`0000000000000020?`00000000000020?`000000000000000000000000000000000000000000
C00006@000010000X00004l1002d000000000:00001@0@005@000240l000000000000000P3l00000
00000000P3l0000000000000000000000000000000000000000004`0001T00000@000<P0001?0@00
g000000000380000D04001D0000Q0?00000000000000080o000000000000080o0000000000000000
000000000000000000000000001<0000I0000040003`0000C`4000@100000000l0000501000E0000
8@3`0000000000000020?`00000000000020?`000000000000000000000000000000000000000000
C00006@000010000604004l1000/0@00000001P1001@0@005@000240l000000000000000P3l00000
00000000P3l0000000000000000000000000000000000000000004`0001T00000@000401001?0@00
E040000000100@00D04001D0000Q0?00000000000000080o000000000000080o0000000000000000
000000000000000000000000001B0000L0400040003aoooo0000000000000000_08000000000000P
@`1Q06`0J@1R0780J@00000000000000000000000000000000000000000000000000000000000000
00000000?48003a2000l@UMUJ@90f/l0@fAY0T3Jc`1bCC01O`00004000000000ooooohe=<07`f/l0
f2_d9000002hTiT<000003R<j@h`TiT<24oH063Jc`0100000@000:@0000100000@00000000000000
F0800000001H0P00003d9000003L000000000000?48<0000F00005P0001a0000N@0001T000000000
000l@P`0001H0000F0000000001i00006@00003`00000000000000L10000003o9=[?05Vd;`440000
>=[?0:m=<0440000?=[?01T0001TMP08000002D0000<00000@0001P0000<0000oooo01P0000<0000
000001P0000<0000oooo01T0000<0000oooo0180000<00000@0005@0001h0000100001H0000]0000
9`00008000000000000000@0000F00001`0004`00000000000000000003ooooooooooe`0001C07@0
H@1d06D0800S09>S1`0000D0000700001@0000P0000300001`0005@0001H0000=@0001H000120000
9`00008000000000000003D0000F00000P0004`00000000000000000003ooooooooooe00001C0340
1`0000L0001D0000F00004X0000F0000E`0002L00002000000000000001:00005P000080001<0000
0000000000000000oooooooooom@0000D`0b00L000070000E00005P0001O00005P0006`0000W0000
0P00000000000000G`0001H000020000C00000000000000000000?ooooooooooD00005<0<`070000
1`0005@0001H0000M00001H0002100009`00008000000000000007@0000F00000P0004`000000000
00000000003ooooooooooe00001C03@01`0000L0001D0000F0000:d0000F0000`P0002L000020000
00000000002]00005P000080001<00000000000000000000oooooooooom@0000@`1G00P0000>0000
E0000600000>0@005P0002/1000W00000P000000000000003P4001H000030000C000000000000000
00000?ooooooooooE00004<0@`1G03Ze200000P0000>0000600000`000000000DP00070100030000
lOooo`00000000000000090100000000000084<0H@1/06T0HP1b06T0000000000000000000000000
0000000000000000000000000000000000000000000003a2000l@P00?49GIFT2@=[?04=TJ@90f/l0
LTd`0Gl00001000000000?oooon=CC010@000:PZm2@00000@9BI3000002dS>T>^9>I30Q?f01Pf/l0
0@000080002T00000@00004000000000000005P200000000F0800000m2@00000g0000000000003a2
300005P0001H0000L@0007T0000I000000000000?48<0000F00005P000000000N@0001T00000l000
0000000000070000ooooobCJc`1I]2l11@0003SJc`2_CC011@0003cJc`0I0000I7H02000000U0000
300000<0001D0000E00001H0000Z0000700003/00002000000000000000F0000:P000040001<0000
0000000000000000oooooooooom@0000>@2[N0L0001D0000E00003T0000Z0000?`0003/000020000
00000000000i0000:P000040001<00000000000000000000oooooooooom@0000<@0110L0001D0000
E00004h0000Z0000E00003/00002000000000000001>0000:P000040001<00000000000000000000
oooooooooom@0000<01SLPL0001D0000E00006<0000Z0000J@0003/00002000000000000001S0000
:P000040001<00000000000000000000oooooooooom@0000<00a=`L0001D0000E00007P0000Z0000
OP0003/00002000000000000001h0000:P000040001<00000000000000000000oooooooooom@0000
<@2L>`L0001D0000O00009`0000Z0000e00003/00002000000000000002L0000:P0000P0001<0000
0000000000000000oooooooooomL0000A01b06T0MP1U0200@`1G00T000050000100000L000080000
0`0000P0000=0000E00007`000010@00:P0003T1000k00000P000000000000000@4002X000080000
C00000000000000000000?ooooooooooG00004@0LP1Y07H0I@0P04<0E`0900001@0000@000070000
200000<0000800003@0005@0001D00005P0003h0000L0000C`00008000000000000001H0000n0000
0@0004`00000000000000000003ooooooooooe00000f00h61`0005@0001D0000>@0003h0000o0000
C`00008000000000000003T0000n00000@0004`00000000000000000003ooooooooooe00000`079_
1`0005@0001D0000CP0003h0001D0000C`00008000000000000004h0000n00000@0004`000000000
00000000003ooooooooooe00000a021;1`0005@0001D0000H`0003h0001Y0000C`00008000000000
000006<0000n00000@0004`00000000000000000003ooooooooooe00000a04QP1`0005@0001D0000
N00003h0001n0000C`00008000000000000007P0000n00000@0004`00000000000000000003ooooo
oooooe00000`00Zd1`0005@000240000V00003h0003H0000C`00008000000000000009P0000n0000
2@0004`00000000000000000003oooooooooof0000140780J@1f06D0801304<0E`2Qf@T000050000
100000L0000800000`0000P0000800003@0005@000240000o@0003h0000m0@00C`00008000000000
00000?d0000n00002@0004`00000000000000000003oooooooooof0000140780J@1f06D0801304<0
E`22=`T000050000100000L0000800000`0000P0000800003@0005@0001D00005P000580000L0000
H`00008000000000000001H0001B00000@0004`00000000000000000003ooooooooooe00000`0045
1`0005@0001D0000>@000580000o0000H`00008000000000000003T0001B00000@0004`000000000
00000000003ooooooooooe00000`0=1M1`0005@0001D0000CP000580001D0000H`00008000000000
000004h0001B00000@0004`00000000000000000003ooooooooooe00000`0=/Z1`0005@0001D0000
H`000580001Y0000H`00008000000000000006<0001B00000@0004`00000000000000000003ooooo
oooooe00000`01CW1`0005@0001D0000N0000580001n0000H`00008000000000000007P0001B0000
0@0004`00000000000000000003ooooooooooe00000`0=e61`0005@0001/0000Y`00058000380000
H`0000800000000000000:L0001B00001@0004`00000000000000000003ooooooooooeP0001306l0
H@1c07@0RiD80000200000L0000600001@0005@0001/000030400580000]0@00H`00008000000000
000000`1001B00001@0004`00000000000000000003ooooooooooeP0001306l0H@1c07@0Ue`80000
200000L0000600001@0005@0001D00005P0006H0000L0000M`00008000000000000001H0001V0000
0@0004`00000000000000000003ooooooooooe00000h00VF1`0005@0001D0000>@0006H0000o0000
M`00008000000000000003T0001V00000@0004`00000000000000000003ooooooooooe00000a079J
1`0005@0001D0000CP0006H0001D0000M`00008000000000000004h0001V00000@0004`000000000
00000000003ooooooooooe00000`0=>41`0005@0001D0000H`0006H0001Y0000M`00008000000000
000006<0001V00000@0004`00000000000000000003ooooooooooe00000`00001`0005@0001D0000
N00006H0001n0000M`00008000000000000007P0001V00000@0004`00000000000000000003ooooo
oooooe00000`00001`0005@0001/0000Y`0006H000380000M`0000800000000000000:L0001V0000
1@0004`00000000000000000003ooooooooooeP0001306l0H@1c07@0ool80000200000L000060000
1@0005@0002D0000mP0006H000140@00M`0000800000000000000?H0001V0000300004`000000000
00000000003oooooooooof@000120780H@1[06D0801d06l0801F04<0@`0800001@0000L000070000
200000<000050000200000<000090000200000P0001D0000E00001H0001j0000700008/000020000
00000000000F0000NP000040001<00000000000000000000oooooooooom@0000=00000L0001D0000
E00003T0001j0000?`0008/00002000000000000000i0000NP000040001<00000000000000000000
oooooooooom@0000<00000L0001D0000E00004h0001j0000E00008/00002000000000000001>0000
NP000040001<00000000000000000000oooooooooom@0000<@0000L0001D0000E00006<0001j0000
J@0008/00002000000000000001S0000NP000040001<00000000000000000000oooooooooom@0000
<00000L0001D0000E00007P0001j0000OP0008/00002000000000000001h0000NP000040001<0000
0000000000000000oooooooooom@0000<00000L0001D0000U00008l0001j0000h00008/000020000
00000000002?0000NP0000`0001<00000000000000000000oooooooooomT0000@P1b0640J`1U0200
M01_0200A`1>04@0200000D0000700001`0000P0000300001@0000P0000300002@0000X000090000
E00006`0000<0@00NP0002d1002;00000P00000000000000304007X000050000C000000000000000
00000?ooooooooooF00004<0K`1Q07<0M00000P0000800001`0000H000050000E00005@0000F0000
SP0001`0002O00000P000000000000005P0008h000010000C00000000000000000000?oooooooooo
D000038000070000E00005@0000i0000SP0003l0002O00000P00000000000000>@0008h000010000
C00000000000000000000?ooooooooooD000030000070000E00005@0001>0000SP0005@0002O0000
0P00000000000000CP0008h000010000C00000000000000000000?ooooooooooD000030000070000
E00005@0001S0000SP0006T0002O00000P00000000000000H`0008h000010000C000000000000000
00000?ooooooooooD000034000070000E00005@0001h0000SP0007h0002O00000P00000000000000
N00008h000010000C00000000000000000000?ooooooooooD000030000070000E00009@0002A0000
SP000=l0002O00000P00000000000000T@0008h0000<0000C00000000000000000000?oooooooooo
I0000480LP1Q06/0I@0P07@0K`0P05H0@`1300P0000500001`0000L0000800000`0000D000080000
0`0000T000080000200005@0001/0000304008h0000]0@00W`00008000000000000000`1002>0000
1@0004`00000000000000000003ooooooooooeP0001306l0H@1c07@000080000200000L000060000
1@0005@0001D00005P000:80000L0000/`00008000000000000001H0002R00000@0004`000000000
00000000003ooooooooooe00000a00001`0005@0001D0000>@000:80000o0000/`00008000000000
000003T0002R00000@0004`00000000000000000003ooooooooooe00000`00001`0005@0001D0000
CP000:80001D0000/`00008000000000000004h0002R00000@0004`00000000000000000003ooooo
oooooe00000`00001`0005@0001D0000H`000:80001Y0000/`00008000000000000006<0002R0000
0@0004`00000000000000000003ooooooooooe00000`00001`0005@0001D0000N0000:80001n0000
/`00008000000000000007P0002R00000@0004`00000000000000000003ooooooooooe00000a0000
1`0005@0001/0000Y`000:8000380000/`0000800000000000000:L0002R00001@0004`000000000
00000000003ooooooooooeP0001306l0H@1c07@0ool80000200000L0000600001@0005@0002D0000
m0000:8000150@00/`0000800000000000000?@0002R0000300004`00000000000000000003ooooo
ooooof@000120780H@1[06D0801d06l0801704h0A00800001@0000L000070000200000<000050000
200000<0000900002P0000T0001D0000E00001H0002f000070000<L00002000000000000000F0000
]P000040001<00000000000000000000oooooooooom@0000=@0000L0001D0000E00003T0002f0000
?`000<L00002000000000000000i0000]P000040001<00000000000000000000oooooooooom@0000
<00000L0001D0000E00004h0002f0000E0000<L00002000000000000001>0000]P000040001<0000
0000000000000000oooooooooom@0000<@0000L0001D0000E00006<0002f0000J@000<L000020000
00000000001S0000]P000040001<00000000000000000000oooooooooom@0000<00000L0001D0000
E00007P0002f0000OP000<L00002000000000000001h0000]P000040001<00000000000000000000
oooooooooom@0000<@0000L0001D0000U00008l0002f0000h0000<L00002000000000000002?0000
]P0000`0001<00000000000000000000oooooooooomT0000@P1b0640J`1U0200M01_0200A`1>04@0
200000D0000700001`0000P0000300001@0000P0000300002@0000X000090000E00009@0003d0000
]P0004D1003700000P00000000000000m0000;H0000<0000C00000000000000000000?oooooooooo
I0000480LP1Q06/0I@0P07@0K`0P04L0CP1400P0000500001`0000L0000800000`0000D000080000
0`0000T0000:00002@0005@0001H00004P000<X0000O0000f`0000800000000000000180003:0000
0P0004`00000000000000000003ooooooooooe00000a03001`0000L0001D0000E00003T0003:0000
?`000=/00002000000000000000i0000bP000040001<00000000000000000000oooooooooom@0000
<@3oo`L0001D0000E00004h0003:0000E0000=/00002000000000000001>0000bP000040001<0000
0000000000000000oooooooooom@0000<00000L0001D0000E00006<0003:0000J@000=/000020000
00000000001S0000bP000040001<00000000000000000000oooooooooom@0000<@0000L0001D0000
E00007P0003:0000OP000=/00002000000000000001h0000bP000040001<00000000000000000000
oooooooooom@0000<00000L0001D0000U0000940003:0000g`000=/00002000000000000002A0000
bP0000`0001<00000000000000000000oooooooooomT0000@P1b0640J`1U0200M01_0200EP1304<0
200000D0000700001`0000P0000300001@0000P0000300002@0000P000080000E00009@0003f0000
bP0004@1003K00000P00000000000000mP000<X0000<0000C00000000000000000000?oooooooooo
I0000480LP1Q06/0I@0P07@0K`0P05H0@`1300P0000500001`0000L0000800000`0000D000080000
0`0000T000080000200005@0001H00004P000=h0000O0000k`0000800000000000000180003N0000
0P0004`00000000000000000003ooooooooooe00000a03801`0000L0001D0000E00003T0003N0000
?`000>l00002000000000000000i0000gP000040001<00000000000000000000oooooooooom@0000
<03oo`L0001D0000E00004h0003N0000E0000>l00002000000000000001>0000gP000040001<0000
0000000000000000oooooooooom@0000<00000L0001D0000E00006<0003N0000J@000>l000020000
00000000001S0000gP000040001<00000000000000000000oooooooooom@0000<00000L0001D0000
E00007P0003N0000OP000>l00002000000000000001h0000gP000040001<00000000000000000000
oooooooooom@0000<00000L0001D0000W0000980003N0000g@000>l00002000000000000002B0000
gP0000d0001<00000000000000000000oooooooooomX0000D`1X06l0LP1d0200@`1Y0780H`1e06T0
M00000L000080000200000D0000500000`0000P0000400001@0000H000080000100000D0001D0000
W0000?L0003N0000@P400>l00002000000000000003g0000gP0000d0001<00000000000000000000
oooooooooomX0000D`1X06l0LP1d0200@`1Y0780H`1e06T0M00000L000080000200000D000050000
0`0000P0000400001@0000H000080000100000D0001D0000E00001H0003b0000700000<100020000
00000000000F0000lP000040001<00000000000000000000oooooooooom@0000<`0000L0001D0000
E00003T0003b0000?`0000<10002000000000000000i0000lP000040001<00000000000000000000
oooooooooom@0000<00000L0001D0000E00004h0003b0000E00000<10002000000000000001>0000
lP000040001<00000000000000000000oooooooooom@0000<00000L0001D0000E00006<0003b0000
J@0000<10002000000000000001S0000lP000040001<00000000000000000000oooooooooom@0000
<00000L0001D0000E00007P0003b0000OP0000<10002000000000000001h0000lP000040001<0000
0000000000000000oooooooooom@0000<00000L0001D0000W0000980003b0000g@0000<100020000
00000000002B0000lP0000d0001<00000000000000000000oooooooooomX0000D`1X06l0LP1d0200
@`1Y0780H`1e06T0M00000L000080000200000D0000500000`0000P0000400001@0000H000080000
100000D0001D0000W0000?L0003b0000@P4000<10002000000000000003g0000lP0000d0001<0000
0000000000000000oooooooooomX0000D`1X06l0LP1d0200@`1Y0780H`1e06T0M00000L000080000
200000D0000500000`0000P0000400001@0000H000080000100000D0001D0000E00001H000060@00
700001L10002000000000000000F00001P400040001<00000000000000000000oooooooooom@0000
=`0000L0001D0000E00003T000060@00?`0001L10002000000000000000i00001P400040001<0000
0000000000000000oooooooooom@0000<00000L0001D0000E00004h000060@00E00001L100020000
00000000001>00001P400040001<00000000000000000000oooooooooom@0000<00000L0001D0000
E00006<000060@00J@0001L10002000000000000001S00001P400040001<00000000000000000000
oooooooooom@0000<00000L0001D0000E00007P000060@00OP0001L10002000000000000001h0000
1P400040001<00000000000000000000oooooooooom@0000<00000L0001D0000W000098000060@00
g@0001L10002000000000000002B00001P4000d0001<00000000000000000000oooooooooomX0000
D`1X06l0LP1d0200@`1Y0780H`1e06T0M00000L000080000200000D0000500000`0000P000040000
1@0000H000080000100000D0001D0000W0000?L000060@00@P4001L10002000000000000003g0000
1P4000d0001<00000000000000000000oooooooooomX0000D`1X06l0LP1d0200@`1Y0780H`1e06T0
M00000L000080000200000D0000500000`0000P0000400001@0000H000080000100000D0001D0000
F0000180000J0@007`0002/10002000000000000000B00006P400080001<00000000000000000000
oooooooooom@0000<@0a00L000070000E00005@0000i00006P4003l0000[0@000P00000000000000
>@0001X100010000C00000000000000000000?ooooooooooD0000300ool70000E00005@0001>0000
6P4005@0000[0@000P00000000000000CP0001X100010000C00000000000000000000?oooooooooo
D000030000070000E00005@0001S00006P4006T0000[0@000P00000000000000H`0001X100010000
C00000000000000000000?ooooooooooD000030000070000E00005@0001h00006P4007h0000[0@00
0P00000000000000N00001X100010000C00000000000000000000?ooooooooooD000030000070000
E00009`0002B00006P400=d0000[0@000P00000000000000TP0001X1000=0000C000000000000000
00000?ooooooooooJ00005<0J01_0780M00P04<0J@1b06<0M@1Y07@000070000200000P000050000
1@0000<000080000100000D000060000200000@000050000E00009`0003g00006P400481000[0@00
0P00000000000000m`0001X1000=0000C00000000000000000000?ooooooooooJ00005<0J01_0780
M00P04<0J@1b06<0M@1Y07@000070000200000P0000500001@0000<000080000100000D000060000
200000@000050000E00005P0000B0000;P4001l0000o0@000P000000000000004P0002h100020000
C00000000000000000000?ooooooooooD0000340<`0700001`0005@0001D0000>@0002h1000o0000
?`40008000000000000003T0000^0@000@0004`00000000000000000003ooooooooooe00000`0?oo
1`0005@0001D0000CP0002h1001D0000?`40008000000000000004h0000^0@000@0004`000000000
00000000003ooooooooooe00000`00001`0005@0001D0000H`0002h1001Y0000?`40008000000000
000006<0000^0@000@0004`00000000000000000003ooooooooooe00000`00001`0005@0001D0000
N00002h1001n0000?`40008000000000000007P0000^0@000@0004`00000000000000000003ooooo
oooooe00000`00001`0005@0002L0000TP0002h1003M0000?`4000800000000000000980000^0@00
3@0004`00000000000000000003oooooooooofP0001C06P0K`1b07@0801306T0LP1S07D0J@1d0000
1`0000P0000800001@0000D000030000200000@0000500001P0000P0000400001@0005@0002L0000
m`0002h100120@00?`4000800000000000000?L0000^0@003@0004`00000000000000000003ooooo
ooooofP0001C06P0K`1b07@0801306T0LP1S07D0J@1d00001`0000P0000800001@0000D000030000
200000@0000500001P0000P0000400001@0005@0001H00004P000481000O0000D`40008000000000
0000018000120@000P0004`00000000000000000003ooooooooooe00000a03@01`0000L0001D0000
E00003T000120@00?`0005<10002000000000000000i0000@P400040001<00000000000000000000
oooooooooom@0000<03oo`L0001D0000E00004h000120@00E00005<10002000000000000001>0000
@P400040001<00000000000000000000oooooooooom@0000<00000L0001D0000E00006<000120@00
J@0005<10002000000000000001S0000@P400040001<00000000000000000000oooooooooom@0000
<00000L0001D0000E00007P000120@00OP0005<10002000000000000001h0000@P400040001<0000
0000000000000000oooooooooom@0000<00000L0001D0000W000098000120@00g@0005<100020000
00000000002B0000@P4000d0001<00000000000000000000oooooooooomX0000D`1X06l0LP1d0200
@`1Y0780H`1e06T0M00000L000080000200000D0000500000`0000P0000400001@0000H000080000
100000D0001D0000W0000?L000120@00@P4005<10002000000000000003g0000@P4000d0001<0000
0000000000000000oooooooooomX0000D`1X06l0LP1d0200@`1Y0780H`1e06T0M00000L000080000
200000D0000500000`0000P0000400001@0000H000080000100000D0001D0000F0000180001F0@00
7`0006L10002000000000000000B0000EP400080001<00000000000000000000oooooooooom@0000
<@0e00L000070000E00005@0000i0000EP4003l0001W0@000P00000000000000>@0005H100010000
C00000000000000000000?ooooooooooD0000300ool70000E00005@0001>0000EP4005@0001W0@00
0P00000000000000CP0005H100010000C00000000000000000000?ooooooooooD000030000070000
E00005@0001S0000EP4006T0001W0@000P00000000000000H`0005H100010000C000000000000000
00000?ooooooooooD000030000070000E00005@0001h0000EP4007h0001W0@000P00000000000000
N00005H100010000C00000000000000000000?ooooooooooD000030000070000E00009`0002B0000
EP400=d0001W0@000P00000000000000TP0005H1000=0000C00000000000000000000?oooooooooo
J00005<0J01_0780M00P04<0J@1b06<0M@1Y07@000070000200000P0000500001@0000<000080000
100000D000060000200000@000050000E00009`0003g0000EP400481001W0@000P00000000000000
m`0005H1000=0000C00000000000000000000?ooooooooooJ00005<0J01_0780M00P04<0J@1b06<0
M@1Y07@000070000200000P0000500001@0000<000080000100000D000060000200000@000050000
9@0000`000010000600000`0003oool09`0001P00004000000000?ooo`0000009@0000`000040000
9@0000`0000=00208P0000`0003ooooo8@0000P0000U000030000040000U000030000080000I0000
30000?ooo`0H000030000?ooo`0N0000600008H000010000C`4001@0000B000030000040001D0000
d0000:@000020000<@4001<00002000000000000002T00000P0001H0001<00000000000000000000
oooooooooomh0000B@1^07<0M01Q06h0M01Q06h0I@1_07D0L`0P05H0I@1/06l0H`1Y07@0N@040000
200000H0000500001`0000P0000500001`0000P000080000200000P0000600000`0000T000080000
100000P000060000100000D0000700009@0000`0000400009@0000`0000=00208P0000`0003ooooo
8@0000P0000U000030000040000U000030000080000I000030000?ooo`0H000030000?ooo`0N0000
6000004000010000AP0001@0000H000030000000000B000030000040001D0000C000000000000000
ooooooooool2000000000000000300000P000000001<00000000000000000000oooooooooom<0000
9@0000`0000400009@0000`0000=00208P0000`0003ooooo8@0000P0000U000030000040000U0000
30000080000I000030000?ooo`0H000030000000000N0000600004L000010000L00001@0000B0000
30000040001D0000C000000000000000ooooooooool2000000000000001900000P000000001<0000
0000000000000000oooooooooom<00009@0000`0000400009@0000`0000=00208P0000`0003ooooo
8@0000P0000U000030000040000U000030000080000I000030000?ooo`0H000030000000000N0000
6000004000010000D04006T1000U0000300000@0000U0000300000d0080R000030000?oooolQ0000
200002D0000<00000@0002D0000<00000P0001T0000<0000oooo01P0000<0000000001h0000H0000
00000000001@0@00J@4002L0000H00001@0000000039bLT0000002D0000<00001@0002P0000<0000
0P0001P0000<0000bLW902H0000L00000P0000000000000000000<W9b@0U000030000080000K0000
40000040000D0000=P000100000a0000500002H0000L00001P0000000001000000000000000U0000
300000H0001<0000I0000040000D0000<00001@00001000050000300000100008@3`000000000000
0020?`00000000000020?`0000000000000000000000000000000000000000009@0000`000020000
6`000100000b0000500003H0000@0000Q@0001@0000U0000300000H0001<0000I0000380000D0000
Q00001@0000b0000500005<0000100008@3`0000000000000020?`00000000000020?`0000000000
000000000000000000000000000000009@0000`0000200006`00010000010000:00003H0000@0000
<@0002P0000U0000300000H0001<0000I0000040000X0000<00002P000010000:000030000010000
8@3`0000000000000020?`00000000000020?`000000000000000000000000000000000000000000
9@0000`0000200006`000100000b0000:00003H0000@0000Q@0002P0000U0000300000H0001<0000
I0000380000X0000Q00002P0000b0000:00005<0000100008@3`0000000000000020?`0000000000
0020?`0000000000000000000000000000000000000000009@0000`0000200006`00010000010000
?00003H0000@0000<@0003`0000U0000300000H0001<0000I0000040000l0000<00003`000010000
?0000300000100008@3`0000000000000020?`00000000000020?`00000000000000000000000000
00000000000000009@0000`0000200006`000100000b0000?00003H0000@0000Q@0003`0000U0000
300000H0001<0000I0000380000l0000Q00003`0000b0000?00005<0000100008@3`000000000000
0020?`00000000000020?`0000000000000000000000000000000000000000009@0000`000020000
6`00010000010000D00003H0000@0000<@000500000U0000300000H0001<0000I0000040001@0000
<000050000010000D0000300000100008@3`0000000000000020?`00000000000020?`0000000000
000000000000000000000000000000009@0000`0000200006`000100000b0000D00003H0000@0000
Q@000500000U0000300000H0001<0000I0000380001@0000Q0000500000b0000D00005<000010000
8@3`0000000000000020?`00000000000020?`000000000000000000000000000000000000000000
9@0000`0000200006`00010000010000I00003H0000@0000<@0006@0000U0000300000H0001<0000
I0000040001T0000<00006@000010000I0000300000100008@3`0000000000000020?`0000000000
0020?`0000000000000000000000000000000000000000009@0000`0000200006`000100000b0000
I00003H0000@0000Q@0006@0000U0000300000H0001<0000I0000380001T0000Q00006@0000b0000
I00005<0000100008@3`0000000000000020?`00000000000020?`00000000000000000000000000
00000000000000009@0000`0000200006`00010000010000N00003H0000@0000<@0007P0000U0000
300000H0001<0000I0000040001h0000<00007P000010000N0000300000100008@3`000000000000
0020?`00000000000020?`0000000000000000000000000000000000000000009@0000`000020000
6`000100000b0000N00003H0000@0000Q@0007P0000U0000300000H0001<0000I0000380001h0000
Q00007P0000b0000N00005<0000100008@3`0000000000000020?`00000000000020?`0000000000
000000000000000000000000000000009@0000`0000200006`00010000010000S00003H0000@0000
<@0008`0000U0000300000H0001<0000I0000040002<0000<00008`000010000S000030000010000
8@3`0000000000000020?`00000000000020?`000000000000000000000000000000000000000000
9@0000`0000200006`000100000b0000S00003H0000@0000Q@0008`0000U0000300000H0001<0000
I0000380002<0000Q00008`0000b0000S00005<0000100008@3`0000000000000020?`0000000000
0020?`0000000000000000000000000000000000000000009@0000`0000200006`00010000010000
X00003H0000@0000<@000:00000U0000300000H0001<0000I0000040002P0000<0000:0000010000
X0000300000100008@3`0000000000000020?`00000000000020?`00000000000000000000000000
00000000000000009@0000`0000200006`000100000b0000X00003H0000@0000Q@000:00000U0000
300000H0001<0000I0000380002P0000Q0000:00000b0000X00005<0000100008@3`000000000000
0020?`00000000000020?`0000000000000000000000000000000000000000009@0000`000020000
6`00010000010000]00003H0000@0000<@000;@0000U0000300000H0001<0000I0000040002d0000
<0000;@000010000]0000300000100008@3`0000000000000020?`00000000000020?`0000000000
000000000000000000000000000000009@0000`0000200006`000100000b0000]00003H0000@0000
Q@000;@0000U0000300000H0001<0000I0000380002d0000Q0000;@0000b0000]00005<000010000
8@3`0000000000000020?`00000000000020?`000000000000000000000000000000000000000000
9@0000`0000200006`00010000010000b00003H0000@0000<@000<P0000U0000300000H0001<0000
I000004000380000<0000<P000010000b0000300000100008@3`0000000000000020?`0000000000
0020?`0000000000000000000000000000000000000000009@0000`0000200006`000100000b0000
b00003H0000@0000Q@000<P0000U0000300000H0001<0000I000038000380000Q0000<P0000b0000
b00005<0000100008@3`0000000000000020?`00000000000020?`00000000000000000000000000
00000000000000009@0000`0000200006`00010000010000g00003H0000@0000<@000=`0000U0000
300000H0001<0000I0000040003L0000<0000=`000010000g0000300000100008@3`000000000000
0020?`00000000000020?`0000000000000000000000000000000000000000009@0000`000020000
6`000100000b0000g00003H0000@0000Q@000=`0000U0000300000H0001<0000I0000380003L0000
Q0000=`0000b0000g00005<0000100008@3`0000000000000020?`00000000000020?`0000000000
000000000000000000000000000000009@0000`0000200006`00010000010000l00003H0000@0000
<@000?00000U0000300000H0001<0000I0000040003`0000<0000?0000010000l000030000010000
8@3`0000000000000020?`00000000000020?`000000000000000000000000000000000000000000
9@0000`0000200006`000100000b0000l00003H0000@0000Q@000?00000U0000300000H0001<0000
I0000380003`0000Q0000?00000b0000l00005<0000100008@3`0000000000000020?`0000000000
0020?`0000000000000000000000000000000000000000009@0000`0000200006`00010000010000
104003H0000@0000<@0000@1000U0000300000H0001<0000I000004000040@00<00000@100010000
10400300000100008@3`0000000000000020?`00000000000020?`00000000000000000000000000
00000000000000009@0000`0000200006`000100000b0000104003H0000@0000Q@0000@1000U0000
300000H0001<0000I000038000040@00Q00000@1000b0000104005<0000100008@3`000000000000
0020?`00000000000020?`0000000000000000000000000000000000000000009@0000`000020000
6`00010000010000604003H0000@0000<@0001P1000U0000300000H0001<0000I0000040000H0@00
<00001P10001000060400300000100008@3`0000000000000020?`00000000000020?`0000000000
000000000000000000000000000000009@0000`0000200006`000100000b0000604003H0000@0000
Q@0001P1000U0000300000H0001<0000I0000380000H0@00Q00001P1000b0000604005<000010000
8@3`0000000000000020?`00000000000020?`000000000000000000000000000000000000000000
9@0000`0000200006`00010000010000;04003H0000@0000<@0002`1000U0000300000H0001<0000
I0000040000/0@00<00002`100010000;0400300000100008@3`0000000000000020?`0000000000
0020?`0000000000000000000000000000000000000000009@0000`0000200006`000100000b0000
;04003H0000@0000Q@0002`1000U0000300000H0001<0000I0000380000/0@00Q00002`1000b0000
;04005<0000100008@3`0000000000000020?`00000000000020?`00000000000000000000000000
00000000000000009@0000`0000200006`00010000010000@04003H0000@0000<@000401000U0000
300000H0001<0000I000004000100@00<000040100010000@0400300000100008@3`000000000000
0020?`00000000000020?`0000000000000000000000000000000000000000009@0000`000020000
6`000100000b0000@04003H0000@0000Q@000401000U0000300000H0001<0000I000038000100@00
Q0000401000b0000@04005<0000100008@3`0000000000000020?`00000000000020?`0000000000
000000000000000000000000000000009@0000`0000200006`00010000010000E04003H0000@0000
<@0005@1000U0000300000H0001<0000I0000040001D0@00<00005@100010000E040030000010000
8@3`0000000000000020?`00000000000020?`000000000000000000000000000000000000000000
9@0000`0000200006`000100000b0000E04003H0000@0000Q@0005@1000U0000300000H0001<0000
I0000380001D0@00Q00005@1000b0000E04005<0000100008@3`0000000000000020?`0000000000
0020?`0000000000000000000000000000000000000000009@0000`0000200006`00010000010000
J04003H0000@0000<@0006P1000U0000300000H0001<0000I0000040001X0@00<00006P100010000
J0400300000100008@3`0000000000000020?`00000000000020?`00000000000000000000000000
00000000000000009@0000`0000200006`000100000b0000J04003H0000@0000Q@0006P1000U0000
300000H0001<0000I0000380001X0@00Q00006P1000b0000J04005<0000100008@3`000000000000
0020?`00000000000020?`0000000000000000000000000000000000000000009@0000`000020000
6`00010000000000500003H0000@0000000006T1000U0000300000H0001<0000I0000000000D0000
000006P10000000050000040001E0@008@3`0000000000000020?`00000000000020?`0000000000
000000000000000000000000000000009`0001P00007000000000000000000009@0000`000070000
:00000`000050000600000`000000000:00000`0000200009P0001`0000200000000000000000000
000002D0000<00000P0001/0000@0000<@0001@0000f000040000340001Y0@009@0000`000060000
C00006@0000a000050000340001X0@00<@0001@000010000E@400240l000000000000000P3l00000
00000000P3l0000000000000000000000000000000000000000002D0000<00000P0001/0000@0000
Q@0001@0000f0000400008D0001Y0@009@0000`000060000C00006@000250000500008D0001X0@00
Q@0001@000010000E@400240l000000000000000P3l0000000000000P3l000000000000000000000
0000000000000000000002L0000H00001@0000000039bLT0000002D0000<00001@0002P0000<0000
1`0001P0000<0000bLW902P0000<00000P0002H0000L00000P0000000000000000000<W9b@0U0000
30000080000K0000400004l1000E0000=P000100001?0@00J@4002D0000<00001P0004`0001T0000
C`4001D0001?0@00J04004l1000E00000@0005@1000Q0?00000000000000080o000000000000080o
0000000000000000000000000000000000000000000U000030000080000K00004000000000000000
=P000100001@0@00000002D0000<00001P0004`0001T000000000000001?0@000000000000000000
D0400040000Q0?00000000000000080o000000000000080o00000000000000000000000000000000
00000000000U000030000080000K0000400008H0000D0000=P000100001@0@00500002D0000<0000
1P0004`0001T0000QP0001@0001?0@00500008H0000D0000bP000040000Q0?00000000000000080o
000000000000080o0000000000000000000000000000000000000000000U000030000080000K0000
400008H0000X0000=P000100001@0@00:00002D0000<00001P0004`0001T0000QP0002P0001?0@00
:00008H0000X0000bP000040000Q0?00000000000000080o000000000000080o0000000000000000
000000000000000000000000000U000030000080000K0000400008H0000l0000=P000100001@0@00
?00002D0000<00001P0004`0001T0000QP0003`0001?0@00?00008H0000l0000bP000040000Q0?00
000000000000080o000000000000080o0000000000000000000000000000000000000000000U0000
30000080000K0000400008H0001@0000=P000100001@0@00D00002D0000<00001P0004`0001T0000
QP000500001?0@00D00008H0001@0000bP000040000Q0?00000000000000080o000000000000080o
0000000000000000000000000000000000000000000U000030000080000K0000400008H0001T0000
=P000100001@0@00I00002D0000<00001P0004`0001T0000QP0006@0001?0@00I00008H0001T0000
bP000040000Q0?00000000000000080o000000000000080o00000000000000000000000000000000
00000000000U000030000080000K0000400008H0001h0000=P000100001@0@00N00002D0000<0000
1P0004`0001T0000QP0007P0001?0@00N00008H0001h0000bP000040000Q0?00000000000000080o
000000000000080o0000000000000000000000000000000000000000000U000030000080000K0000
400008H0002<0000=P000100001@0@00S00002D0000<00001P0004`0001T0000QP0008`0001?0@00
S00008H0002<0000bP000040000Q0?00000000000000080o000000000000080o0000000000000000
000000000000000000000000000U000030000080000K0000400008H0002P0000=P000100001@0@00
X00002D0000<00001P0004`0001T0000QP000:00001?0@00X00008H0002P0000bP000040000Q0?00
000000000000080o000000000000080o0000000000000000000000000000000000000000000U0000
30000080000K0000400008H0002d0000=P000100001@0@00]00002D0000<00001P0004`0001T0000
QP000;@0001?0@00]00008H0002d0000bP000040000Q0?00000000000000080o000000000000080o
0000000000000000000000000000000000000000000U000030000080000K0000400008H000380000
=P000100001@0@00b00002D0000<00001P0004`0001T0000QP000<P0001?0@00b00008H000380000
bP000040000Q0?00000000000000080o000000000000080o00000000000000000000000000000000
00000000000U000030000080000K0000400008H0003L0000=P000100001@0@00g00002D0000<0000
1P0004`0001T0000QP000=`0001?0@00g00008H0003L0000bP000040000Q0?00000000000000080o
000000000000080o0000000000000000000000000000000000000000000U000030000080000K0000
400008H0003`0000=P000100001@0@00l00002D0000<00001P0004`0001T0000QP000?00001?0@00
l00008H0003`0000bP000040000Q0?00000000000000080o000000000000080o0000000000000000
000000000000000000000000000U000030000080000K0000400008H000040@00=P000100001@0@00
104002D0000<00001P0004`0001T0000QP0000@1001?0@00104008H000040@00bP000040000Q0?00
000000000000080o000000000000080o0000000000000000000000000000000000000000000U0000
30000080000K0000400008H0000H0@00=P000100001@0@00604002D0000<00001P0004`0001T0000
QP0001P1001?0@00604008H0000H0@00bP000040000Q0?00000000000000080o000000000000080o
0000000000000000000000000000000000000000000U000030000080000K0000400008H0000/0@00
=P000100001@0@00;04002D0000<00001P0004`0001T0000QP0002`1001?0@00;04008H0000/0@00
bP000040000Q0?00000000000000080o000000000000080o00000000000000000000000000000000
00000000000U000030000080000K0000400008H000100@00=P000100001@0@00@04002D0000<0000
1P0004`0001T0000QP000401001?0@00@04008H000100@00bP000040000Q0?00000000000000080o
000000000000080o0000000000000000000000000000000000000000000U000030000080000K0000
400008H0001D0@00=P000100001@0@00E04002D0000<00001P0004`0001T0000QP0005@1001?0@00
E04008H0001D0@00bP000040000Q0?00000000000000080o000000000000080o0000000000000000
000000000000000000000000000U000030000080000K0000400008H0001X0@00=P000100001@0@00
J04002D0000<00001P0004`0001T0000QP0006P1001?0@00J04008H0001X0@00bP000040000Q0?00
000000000000080o000000000000080o0000000000000000000000000000000000000000000W0000
600000L00000000000000000000U0000300000L0000X0000300000D0000U0000300000d0080R0000
30000?oooolQ0000200002D0000<00000@0001T0000<0000oooo01P0000<0000bLW901h0000H0000
0@000040001@0@00J@4002L0000H00001@0000000018GK40000002D0000<00001@0001P0000<0000
B5fa01T0000<0000B5fa04`0001T0000C@4006H1001>0@00I`4004d1001V0@000P000080000Q0?00
000000000000080o000000000000080o0000000000000000000000000000000000000000000U0000
300000L0000X0000300000D0000W0000600000D000000000B5fa0000000U0000300000D0001<0000
I00004h1001W0@00CP4006L1001>0@00I`400040000100008@3`0000000000000020?`0000000000
0020?`0000000000000000000000000000000000000000009@0000`000070000:00000`000050000
9`0001P000050000000004QM/@0000009@0000`000050000C00006@0001>0@00I`4004h1001W0@00
CP4006L1000100000@000240l000000000000000P3l0000000000000P3l000000000000000000000
0000000000000000000002D0000<00001`0002P0000<00001@0002L0000H00001@0000000018GK40
000002D0000<00001@0004`0001T0000B`4006H1001<0@00I`4004/1001V0@000P000080000Q0?00
000000000000080o000000000000080o0000000000000000000000000000000000000000000U0000
300000L0000X0000300000D0000W0000600000D000000000B5fa0000000U0000300000D0001<0000
I00004`1001W0@00C04006L1001<0@00I`400040000100008@3`0000000000000020?`0000000000
0020?`0000000000000000000000000000000000000000009@0000`000070000:00000`000050000
9`0001P000050000000004QM/@0000009@0000`000050000C00006@0001<0@00I`4004`1001W0@00
C04006L1000100000@000240l000000000000000P3l0000000000000P3l000000000000000000000
0000000000000000000002D0000<00001`0002P0000<00001@0002L0000H00001@0000000018GK40
000002D0000<00001@0004`0001T0000C@4006@1001>0@00I@4004d1001T0@000P000080000Q0?00
000000000000080o000000000000080o0000000000000000000000000000000000000000000U0000
300000L0000X0000300000D0000W0000600000D000000000B5fa0000000U0000300000D0001<0000
I00004h1001U0@00CP4006D1001>0@00I@400040000100008@3`0000000000000020?`0000000000
0020?`0000000000000000000000000000000000000000009@0000`000070000:00000`000050000
9`0001P000050000000004QM/@0000009@0000`000050000C00006@0001>0@00I@4004h1001U0@00
CP4006D1000100000@000240l000000000000000P3l0000000000000P3l000000000000000000000
0000000000000000000002D0000<00001`0002P0000<00001@0004/0000@0000000000D0000R0000
30000?oooom60000=00002P00015CDH[:T0002@0000H00000020?`00080000200020?`0008000020
AP0001`0000@0000ADe6:`90000<0000000000h0000D000000000100000D0000
\>"], "Graphics",
  ImageSize->{291, 313},
  ImageMargins->0,
  ImageRegion->{{0., 1.}, {0., 1.}},ExpressionUUID->
  "231244e6-d684-4c0f-9651-35b1dbdb5ce9"],
 "  "
}], "Text",
 TextAlignment->Center,ExpressionUUID->"9d0df223-b8f8-40cf-8e40-1d914489d30f"],

Cell["\<\
Note that in a design where an H bridge is driven by pulse width modulation, \
we can talk with precision about the operation of the bridge by naming the \
state used in the \[OpenCurlyDoubleQuote]on\[CloseCurlyDoubleQuote] part of \
the PWM cycle, the state used in the \[OpenCurlyDoubleQuote]off\
\[CloseCurlyDoubleQuote] part of the cycle, and the duty-cycle percentage of \
the \[OpenCurlyDoubleQuote]on\[CloseCurlyDoubleQuote] state as a fraction of \
the PWM framing period (which is contextually herein taken as fixed). Thus, \
for example, we might talk about an H bridge using a 6/2 mode being driven at \
a 75% duty cycle, or a bridge in 5/0 mode with a 30% duty cycle, etc.\
\>", "Text",ExpressionUUID->"e7fdc1af-1ff9-4dec-a8d5-ccf1dbe4c0f1"],

Cell["\<\
States 9 and 6 are the driving states. In state 9, the motor turns one \
direction, which we have arbitrarily labeled as CW (or, more precisely, it \
attempts to increase its angular velocity in the CW direction). In state 6, \
the motor turns CCW. In state 0 it coasts, while in states 5 and 10 \
rheostatic dynamic braking is employed (Ref: \
https://en.wikipedia.org/wiki/Dynamic_braking), either through the ground \
rail or the power rail. Seven of the states are short circuits, and should be \
avoided.\
\>", "Text",ExpressionUUID->"864ec393-9a5d-43d9-b2c0-eb0aaf2db0d4"],

Cell["\<\
States 8, 4, 2, and 1 deserve special mention. Their behavior is dependent \
not only on the state of the switches, but also on the sign of the \
instantaneous angular velocity.  This is due to consequences of the fact that \
a more complete picture of an H bridge must include the so-called \
\[OpenCurlyQuote]catch diodes\[CloseCurlyQuote] whose presence is necessary \
to avoid inductive voltage spikes during switching transitions (Ref: \
http://modularcircuits.tantosonline.com/blog/articles/h-bridge-secrets/h-\
bridges-the-basics/).\
\>", "Text",ExpressionUUID->"5644eadf-13d0-413d-a526-acfd955b8c6a"],

Cell[TextData[Cell[BoxData[
 GraphicsBox[
  TagBox[RasterBox[CompressedData["
1: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
6uXLl8XncvKgxSK5nXvVTyU3YCprYxiGOQsaipmvht3f3+/t7aE3SZVCJbmd
qZQmj5nW2qenp0tLSwj4sjclT05OXr9+3cANmgKS25lKafKYya0NjSDgoRd0
MVOTc2F2s7OzIzvXemsmhOR2Tu67Wsku2had+fn58PIosTbCHt3E5uYm5hQY
UMFKexbQBTYuLi6urq4eHR1FTyoxG6VMB6fU4Wv7FB2b4Du1Sx6oyQvggEkH
JukYldlKgYiwMXkn4pDcdNpiKS7aape8AO0luem0xVJctNUueQHaS3LTaYul
uGirXfICtJfkptMWS3FxqpM8/WvHzNskyU3nBE/y8sRFW3W0ladFaDOdtvJU
RFt1tJWnRWgznbbyVERbdbSVp0VoM5228lREW3WmlueDhaw/b4Mtx8fH+/v7
Z2dntZUxGnZd8vaR9V2zNc3SOle2i+T3VdfX1+2bvM+ePbO/2sv5jiehhY1r
TywvLw+HQ/PrxcUFtshP2M3+SSGIf1OX5Qm7u7vZ3eRXWWnfoZTpmqfbSklb
u8PDw7m5OfzN20GUYlpgyWYCzFfT9kocll1AuElQQkjAfBWZO2LBPtA7KuhV
is1U0zVAM+ksUxGilMfHxwYebcJZvv76axQAf/Me5XWUMp68D4It2aSN2T21
4SgluwWqx1f8naqUENNFBMHgfbNAVasbneLaXV9fo6FYWFho4HlytIfPnz9H
AfA3r230xr93cILZihOH2sgqBT2gXTv0JlKvqUoJMV1EEAzz8/MIDGcdzh4q
BY3GwcHB0tKSGfTWrRTTKgp5baNXKd5AwkbvsF8PWaWMJ6qX2mEwZkaVxUoJ
NF1EEAzmdAiS0WgkQ46+KWVra2sQlZWVlanFMK2ikNc2Birl3bt3JszUUqwU
lB9ikY3FSgk0nQOckuevqW9Se5HLC/YpBl1XClqk09PTjY0N2w5V+pSpFnNa
RcHbNuaNvuxrwpAJtmieywtZpWC2JROT7CU+5yqfIdx0DlXC2O5TwOrqKgIG
M5e+KcV8tsdgtSrFaRUFb9uYVYrowvmqeSJvyCoFohA5PDw87FuITDDzyh4k
3HQO1ZVij7u8x+yPUgyY12cvLs18Cgdvq5jXNopSMAGREEL8IIrMKAUf8Ksk
LRXMTwoRCZiiSvfhvcOYN/oqZTqHKmGMYPDm1OiVUup4lrjYYt5WMa9tlEum
BjSzdmjh69rnSGZGncicXYDkCx4qQC3CO5TAbqWOMO6VUpo/xatXr7y+FvBr
3cVrL1VMV4ff+dR9k6fomHmbRJudO+ZKbRbrmHmbRJudO+ZKbRbrmHmbRJud
O+ZKpzpdXZe4D2izc8dc2cD1Cm0e7CrJ7cxnieOeIuLOxCa5nXt1lZhKaS/J
7UylxD1FxJ2JTXI7p1KK8+5nTThZb+o4xdzcXHitB1TKrJQyHZxSh6/tU8z2
THJZUr0EPWCf0lqS27lXvktuwF5ZOy7J7dwr3yU3YK+sHZfkdu6V75IbsFfW
jktyO/fKd8kN2CtrxyW5nZMv/94kzb+fUmVnYkM7tx16sBlo57ZDDzYD7dx2
6MFmoJ3bTqlbrqVSchObsvfEU5eXuNApCqFTFEKnKIROUQidohA6RSF0ikLo
FIXQKQqhU/K4vb2VtUkFZ3FFWflTmJr+qSx0ikLiOqU4ugRJnKQ8BwEqIuWX
5JtmnU/zK6p5dXWFn7DPwJfiqgpUikIiOqU4ugzDCcrTP0kh7S0icO9auNG7
FSpFIRGdEhJdIh9JexHrvHXgFYXJQZDd2bte9MxQKQqJ6JSQ6JLESehxNCsl
LzeoN3EVqizJbiIWgEpRSCynhESX5O+QnduoFMnZYW+RTpMz+j5Qt1JMdJkM
yGP1SnEy0hqy06688VhFqBSFxHLK1Oh6N0Em+zJi0ZwxDcXLJtJ15iPe6xVR
oFIUEneeUhBd9tVjgPNGnwhHRG6X2Nd+nfSIqA5k8vDwUMfZqRSFRHTK1Ogy
KB99CVJ4OxctPkiCXRlqLn9OxFNTKQqJ65SC6LJphVLGk7kVBoro+KQKUju5
nfohQ8TzUikKie6Uguiy0TxJKQA9Zh1TeAcqRSENOKWZ6OoSVIpC6BSF0CkK
oVMUQqcohE5RCJ2iEDpFIXSKQugUhdApCqFTFNJMbiZSCicXGyFxGbApJiQA
KoWQEKgUQkKgUggJgUohJAQqhZAQqBRCQqBSCAmBSiEkBCqFkBCoFEJCoFII
CYFKISQEKoWQEKgUQkKgUggJgUohJAQqhZAQqBRCQqBSCAmBSiEkBCqFkBCo
FEJCoFIICYFKISQEKoWQEKgUQkKgUggR1tfXZ1sTG/8xddkJIYQQQgghhBDy
B1Nn95zFE0IIIYQQQgghhJAOYK6D8XqXNv4HKSwmow==
    "], {{0, 264}, {270, 0}}, {0, 255},
    ColorFunction->RGBColor],
   BoxForm`ImageTag["Byte", ColorSpace -> "RGB", Interleaving -> True],
   Selectable->False],
  DefaultBaseStyle->"ImageGraphics",
  ImageSize->Automatic,
  ImageSizeRaw->{270, 264},
  PlotRange->{{0, 270}, {0, 
   264}}]], "Input",ExpressionUUID->"fced781d-7940-4bc9-8c98-87963b4be4b9"]], \
"Text",
 TextAlignment->Center,ExpressionUUID->"ace9eee8-b759-472d-8192-ca7ad7b5286b"],

Cell["\<\
Let us consider state 8, where S1 (aka Q1) is closed, and the remaining \
switches are open. If we are driving CW, and, say, switching between state 9 \
and state 8 over a PWM frame (which we will denote as the 9/8 mode), then as \
switch S4 is opened, the inductive motor current briefly discharges across D1 \
(in FTC motors, \[OpenCurlyQuote]briefly\[CloseCurlyQuote] is about 1ms). \
Because the shaft is turning CW, the polarity of the motor\[CloseCurlyQuote]s \
back EMF is such that it cannot drive current through that same route. All is \
well: we drive forward.\
\>", "Text",ExpressionUUID->"74fb369a-c28e-4ad1-abfa-3c663c04d836"],

Cell["\<\
However, consider the case where we had been driving in the CCW direction, \
using, say, the 6/2 mode, so that the motor shaft is currently rotating CCW. \
Then, were we to switch to 9/8 mode, we find that the polarity of the motor\
\[CloseCurlyQuote]s back EMF is the other way around; it can now also drive \
current through the diode, and we find ourselves in a dynamic braking \
situation.\
\>", "Text",ExpressionUUID->"b93ee580-6301-44af-bcd5-0588c21cbcfa"],

Cell["States 4, 2, and 1 have analogous behavior.", \
"Text",ExpressionUUID->"9eb6cbc6-b074-4d79-8d78-39125a5138fa"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". Forward Driving vs Proportional Braking vs Reverse Driving"
}], "Subsection",ExpressionUUID->"95f472b7-ab9a-4bfa-9d3e-042f54fe442e"],

Cell["\<\
The STMicroelectronics VNH5050E H bridges used in FTC use 9/8 and 6/2 driving \
modes. Thus, the behaviors of states 8 & 2 mentioned above are pertinent.\
\>", "Text",ExpressionUUID->"a61c3c81-b2b7-47b1-a420-413a973fa573"],

Cell[TextData[{
 "Suppose we are driving CW, cruising along, forward driving using mode 9/8 \
(the 6/2 case is analogous), having developed some non-zero velocity in the \
shaft. Then, suppose further that our PID loop discerns that we\
\[CloseCurlyQuote]re going a little too fast. At first, it will ask us to \
take our foot off the gas a little, which we do by reducing the 9/8 duty \
cycle. But if after that we\[CloseCurlyQuote]re ",
 StyleBox["still ",
  FontSlant->"Italic"],
 "going too fast, the PID loop will ask us to take stronger measures. What \
the current (August 2018) firmware does in response to that request is to \
start driving in the other direction (i.e. CCW, using mode 6/2). This we\
\[CloseCurlyQuote]ll call reverse driving (reverse in the sense that it\
\[CloseCurlyQuote]s opposite to the direction of the shaft rotation). Reverse \
driving brings in to play the \[OpenCurlyQuote]brake to VCC\[CloseCurlyQuote] \
behavior of state 2. "
}], "Text",ExpressionUUID->"f166fdf0-06cf-4e91-ac86-a405d1d1ffdc"],

Cell[TextData[{
 "The problem is that ",
 StyleBox["it\[CloseCurlyQuote]s impossible to decelerate ",
  FontSlant->"Italic"],
 StyleBox["gently",
  FontSlant->"Italic",
  FontVariations->{"Underline"->True}],
 StyleBox[" drive using reverse driving.",
  FontSlant->"Italic"],
 " This is because even 6/2 reverse driving with only the minimum possible 0% \
duty cycle is effectively (except for a diode voltage drop) a fully dynamic \
braking situation; as we increase the duty cycle percentage, this braking is \
only augmented by additional motor torque actively driving backwards. The \
transition from 0% forward driving to 0% reverse driving is thus a very \
abrupt one."
}], "Text",ExpressionUUID->"6626c97b-5d84-46ff-96b8-6256ee7bd907"],

Cell["\<\
With asynchronous sign-magnitude H bridges such as the VNH5050E there is a \
third mode we can avail ourselves of to help ease this transition: mode 5/0, \
which we call proportional braking. In state 5, S2 and S4 are closed, causing \
dynamic braking; in state 0, all switches are open. A 0% duty cycle \
proportional braking thus is a (zero-torque) open circuit where we coast, \
just we do in 0% 9/8 forward driving. At the other extreme, 100% proportional \
braking is full dynamic braking, just as 0% reverse driving is (again, \
ignoring the diode drop for the moment). In between, the balance of braking \
vs coasting is controlled by the PWM duty cycle. Thus, proportional braking \
provides a transitional regime between forward driving and reverse driving \
that we can exploit to respond smoothly to the PID loop\[CloseCurlyQuote]s \
request for increasing amounts of deceleration.\
\>", "Text",ExpressionUUID->"e32e84ce-acc5-4c89-b6cf-0807e226bfde"],

Cell["\<\
The design challenge is to select the points in the control signal coming \
from the PID loop where we transition from one regime to the other. There are \
four points of relevance, which are as follows.\
\>", "Text",ExpressionUUID->"f683954d-c67f-4c2d-b30f-2ca4c5edd92d"],

Cell[CellGroupData[{

Cell["\<\
R, the point of 100% reverse driving. It is is clear that this occurs at the \
negative extreme of the PID control signal range.\
\>", "Item",ExpressionUUID->"39ba4a60-da43-4995-9c6a-04b71914bf21"],

Cell["\<\
F, the point of 100% forward driving. This occurs at the positive extreme of \
the PID control signal range.\
\>", "Item",ExpressionUUID->"32db8fb8-060f-456f-81c4-d9d2e74a4059"],

Cell["\<\
Z, the point of 0% proportional braking and 0% forward driving.\
\>", "Item",ExpressionUUID->"3b0748be-54f8-4713-bd87-dbe2e64eb37e"],

Cell["\<\
T, the point of 0% reverse driving and 100% proportional braking (we again \
ignore the diode for now).\
\>", "Item",ExpressionUUID->"1e0034db-849c-4554-b613-b23bf9e8fd2a"]
}, Open  ]],

Cell["\<\
In what follows, the location of either Z or T in the PID control range will \
be determined a priori based on external considerations, and the location of \
the remaining point then determined from the other three using arguments of \
linearity. We will examine three different schemes.\
\>", "Text",ExpressionUUID->"111d95c6-f47f-4671-a693-51ade73d64c7"],

Cell["\<\
Some illustrations may help clarify. In the first Scheme A, Z is chosen to \
have an x value of zero and a positive velocity dependent Y value; T is on \
the negative control axis with a zero y value. Use of forward driving is \
illustrated in green, proportional braking in blue, and reverse driving in \
red.\
\>", "Text",ExpressionUUID->"393ade6f-89d0-4e22-a0d3-d2dec809574f"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Clear", "[", 
    RowBox[{
    "plotScheme", ",", " ", "line", ",", " ", "points", ",", " ", 
     "pointNames"}], "]"}], ";"}], " "}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"line", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"x1_", ",", " ", "y1_"}], "}"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"x2_", ",", " ", "y2_"}], "}"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Function", "[", 
   RowBox[{
    RowBox[{"{", "x", "}"}], ",", " ", 
    RowBox[{"y1", " ", "+", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{"y2", " ", "-", " ", "y1"}], ")"}], " ", "/", " ", 
       RowBox[{"(", 
        RowBox[{"x2", " ", "-", " ", "x1"}], ")"}]}], " ", "*", " ", 
      RowBox[{"(", 
       RowBox[{"x", " ", "-", " ", "x1"}], ")"}]}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"points", " ", "=", " ", 
   RowBox[{"{", " ", 
    RowBox[{
     RowBox[{"R", " ", "\[Rule]", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"-", "controlMax"}], ",", " ", 
        RowBox[{"-", "yMax"}]}], "}"}]}], ",", "  ", 
     RowBox[{"T", " ", "\[Rule]", " ", 
      RowBox[{"{", " ", 
       RowBox[{"controlProp100", ",", " ", "yProp100"}], " ", "}"}]}], ",", 
     " ", 
     RowBox[{"Z", " ", "\[Rule]", " ", 
      RowBox[{"{", 
       RowBox[{"controlProp0", ",", " ", "yProp0"}], "}"}]}], ",", " ", 
     RowBox[{"F", "\[Rule]", " ", 
      RowBox[{"{", 
       RowBox[{"controlMax", ",", " ", "yMax"}], "}"}]}]}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pointNames", " ", "=", " ", 
   RowBox[{"{", " ", 
    RowBox[{"R", ",", " ", "T", ",", " ", "Z", ",", " ", "F"}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"schemeAExample", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"controlProp100", " ", "\[Rule]", " ", 
      RowBox[{
       RowBox[{"-", " ", "2"}], 
       RowBox[{"controlMax", " ", "/", "3"}]}]}], ",", " ", 
     RowBox[{"yProp100", " ", "\[Rule]", " ", "0"}], ",", " ", 
     RowBox[{"controlProp0", " ", "\[Rule]", " ", "0"}], ",", " ", 
     RowBox[{"yProp0", " ", "\[Rule]", " ", 
      RowBox[{"3", " ", 
       RowBox[{"yMax", " ", "/", " ", "4"}]}]}]}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plotScheme", "[", 
   RowBox[{"scheme_", ",", " ", "title_", ",", " ", "yAxis_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"scale", " ", "=", " ", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"controlMax", " ", "\[Rule]", " ", "32767"}], ",", " ", 
         RowBox[{"yMax", " ", "\[Rule]", " ", "100"}]}], "}"}]}], ",", " ", 
      "pointsN", ",", " ", "listPlot", ",", " ", "range", ",", " ", "reverse",
       ",", " ", "braking", ",", " ", "forward"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"pointsN", " ", "=", " ", 
      RowBox[{
       RowBox[{"points", " ", "//.", " ", "scheme"}], " ", "/.", " ", 
       "scale"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"range", "[", 
       RowBox[{"x_", ",", " ", "p1_", ",", " ", "p2_"}], "]"}], " ", ":=", 
      " ", 
      RowBox[{"{", 
       RowBox[{"x", ",", " ", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"p1", " ", "/.", " ", "pointsN"}], ")"}], "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"p2", " ", "/.", " ", "pointsN"}], ")"}], "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], "}"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"listPlot", " ", "=", " ", 
      RowBox[{"ListPlot", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"{", " ", 
          RowBox[{
           RowBox[{"R", " ", "\[Rule]", " ", "\"\<R\>\""}], ",", " ", 
           RowBox[{"T", " ", "\[Rule]", " ", "\"\<T\>\""}], ",", " ", 
           RowBox[{"Z", " ", "\[Rule]", " ", "\"\<Z\>\""}], ",", " ", 
           RowBox[{"F", "\[Rule]", " ", "\"\<F\>\""}]}], "}"}], " ", "/.", 
         " ", "pointsN"}], ",", " ", 
        RowBox[{
         RowBox[{"PlotRange", "\[Rule]", " ", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "yMax"}], " ", "*", " ", "1.1"}], ",", " ", 
            RowBox[{"yMax", " ", "*", " ", "1.1"}]}], "}"}]}], " ", "/.", " ",
          "scale"}], ",", " ", 
        RowBox[{"PlotStyle", "\[Rule]", "Black"}], ",", " ", 
        RowBox[{"AxesLabel", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"\"\<control\>\"", ",", " ", "yAxis"}], "}"}]}], ",", " ", 
        RowBox[{"PlotLabel", "\[Rule]", "title"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"reverse", " ", "=", " ", 
      RowBox[{"Plot", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Evaluate", "[", 
          RowBox[{
           RowBox[{"line", "[", 
            RowBox[{"R", ",", " ", "T"}], "]"}], " ", "/.", " ", "pointsN"}], 
          "]"}], "[", "x", "]"}], ",", " ", 
        RowBox[{"Evaluate", "[", 
         RowBox[{"range", "[", 
          RowBox[{"x", ",", " ", "R", ",", " ", "T"}], "]"}], "]"}], ",", " ", 
        RowBox[{"PlotStyle", "\[Rule]", "Red"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"braking", " ", "=", " ", 
      RowBox[{"Plot", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Evaluate", "[", 
          RowBox[{
           RowBox[{"line", "[", 
            RowBox[{"T", ",", " ", "Z"}], "]"}], " ", "/.", " ", "pointsN"}], 
          "]"}], "[", "x", "]"}], ",", " ", 
        RowBox[{"Evaluate", "[", 
         RowBox[{"range", "[", 
          RowBox[{"x", ",", " ", "T", ",", " ", "Z"}], "]"}], "]"}], ",", " ", 
        RowBox[{"PlotStyle", "\[Rule]", "Blue"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"forward", " ", "=", " ", 
      RowBox[{"Plot", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Evaluate", "[", 
          RowBox[{
           RowBox[{"line", "[", 
            RowBox[{"Z", ",", " ", "F"}], "]"}], " ", "/.", " ", "pointsN"}], 
          "]"}], "[", "x", "]"}], ",", " ", 
        RowBox[{"Evaluate", "[", 
         RowBox[{"range", "[", 
          RowBox[{"x", ",", " ", "Z", ",", " ", "F"}], "]"}], "]"}], ",", " ", 
        RowBox[{"PlotStyle", "\[Rule]", 
         RowBox[{"Darker", "[", "Green", "]"}]}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Show", "[", 
      RowBox[{
      "listPlot", ",", " ", "reverse", ",", " ", "braking", ",", " ", 
       "forward"}], "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"plotScheme", "[", 
  RowBox[{
  "schemeAExample", ",", " ", "\"\<Scheme A Example\>\"", ",", " ", 
   "\"\<y\>\""}], 
  "]"}]}], "Input",ExpressionUUID->"b5d0c229-a7ed-4e66-a54a-37aba66d2491"],

Cell[BoxData[
 GraphicsBox[{{{}, {{}, 
     {GrayLevel[0], PointSize[0.012833333333333334`], AbsoluteThickness[1.6], 
      PointBox[{{-32767., -100.}, {-21844.666666666668`, 0.}, {0., 75.}, {
       32767., 100.}}]}, {}}, {}, {}, {{}, {}}, {{GraphicsGroupBox[{
        {GrayLevel[1], AbsoluteThickness[4], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]], CapForm["Butt"], JoinForm[
         "Round"], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-32767., -100.}], 
           Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-32767., -100.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {-32767., -100.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {-32767., -100.}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {-32767., -100.}],
            Offset[{8.494480483301837, 
            7.6040596560003095`}, {-32767., -100.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-32767., -100.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-32767., -100.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-32767., -100.}], 
           Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-32767., -100.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {-32767., -100.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {-32767., -100.}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {-32767., -100.}],
            Offset[{8.494480483301837, 
            7.6040596560003095`}, {-32767., -100.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-32767., -100.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-32767., -100.}]}]}, 
        {EdgeForm[None], FaceForm[{GrayLevel[1], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]]}], 
         PolygonBox[{
          Offset[{23.494480483301835`, 
            15.404059656000312`}, {-32767., -100.}], 
           Offset[{23.494480483301835`, 2.404059656000312}, {-32767., -100.}],
            Offset[{10.494480483301837`, 
            2.4040596560003085`}, {-32767., -100.}], 
           Offset[{10.494480483301833`, 
            15.404059656000308`}, {-32767., -100.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], EdgeForm[None]}, {}, InsetBox[
         StyleBox[
          RotationBox["\<\"R\"\>",
           BoxRotation->0.],
          StripOnInput->False,
          LineOpacity->1,
          FrontFaceOpacity->1,
          BackFaceOpacity->1,
          Opacity->1,
          FontOpacity->1], 
         Offset[{16.994480483301835, 8.90405965600031}, {-32767., -100.}], \
{0, 0}]}], GraphicsGroupBox[{
        {GrayLevel[1], AbsoluteThickness[4], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]], CapForm["Butt"], JoinForm[
         "Round"], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-21844.666666666668`, 0.}], 
           Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-21844.666666666668`, 0.}], 
           Offset[{4.870860362476378, 
            5.703044742000232}, {-21844.666666666668`, 0.}], 
           Offset[{4.870860362476378, 
            5.703044742000232}, {-21844.666666666668`, 0.}], 
           Offset[{6.494480483301837, 
            7.6040596560003095`}, {-21844.666666666668`, 0.}], 
           Offset[{8.494480483301837, 
            7.6040596560003095`}, {-21844.666666666668`, 0.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-21844.666666666668`, 0.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-21844.666666666668`, 0.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-21844.666666666668`, 0.}], 
           Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-21844.666666666668`, 0.}], 
           Offset[{4.870860362476378, 
            5.703044742000232}, {-21844.666666666668`, 0.}], 
           Offset[{4.870860362476378, 
            5.703044742000232}, {-21844.666666666668`, 0.}], 
           Offset[{6.494480483301837, 
            7.6040596560003095`}, {-21844.666666666668`, 0.}], 
           Offset[{8.494480483301837, 
            7.6040596560003095`}, {-21844.666666666668`, 0.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-21844.666666666668`, 0.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-21844.666666666668`, 0.}]}]}, 
        {EdgeForm[None], FaceForm[{GrayLevel[1], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]]}], 
         PolygonBox[{
          Offset[{23.494480483301835`, 
            15.404059656000312`}, {-21844.666666666668`, 0.}], 
           Offset[{23.494480483301835`, 
            2.404059656000312}, {-21844.666666666668`, 0.}], 
           Offset[{10.494480483301837`, 
            2.4040596560003085`}, {-21844.666666666668`, 0.}], 
           Offset[{10.494480483301833`, 
            15.404059656000308`}, {-21844.666666666668`, 0.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], EdgeForm[None]}, {}, InsetBox[
         StyleBox[
          RotationBox["\<\"T\"\>",
           BoxRotation->0.],
          StripOnInput->False,
          LineOpacity->1,
          FrontFaceOpacity->1,
          BackFaceOpacity->1,
          Opacity->1,
          FontOpacity->1], 
         Offset[{16.994480483301835, 8.90405965600031}, \
{-21844.666666666668, 0.}], {0, 0}]}], GraphicsGroupBox[{
        {GrayLevel[1], AbsoluteThickness[4], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]], CapForm["Butt"], JoinForm[
         "Round"], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 3.8020298280001548`}, {0., 75.}], 
           Offset[{3.2472402416509185`, 3.8020298280001548`}, {0., 75.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {0., 75.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {0., 75.}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {0., 75.}], 
           Offset[{8.494480483301837, 7.6040596560003095`}, {0., 75.}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {0., 75.}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {0., 75.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 3.8020298280001548`}, {0., 75.}], 
           Offset[{3.2472402416509185`, 3.8020298280001548`}, {0., 75.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {0., 75.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {0., 75.}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {0., 75.}], 
           Offset[{8.494480483301837, 7.6040596560003095`}, {0., 75.}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {0., 75.}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {0., 75.}]}]}, 
        {EdgeForm[None], FaceForm[{GrayLevel[1], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]]}], 
         PolygonBox[{
          Offset[{22.494480483301835`, 15.404059656000312`}, {0., 75.}], 
           Offset[{22.494480483301835`, 2.404059656000312}, {0., 75.}], 
           Offset[{10.494480483301837`, 2.4040596560003085`}, {0., 75.}], 
           Offset[{10.494480483301833`, 15.404059656000308`}, {0., 75.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], EdgeForm[None]}, {}, InsetBox[
         StyleBox[
          RotationBox["\<\"Z\"\>",
           BoxRotation->0.],
          StripOnInput->False,
          LineOpacity->1,
          FrontFaceOpacity->1,
          BackFaceOpacity->1,
          Opacity->1,
          FontOpacity->1], 
         Offset[{16.494480483301835, 8.90405965600031}, {0., 75.}], {0, 0}]}],
       GraphicsGroupBox[{
        {GrayLevel[1], AbsoluteThickness[4], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]], CapForm["Butt"], JoinForm[
         "Round"], 
         BSplineCurveBox[{
          Offset[{-3.2472402416509203`, -3.802029828000153}, {32767., 100.}], 
           Offset[{-3.2472402416509203`, -3.802029828000153}, {32767., 100.}],
            Offset[{-4.87086036247638, -5.7030447420002295`}, {32767., 100.}],
            Offset[{-4.87086036247638, -5.7030447420002295`}, {32767., 100.}],
            Offset[{-6.494480483301841, -7.604059656000306}, {32767., 100.}], 
           Offset[{-8.49448048330184, -7.604059656000306}, {32767., 100.}], 
           Offset[{-10.49448048330184, -7.604059656000306}, {32767., 100.}], 
           Offset[{-10.49448048330184, -7.604059656000306}, {32767., 
            100.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], 
         BSplineCurveBox[{
          Offset[{-3.2472402416509203`, -3.802029828000153}, {32767., 100.}], 
           Offset[{-3.2472402416509203`, -3.802029828000153}, {32767., 100.}],
            Offset[{-4.87086036247638, -5.7030447420002295`}, {32767., 100.}],
            Offset[{-4.87086036247638, -5.7030447420002295`}, {32767., 100.}],
            Offset[{-6.494480483301841, -7.604059656000306}, {32767., 100.}], 
           Offset[{-8.49448048330184, -7.604059656000306}, {32767., 100.}], 
           Offset[{-10.49448048330184, -7.604059656000306}, {32767., 100.}], 
           Offset[{-10.49448048330184, -7.604059656000306}, {32767., 
            100.}]}]}, 
        {EdgeForm[None], FaceForm[{GrayLevel[1], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]]}], 
         PolygonBox[{
          Offset[{-10.494480483301844`, -2.404059656000305}, {32767., 100.}], 
           Offset[{-10.49448048330184, -15.404059656000305`}, {32767., 100.}],
            Offset[{-22.494480483301842`, -15.404059656000308`}, {32767., 
            100.}], Offset[{-22.494480483301842`, -2.4040596560003085`}, {
            32767., 100.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], EdgeForm[None]}, {}, InsetBox[
         StyleBox[
          RotationBox["\<\"F\"\>",
           BoxRotation->0.],
          StripOnInput->False,
          LineOpacity->1,
          FrontFaceOpacity->1,
          BackFaceOpacity->1,
          Opacity->1,
          FontOpacity->1], 
         Offset[{-16.494480483301842, -8.904059656000307}, {32767., 100.}], \
{0, 0}]}]}, {}}}, {{{}, {}, 
     TagBox[
      {RGBColor[1, 0, 0], AbsoluteThickness[1.6], Opacity[1.], 
       LineBox[CompressedData["
1:eJwVzXs0lAkYBvDRpqOUFCptylRKIrroCHWiSMh1mGGSS0xrTAhbRlM2JF3U
NGstsd2WUBSltqbM96iT7dhTCXNhxnxssk3aYqfdmNHYrz/e857fed7nvPSE
tLCkKTQabRc1X7dsTtQEMUniVmP658lJFtYJYso0BhIHZq3hTzewUDwUv8GC
8lrusG7uBAvbH3J5nAkSzcs4BrsxFu4kClQzx0k8LGUbB46wIPzt0qOof0i0
CXwtyvpZ8I8ZEmgHSaj9Fjm7tLLQUpv5ZUU7CdOB3zlxeSxkRbQqTYUk6Jd4
hLOOCXIbLac9isSMGn2+8WEmmsQVZ8qXkzAXb1VHGSIRvoMrGHqnxqvoLrrN
oUjUWTk4zrqrRpJPyKuhsQi8HF/0oClHjTstC7lL0iMQw+GJOV5q2HpVlMk0
DFy0bDj8r6kae8ymrS/hMXBLYbtwSmcfmMmSexgMR6b6ePbbij7YmsVf0yaF
4xJvRwDJ6YOJ5MHqak0YKsw99eFOfbihj73wNCEM/v/RU65+VmFx/kjW+8FQ
tI+6309tUSG47IVb3u5QNH3fyA8oUKHyfoKoVBaCAI/5eqNgFcRLB5hNUSG4
N68paqOVCg6u0bMOVgWje71n9nZSidz7bd6lNUF4zNFldlQp4c984V/y0y4s
WGo1yEtRImKm99FzRYGgL6FbvnZVYpJx6uTPxQHQrY2jy/W9WPJg/74jR/xR
WCj8UPW0F/2NdjbpuTuRs9fGJV/YC1Ky0xBb6IctkX1BZGQvGG9Nbjtl78Dd
U2edrOi94FZXbjYR+OJLd4bm2VAPxo/8UQGuD+pr7lgXN/TgCY9jd3DPdpg9
ejN9dXYP1nyUFrolboPXkL/cd0sP5hb3ixUMb6wMu5LoadKDUgnRdpzphSxf
Bse7S4HIaaYG59itEIW4+7SVK2Db9efs9F+3YG/lnMFliQp0gNVVXu+JqYZv
4yZXKZD+Zqpn7ml3sK7Mr2zWyhG4Nppx9KwbLJ+nBeZI5KivO/HkUMVGXDbT
97QUyPGJNSx3PLoB5PlDK5VBcgicxyr0Bevw0WFl2EFLOcY8PYwL413ACVw/
SlfK0PF3/SkroSOEt1xCaqplcGt05YZV2+O0ffyZ6ykyFPU7lEzjLMem13lF
J1xlCInNsPmQaougFUbjWTQZzFO7a0vmW2ND7m3f/jYp4sYrb3jUmuO5dQTD
7rwUW7dZ9opERmg3bUl2FUphe0Er8gs0QtuX5bk+56S4PNIZYDA2gmTgU11S
sRT45XxLMp+Gm3Ulk9Unqf6IjfcxGIhzm7qvr8iTghZt0aFi64jQqHAj+0wp
fnAyDP8oGiWCAh7Oc8ug7pWPYiaNRwn/zcsc/Q5QLjr8kssfIbzp2sjv0qj+
09GkfHwg1mlE9bUpVH/NX1o1+x1hwe9krkqk8imds0tFA4R5ivv+TXupPCZY
y+P3EzNjrubtTKDytPKGE1ATU70yGpLjKCvOerxm9xKfTOZ+c3035Rt85gXR
K2JEx18gZlOWvPUU4gXx/v2AU3s0ZXt1+zC7nRjsaGK9Y1HWPRu6Kmol+h9b
p+qYlJ8JNBNsMaFqPpY/46vL9hk3i5oIxTVN2cLIr/+qvGWiK4S0LPSmQwRl
Gq3q4uJWyf/IKqHT
        "]]},
      Annotation[#, "Charting`Private`Tag$42048#1"]& ]}, {}, {}}, {{{}, {}, 
     TagBox[
      {RGBColor[0, 0, 1], AbsoluteThickness[1.6], Opacity[1.], 
       LineBox[CompressedData["
1:eJwVj3040wkcwM1DJNwuSU6TkiuJlBKx7eulhbztVzwl7+V23uKec0bNkrU6
sXlvREqaSt5SKK/fisO8NDLqslzXuRKiTqhrdd0fn+fz5+f5rA2NIcKUlZSU
PL7yv337/Us3+cgweLp6frryLk2rNOxp0j4ZFvcGjjCFIno7+6jOAFOGtLGU
44bCq3Srtck8tqcMNcZz+1SEDXRyXOnh9j0yrJ24ML8g6KRL9F8bB+6S4ZKo
dWlvBSN0Whj7StYaGVpWHvF5I3hJN/mUJV6cGEJFH79xSrBAz/MxD73/yxBW
rhjQOp2mDpHbbhTTlw5hlNl2aYvdciAb/flAXvwIl+9ZyO3WWQW+tidK2WaP
cLJFL+JyhCEoD39W7mgbxJNBhqtEm9aBV/Ffq7X3DmKZIIjnFGQCkWzemoTH
A6iT6B+1eGojTD9SuZwXPYAXrz/tOx1nBmT/qWdVH6TYcSa14XipBRSw6guP
C6TIl41qmvRbwluerUO4sRR7OgY5ZKdtMCTa7SgOfohjmn9YVo9YQY6FnDSW
2o/J8RYlu5g7IHu1gzW5pA/fWuf6JL62BsvNeva85l5UGR5xsefYQKFjrUPA
yx4sE/kvTr6zBUaNfrOFUg/q1SxOeqbaQdt6hjVrowR1J2WFxSpUSJilmYho
3fiCI8kouUgDqfz6uPrBLiyP9wzJ1Qd4P/BE/DylE03h8YF+GYAfZfj3m+d/
Q3Jd9LvnJQ4giBF9M3GvA6lNxq8jgx0h4IVEN3S6HVtqXEg2Bk5wtEqSObik
HcXMxEb5uBN4JGcsK9/yAAd5koEPl50h6rrRvwmM+8gK2ZA2E7MbzOaMm1ND
7qGHxT+HN9gyoG73FIeUjshJHzsvm2OAspwU9tylDcnnRn4OwD1gZV/3UJDf
glOWs+WHuC5w6Zm7vGW2CQ2a2KQiG1fI3JI0NLq+EWtmNT7WKbuBvnBnTzf7
DqY3tHoz2tzApPDsDXFZPUpNua41aXtBUsdK85q7jQfNAy9lurlDhY6pdpLb
LbQ2qlx5S9UDvjXiHSvg3MTEVrUt1VIPoMT196oVVqPymxTxWqEnGKp2sRvn
buBc19LW6ENekL/67I9xQdewqPvLx6Tl3uDsFXxAoibG4AUNRnKsN8w/Yxl8
ZpXgk48GoTHD3nBLR62pcFkRzjOolQU7mBAZ/1DiGp6HTRor1cezmRD4/XsS
Kzodt1+Zs6IsMsG/YKdsvyIJmadfCDN9CXAXWaYG8ZPQ1U3obn2AALs8U2qE
VhI6attqjB4k4LssA/EJCge3nxPyNwQQMPLrl7hy6jHUK7PltB4mgEjoXKHE
jUd5R0b4VCwBGVVV13wV0Rihau/skkbA0fJL5CitaAzt/pv0Jv1rryw74SQl
Cg8JstpyhARoFMe7VFAj0EP35a6xLAL4AtorEvcHtDTJ3hqfT8D7x0VefooA
nHd+ZXhFTECtNHkNn+KPM+o5o65XCYjtOjJTTfXDV73U8zPXCJhs2JyhyvXF
J/tzdO0qCLhvnnghROGBzUdomoO1BFApDtQGqhvWbZzoZt8m4I7mUrkml4FV
UzlnKPUE+I9stY1VUPFi3IRy+N2vf/X3Egy41phvk4vaTQRkbiqNFSjMMesT
jXu7mYAFKX+sU0HBszhh59dKQGmF1b6fdlLbeKdyP3xpI+A/6qFnhQ==
        "]]},
      Annotation[#, "Charting`Private`Tag$42092#1"]& ]}, {}, {}}, {{{}, {}, 
     TagBox[
      {RGBColor[0, 
        NCache[
         Rational[2, 3], 0.6666666666666666], 0], AbsoluteThickness[1.6], 
       Opacity[1.], LineBox[CompressedData["
1:eJwVz3lYzHkAx/GZrI4HNZFjxtkqS6KSipZ8HJGY2WnOX2mxoSlKT5lURAqz
CbuWNldrSFSyLW2H6MDYiugYk2p28lVrkrbG0dDo3Nk/Ps/7ef35sQ2K4O0w
odFobOP+b9yD4OHUt94rVM9nm9Du81AXtGlZMdMOmfEFVw4YTQ92CT3OXAyp
vffKAaMvSNIToplrMCEm+NDnBzxIOhtSdjIF4LFyhrsVPDzLDmPsYG5H3daF
Ay1VPNAsPPlBTCke9yzR/1nHA6vksn4r8wjKzDgdEsKDTX9FTeWHVHg02zGk
dD7M1vbOtJghx/JJdLmXLR/rEoIbLhzPxP6GiORQ8GHCtRBt1+fAd97x4iVB
fPT2jdMoaH/gui53Q2UiHwt8M3m5y/Jxmhtnb7jKh8z131VO3QUocmrxT/mL
jzjzf1wPhhdDEu/Vq37NR3ZTdGWH3V1k7+Aq60wFiDpd4s/KK8XeUsmkw3ME
+KHzemyyQwXiT1kXpnkLsDb97LRk3X1MoIec50gEmOe5+MBt54dwJ4r2RzIB
HISX8t6cVKDL/2kkyRagfHmr/b3Xj/DCT7Ip4IkAM9Ol06V2leAUm90481aA
SzEt2qUJVaBKBF6RY4Toqk5bqH1YjZ65WR7j5gshOGvr85vtE9i4Xd/LZgvB
dU3M+hhXg6hyD4ZutxAs76U/Lrj3FN8X1lqyfxKCrir3iJ5cixaf8XzuLSGK
mtNDMgLr8Gr9pkHreiESGrMiitj1mFXtTlv8TohFQ5IJGf31+Nhevr6fIULN
FkEMLb0BnF0bDQedReg9lLVa66vE8lOy7iyeCFpzbf65z0psW8T/1kUqQlkN
p7087TkmrrJ/F3tGBDv2zH271qjgr7vaub1QhCiLacqUDhXmms9dZ9UowjHH
Uc9ijzbCWe5FY+lFcLL0c+5xeYHHSvpI9UQxSh1q+CrlC+j2PAlydxOjafRN
sjKxCZm3V4z1EYvRMrVk/td2zdAG3mVNiRHj2rlbrAZFM7YcrTrskybGyHPL
KNPIFuz0TVw0/Y4Y8D1/LG+8GiYHsPZWkxiMhBSL1gdqOGy8KX/zRYwcVrCj
OvxvpJy7wU+YSmHeh3ArX0sNYnh5YY2eFJbINAEo1UCfvbmmLpDCAlFMcM7m
VgyH2fycHE+h+8SgTdtQK5AX+PuVixQ8kzrny2+8xPgTftZbyijszqeNqt9A
ENm0Qa3WUNinqX4o5xA8mqLeLWmlIDP9JSnCj2ByQMgovdHyAFsTKzFBmeaI
4zhCod5kFZ0TRGDeXnZwRRsFV/7hkZpYgsvdTrMztRQMvaMHq64R1NJtwsJ1
FL6aUXvvbDaB7eoMWr/RDJ+0/ZJcAukR519l74z/0ucMmN4mYJmxy+XvKQSs
WdfvXUoQPFbGUH6kUJqabFAoCYYmGQrc+yhUl3PvnGkk4FKy9QqjVZ1TYrc1
E2Sct3n5nYFCz7KcPpOXBD7TXMxCv1CYoX38eeVbglTbnf4XByg4WJ0usu4m
eBNk6PlmkILH0oC9bToCz0xZUoHR3JNdnw7pCV7NuZr7bIhCYHF+IbePwDXE
BQHDFELa9kXP6ieQ5VSoOoyWjlnt9n6QoLmLHbpnhEKi25hPFSMEjo6aoRGj
/wNveEqi
        "]]},
      Annotation[#, "Charting`Private`Tag$42136#1"]& ]}, {}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{
    FormBox["\"control\"", TraditionalForm], 
    FormBox["\"y\"", TraditionalForm]},
  AxesOrigin->{0, 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImagePadding->All,
  Method->{"CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotLabel->FormBox["\"Scheme A Example\"", TraditionalForm],
  PlotRange->{{-32767., 32767.}, {-110.00000000000001`, 110.00000000000001`}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.08]}, {0, 0}},
  Ticks->{
   Automatic, 
    Automatic}]], \
"Output",ExpressionUUID->"e2ccd30b-9a61-4977-b31c-49a839f352d1"]
}, Open  ]],

Cell["\<\
In a second Scheme B, T is chosen to be at the origin, and Z has a positive X \
value and a velocity dependent positive Y value.\
\>", "Text",ExpressionUUID->"e852b60c-180b-475b-aff4-f12d0641caec"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"schemeBExample", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"controlProp100", " ", "\[Rule]", " ", "0"}], ",", " ", 
     RowBox[{"yProp100", " ", "\[Rule]", " ", "0"}], ",", " ", 
     RowBox[{"controlProp0", " ", "\[Rule]", " ", 
      RowBox[{"2", 
       RowBox[{"controlMax", " ", "/", "3"}]}]}], ",", " ", 
     RowBox[{"yProp0", " ", "\[Rule]", " ", 
      RowBox[{"5", " ", 
       RowBox[{"yMax", " ", "/", " ", "6"}]}]}]}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"plotScheme", "[", 
  RowBox[{
  "schemeBExample", ",", " ", "\"\<Scheme B Example\>\"", ",", " ", 
   "\"\<y\>\""}], 
  "]"}]}], "Input",ExpressionUUID->"9551f42f-4d36-4303-943c-142a055e48ff"],

Cell[BoxData[
 GraphicsBox[{{{}, {{}, 
     {GrayLevel[0], PointSize[0.012833333333333334`], AbsoluteThickness[1.6], 
      PointBox[{{-32767., -100.}, {0., 0.}, {21844.666666666668`, 
       83.33333333333333}, {32767., 100.}}]}, {}}, {}, {}, {{}, {}}, {{
      GraphicsGroupBox[{
        {GrayLevel[1], AbsoluteThickness[4], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]], CapForm["Butt"], JoinForm[
         "Round"], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-32767., -100.}], 
           Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-32767., -100.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {-32767., -100.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {-32767., -100.}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {-32767., -100.}],
            Offset[{8.494480483301837, 
            7.6040596560003095`}, {-32767., -100.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-32767., -100.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-32767., -100.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-32767., -100.}], 
           Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-32767., -100.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {-32767., -100.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {-32767., -100.}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {-32767., -100.}],
            Offset[{8.494480483301837, 
            7.6040596560003095`}, {-32767., -100.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-32767., -100.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-32767., -100.}]}]}, 
        {EdgeForm[None], FaceForm[{GrayLevel[1], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]]}], 
         PolygonBox[{
          Offset[{23.494480483301835`, 
            15.404059656000312`}, {-32767., -100.}], 
           Offset[{23.494480483301835`, 2.404059656000312}, {-32767., -100.}],
            Offset[{10.494480483301837`, 
            2.4040596560003085`}, {-32767., -100.}], 
           Offset[{10.494480483301833`, 
            15.404059656000308`}, {-32767., -100.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], EdgeForm[None]}, {}, InsetBox[
         StyleBox[
          RotationBox["\<\"R\"\>",
           BoxRotation->0.],
          StripOnInput->False,
          LineOpacity->1,
          FrontFaceOpacity->1,
          BackFaceOpacity->1,
          Opacity->1,
          FontOpacity->1], 
         Offset[{16.994480483301835, 8.90405965600031}, {-32767., -100.}], \
{0, 0}]}], GraphicsGroupBox[{
        {GrayLevel[1], AbsoluteThickness[4], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]], CapForm["Butt"], JoinForm[
         "Round"], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 3.8020298280001548`}, {0., 0.}], 
           Offset[{3.2472402416509185`, 3.8020298280001548`}, {0., 0.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {0., 0.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {0., 0.}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {0., 0.}], 
           Offset[{8.494480483301837, 7.6040596560003095`}, {0., 0.}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {0., 0.}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {0., 0.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 3.8020298280001548`}, {0., 0.}], 
           Offset[{3.2472402416509185`, 3.8020298280001548`}, {0., 0.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {0., 0.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {0., 0.}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {0., 0.}], 
           Offset[{8.494480483301837, 7.6040596560003095`}, {0., 0.}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {0., 0.}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {0., 0.}]}]}, 
        {EdgeForm[None], FaceForm[{GrayLevel[1], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]]}], 
         PolygonBox[{
          Offset[{23.494480483301835`, 15.404059656000312`}, {0., 0.}], 
           Offset[{23.494480483301835`, 2.404059656000312}, {0., 0.}], 
           Offset[{10.494480483301837`, 2.4040596560003085`}, {0., 0.}], 
           Offset[{10.494480483301833`, 15.404059656000308`}, {0., 0.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], EdgeForm[None]}, {}, InsetBox[
         StyleBox[
          RotationBox["\<\"T\"\>",
           BoxRotation->0.],
          StripOnInput->False,
          LineOpacity->1,
          FrontFaceOpacity->1,
          BackFaceOpacity->1,
          Opacity->1,
          FontOpacity->1], 
         Offset[{16.994480483301835, 8.90405965600031}, {0., 0.}], {0, 0}]}], 
      GraphicsGroupBox[{
        {GrayLevel[1], AbsoluteThickness[4], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]], CapForm["Butt"], JoinForm[
         "Round"], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 3.8020298280001548`}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{3.2472402416509185`, 3.8020298280001548`}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{4.870860362476378, 5.703044742000232}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{4.870860362476378, 5.703044742000232}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{8.494480483301837, 7.6040596560003095`}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {
            21844.666666666668`, 83.33333333333333}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 3.8020298280001548`}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{3.2472402416509185`, 3.8020298280001548`}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{4.870860362476378, 5.703044742000232}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{4.870860362476378, 5.703044742000232}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{8.494480483301837, 7.6040596560003095`}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {
            21844.666666666668`, 83.33333333333333}]}]}, 
        {EdgeForm[None], FaceForm[{GrayLevel[1], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]]}], 
         PolygonBox[{
          Offset[{22.494480483301835`, 15.404059656000312`}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{22.494480483301835`, 2.404059656000312}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{10.494480483301837`, 2.4040596560003085`}, {
            21844.666666666668`, 83.33333333333333}], 
           Offset[{10.494480483301833`, 15.404059656000308`}, {
            21844.666666666668`, 83.33333333333333}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], EdgeForm[None]}, {}, InsetBox[
         StyleBox[
          RotationBox["\<\"Z\"\>",
           BoxRotation->0.],
          StripOnInput->False,
          LineOpacity->1,
          FrontFaceOpacity->1,
          BackFaceOpacity->1,
          Opacity->1,
          FontOpacity->1], 
         Offset[{16.494480483301835, 8.90405965600031}, \
{21844.666666666668, 83.33333333333333}], {0, 0}]}], GraphicsGroupBox[{
        {GrayLevel[1], AbsoluteThickness[4], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]], CapForm["Butt"], JoinForm[
         "Round"], 
         BSplineCurveBox[{
          Offset[{-3.2472402416509203`, -3.802029828000153}, {32767., 100.}], 
           Offset[{-3.2472402416509203`, -3.802029828000153}, {32767., 100.}],
            Offset[{-4.87086036247638, -5.7030447420002295`}, {32767., 100.}],
            Offset[{-4.87086036247638, -5.7030447420002295`}, {32767., 100.}],
            Offset[{-6.494480483301841, -7.604059656000306}, {32767., 100.}], 
           Offset[{-8.49448048330184, -7.604059656000306}, {32767., 100.}], 
           Offset[{-10.49448048330184, -7.604059656000306}, {32767., 100.}], 
           Offset[{-10.49448048330184, -7.604059656000306}, {32767., 
            100.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], 
         BSplineCurveBox[{
          Offset[{-3.2472402416509203`, -3.802029828000153}, {32767., 100.}], 
           Offset[{-3.2472402416509203`, -3.802029828000153}, {32767., 100.}],
            Offset[{-4.87086036247638, -5.7030447420002295`}, {32767., 100.}],
            Offset[{-4.87086036247638, -5.7030447420002295`}, {32767., 100.}],
            Offset[{-6.494480483301841, -7.604059656000306}, {32767., 100.}], 
           Offset[{-8.49448048330184, -7.604059656000306}, {32767., 100.}], 
           Offset[{-10.49448048330184, -7.604059656000306}, {32767., 100.}], 
           Offset[{-10.49448048330184, -7.604059656000306}, {32767., 
            100.}]}]}, 
        {EdgeForm[None], FaceForm[{GrayLevel[1], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]]}], 
         PolygonBox[{
          Offset[{-10.494480483301844`, -2.404059656000305}, {32767., 100.}], 
           Offset[{-10.49448048330184, -15.404059656000305`}, {32767., 100.}],
            Offset[{-22.494480483301842`, -15.404059656000308`}, {32767., 
            100.}], Offset[{-22.494480483301842`, -2.4040596560003085`}, {
            32767., 100.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], EdgeForm[None]}, {}, InsetBox[
         StyleBox[
          RotationBox["\<\"F\"\>",
           BoxRotation->0.],
          StripOnInput->False,
          LineOpacity->1,
          FrontFaceOpacity->1,
          BackFaceOpacity->1,
          Opacity->1,
          FontOpacity->1], 
         Offset[{-16.494480483301842, -8.904059656000307}, {32767., 100.}], \
{0, 0}]}]}, {}}}, {{{}, {}, 
     TagBox[
      {RGBColor[1, 0, 0], AbsoluteThickness[1.6], Opacity[1.], 
       LineBox[CompressedData["
1:eJwVlGs01AkAxf9pR7VeW6SWVVpx9NiQRzbUUFMq5D3DKEMMZrHTltdWg0jJ
0WqaEaYiGdpWGkxbVP7XJgqr8hixdoaKWCUOHXZorP1wzz2/T79P964L/dE7
XI0gCPeF/N+pthqfyHkFKiTc6fl5BgTHVz9z/KwAV2tL0jIVA6XVpldrlApY
cUaVK+YYaLWi0qo/KSA1YatMZxhYvSVOWDqqQG0uk+I2zkCFmcI2u1uBJyf3
6Ob1M9C3qjo+8I4Cfa7fWFjWM7BNGTgzdVgBjYEmNus0A4eJ3ZduSOQwKYwm
LZR0FLYQsQotOTTLZtMoJ+jQt+wQu8X+Dd1aqjxA5Q9V14446/o+dAV2rDNK
8AfhzEsvW9uHSJrny6EZPxz74L9JyP0L9x4ZcNZy/WBkTbOQNvTC1FmUJxvx
Rb/TkmOs9b04oq1uLYj2hd75UI+M+B4ERdX9jrc+CBFdjPq+8xXMtENKJ8N9
MEiTDRjZvoJ2Xc0m8Yg3eq2kEyfOdaNqNrjgSag3hl+HO0e8k8Esbfz4+7de
iOySmLfay+Cf12Z/OsgLa0KWx4Rmd0F8P5SfK/PEWCVt4syHTjR8O0CvDPCE
xW5dLRNqJ3bYBmrFlxxEpkga6X6tA4L7jS65ZR7wtfnInBhrB4vetl8gdIc/
e2d5o0s7OJouvF/OueHooSOOG4pfYqXf+czL2QfwWWgcRpl6gW01MRGnTu3H
jUuVLbFeL6CUmBpxk/dB5Ssx1g17DmXdPlVwhivyKZY9Dl+24ejw0qrvEveC
TaUvT25qRab4itPSk3ugr5Ik3o1qwWpeiwgcGqzHbAs8VjRjMJptGn94N9Ii
Qx3U2p/C52NXhn3YLtwNr9f4Nb4Jdtn9ta98XWDwoYnJ2dqIh3Vk4xm6M96X
/ht+YaoBPHUNlUUwFUVvDhWKRY/B7Xitw72xA2dvRTG6A/6AeT2jI7/cEZ5T
ZdS5OeDp4BeOyVnbkZdj6JUQS6LcKtCXd8EeP1x1Ej74+BCat84+ThDZQU3S
sG1oey0YAaPdm3k2mJcV9NCk9zBsMSOaTd8KLJb1ZE1LEebkQMkIsUSQMMLj
8t4q3B8rP78yZzNq4nPS72TdgXmlLcdbbI5dbYYbPhveQuLARoE6ez3yPGit
0qViuLJ+MhqLNUZxniFjWrsIxtzOm4JVX4PTl+Cs5S0Ed/bKbw43v4J71Ujh
/KkMsPbq9fL5i9DAfVu6ZH0GiGuTfFe3Rdhuobit03wGRVPtB1SURTAr73yw
Vn+Br198FJVEgCglu3dWpCFl2sglFSqyOl+okyJPQQpL90UfU0laq6WpCF48
YKUavcSfII2TEzWXN8cB8oeH5ikTpOZcjME6/QXOOvGckzRODn1i2DlXHENK
60R4GsbIgpEtsalyLlJs3k3Kmf+QRPHdB4t5bBDq7Tq5/AGyV1TUbaIfvuA7
OBmd1E9WC7Mmd1UcARGXf/ss5CQ7M2RTupwFQn7B4Q2zlywYMLBbxlvYpSSJ
XsB/Sbp3jcfsq/AB0TjsmIM2knjWKM6Ue4KwlDePMpvJP1mDG/V4e0AQz4aK
+fWkjevFAoGcCqLz5Mgcs5a0Cf5ZbyPPDkRJBEXKryTVgkre+fHMQIyXuMj4
18mkerZKMEIjF66s5Nqa+rr/AB6kl/Q=
        "]]},
      Annotation[#, "Charting`Private`Tag$42652#1"]& ]}, {}, {}}, {{{}, {}, 
     TagBox[
      {RGBColor[0, 0, 1], AbsoluteThickness[1.6], Opacity[1.], 
       LineBox[CompressedData["
1:eJwVj3k01AkAxyXajdDzRGTDlhyDnGkY5tvBMmYY/LBjWuXOldTbcqytUcqO
Xk1LlLyeGOfMOrZJ5Jiy5GiSY34pHdJirRz1Uo7SW/vH933++L73ee9jFJbo
F6mooKDAWt3/LBHb+Sc5utAvzX5u+imr2VXrWQp7XqaH/BfMuWCLAvoftvmj
jTJzFEVcfmVkUUVPGTGuKpQ5oaTCLlDZ4i59xCFB/aKMgdIeJc0FSg9dc1Rw
75wsGGXcmbk5yjBdXF+se0YWCxPhaMg0ZYqecpPizpOl4nAXN2+KskzvLK7S
WD+TjYD4mog6N1WsO7sgrW3NRdgC1TB0rxbuVGbF90ZcByH00im/p4dqPpd6
lXUTOiz58clxQ3iXhrhYioS4ci7ngt/O7ZgMsz4yxq7A+YjFy1ZSE6gUUDm5
4yL8uDjPjXGlYPm2lVsFrQZNjIzAFJ4VjjktWc0l1KG7aPhGurINvDf0Ozdv
vYX0tGZzM7EtZgvaS5U7JTCymdp8lmEP1TSDHYdy6vG1IXZFZ8MuXGK9K5tG
A4yL7FLzahwhSDJ15WveRSbHZ4Z1ggrC7xdb4fMmyGfq2yT2zjht7G7yLrMF
CaNR1utIGswYJ21ZhBT08phcwVVXFFprGMzy7sEyKrhL0QB4E6Ft3Rp3H0Oh
lfc5a/eAf1KUyPRtwxJja3zW33sQeSat5rjJX5CG3wkTS/ZCYfep1BKNdgjH
U+Tx+fvwaLzFLX6yHZT8Q79/H7cfK0l8+ofmDlB2JaypdXLDdBm/PaPkATxd
S94+2+IONbLDU5TaCZUTK0ZLM+6YFdkHvwjvwr/avEFJ/w/YGWpz7aFHN1xK
zXd51HmgVCPmqf/WHuwOXxzr43niWZS8eEz5IXz4c+qfwhnYcyc1Qf3VQ6iO
qmRudPSC6kR11Kc6GejGTLHiOiZyWrTfTuQ/wqWBeu/LE0z4XGxMPHqkF5k1
bi6bGljo/kZwSjHoMfI+rpQ5XPeGc0tfp/bmPjDjhg94JfqgLdIwOjujD7To
2dBCAzYq36xnKn3qQxhLyT9UwIbZi4113aH94HhZTBUtsbG+qo6b86QfIyuT
rdVxvtCLvvYdzXMARuW74yue+6K96MZBG8kA7A8XSPX3+6G32uUfc9NBDL0U
sA/e9kMSdXn2aO4gvOKundc38IfbrRW1vK+DSJuzz+8454/kNdePSZPkoJpG
jtEWVn9ZQJDDSzl6ksuHrA4R8J7MtNg0IsdIOS9pbRiBQKX6NR9fyzH/hKv6
NJxAFE1bLBmTQ99hI50XTSBL/ETBflqOxPfJZYNHCPRcCKqy/SyHZizj5+T0
VR+Ls7JTlwSHO6PZVrDqi/ltQGMLiQR+pzivkEBIZmP5nD4JXuNN97gbBBJb
dP1qDEmIdAJTtYoJCCyHy6xMSXwZbB2NqiQwoMZlWzqSKGIKalUbCAybZRur
UUlI0mIZrxsJvHFrWp52ItFVtX9M0kTgQ/qWUrErifffLumESAlozT5foriT
2NcReqr2AQF9lQ2PVT1IBM0762Z2Edi+gyZ860kibpv2LU4PAYeQQm8Ri8QV
Xs+EYi8B11TZtmwfElW1wtNDjwm4531ZjPUl0Tryq564f7X3T4tehj+JAXWO
5PTgam/vgRLzABITLnbeASSB/wARCUNq
        "]]},
      Annotation[#, "Charting`Private`Tag$42696#1"]& ]}, {}, {}}, {{{}, {}, 
     TagBox[
      {RGBColor[0, 
        NCache[
         Rational[2, 3], 0.6666666666666666], 0], AbsoluteThickness[1.6], 
       Opacity[1.], LineBox[CompressedData["
1:eJwVx3k4lAkAx/EhthqbqF2JknZ5RK11NeNRm5/NFD3NrtG8R1qJ6djtWUcH
0b2OjYrFlKQ0XSoqk57aLq0HkzwtUvadYczMS7srVI5KhBn77h/f5/t85sfE
h28y5/F4Yq7/zxRKyj0IBv7ZNSTBSLHbUzzDjGRgvybZrpSzkyokScN52N5T
Pc55c3/gsnSawZ2LJ4mLailGRJ5N+nUMBJUJ0ncaKea84/flxjDwe+UUnqeV
Ikas+mo4noFX6B5xIytFn5nweu1hBu6WfsGiXimERE+TQcXgaUAtf4RHoGFz
mZfzGIMWa7LK3Y7AaL+1k8RLDWOHwnLQgwAtg6fFVjX0CZNd9wQRMD9+cL9e
oYaDYrtPOklAdyN70F+rxrQjY/ZhsQS+C142kDZTA9fEJXkVaQSmFRg9h0I0
OGXcP5xXSGD8WVZud6oGdcs7BIuVBPwbXHzM72kQtkC0kVIR+HSZLMqqTwMT
P/rL6W0EbIrilAVurZBdLXqQ1U8g+lZmYEhkK1x7NUFpFiQ678a/3XOiFcVd
PucCHUmM+o16KZpbsaQzOD/Pm8SGeLmy27INgt0R22JWkBiSfwy7FdiGl83Z
7h9+IKFJivO5lNiGoUeqp1O2k+hZfkPgcKMN95Nnf2/IJCHPPF63r6cNF9xd
N4QqSBw+klUweZ4Wvcl+Ub63SFQkr8qauVaL7oxoYccTEq4uDpWi37T41jvf
aNVBwntl9u4tKi1qtClE43sSsdLGdVYmLT4GHfhVYkXhw7w5+xjfdhxdmVki
daZQzgir58e1Q81XFjsIKUyYD+dGXm6HqOGoW5KYQnGf6myVrh22i+IUYTEU
tqqiWi7Y6XAsNHbgTTKFdHrqivLVOuywTPian0NBuJEMvvKLDslV7rzK8xRm
RyRscnmgg5/QrMzrHoUQ65N1dQM6rBbrglyaKFy+lrPqlYcejvOZm9p/KKyZ
KrcWROuxUv7M1maUwgl9wPqEAj0KJ2WYt1vTsDqtbF7UrMdZb7LhR1caDfa+
adM/McDS5JGeGECj8kAavRMGOGfO/VwkoSFav+tefYoB0TaPhWVbaDiOpUQs
VxpgEuwMydlLwzk11Ak9BoQ7BvosltPY/tjtC9k8FpPOTOOvu0IjMr20IlHK
Qusk32H3kMauhSMyfg6LLZGC34+10DDkEuSjWhaSAH1XXjeNF2fe4LaKRabN
UkU/565rGQtLHrGo6iqixD00+upv8zIes/CU0/VTemkYeXZXg/9kwX/dUnrg
FY0529QTtc9ZqIqf/BzbRyNCQpXWdLIQmt19G/KexvqofvnNFyziNHZXL3GO
iT20//zfLEquJ8oshmhszbqzJvVfFp9F+P5VxTmlepYpqIfFwM3y24JhGoXe
reHVAyzKNpYku4zSOB2Y8E3FIIvOAAvvVM5nxVMWnHvLwt5W1sNyvvKTv/Hg
exaHHjpHnBqjcedc4WWMsJDZnV4yw0jjvtIr3+sji6LXo+/iOf/xsH6v8yiL
ZzVrrzVyrmsbkfDGWSB+1twsE40nL3OXDnDeJUpiujg3DS1w6zCyKHdksoMn
aDyfVG3bbGLRNei74jxnte3a8aoJFnPr800TnP8D8D5YTA==
        "]]},
      Annotation[#, "Charting`Private`Tag$42740#1"]& ]}, {}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{
    FormBox["\"control\"", TraditionalForm], 
    FormBox["\"y\"", TraditionalForm]},
  AxesOrigin->{0, 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImagePadding->All,
  Method->{"CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotLabel->FormBox["\"Scheme B Example\"", TraditionalForm],
  PlotRange->{{-32767., 32767.}, {-110.00000000000001`, 110.00000000000001`}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.08]}, {0, 0}},
  Ticks->{
   Automatic, 
    Automatic}]], \
"Output",ExpressionUUID->"7b524132-e1cf-4518-bcb6-b07f68d0bc68"]
}, Open  ]],

Cell["\<\
In a third Scheme C, Z is chosen to reside at the origin; T has a negative X \
value and a velocity dependent negative Y value\
\>", "Text",ExpressionUUID->"f83a4cbe-03bd-4ba2-b0e3-c58b56469323"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"schemeCExample", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"controlProp100", " ", "\[Rule]", " ", 
      RowBox[{
       RowBox[{"-", " ", "2"}], 
       RowBox[{"controlMax", " ", "/", "3"}]}]}], ",", " ", 
     RowBox[{"yProp100", " ", "\[Rule]", " ", 
      RowBox[{
       RowBox[{"-", " ", "1"}], " ", 
       RowBox[{"yMax", " ", "/", " ", "3"}]}]}], ",", " ", 
     RowBox[{"controlProp0", " ", "\[Rule]", " ", "0"}], ",", " ", 
     RowBox[{"yProp0", " ", "\[Rule]", " ", "0"}]}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"plotScheme", "[", 
  RowBox[{
  "schemeCExample", ",", " ", "\"\<Scheme C Example\>\"", ",", " ", 
   "\"\<y\>\""}], 
  "]"}]}], "Input",ExpressionUUID->"bf8d8440-3a74-43a2-8e4c-7ac012e375c2"],

Cell[BoxData[
 GraphicsBox[{{{}, {{}, 
     {GrayLevel[0], PointSize[0.012833333333333334`], AbsoluteThickness[1.6], 
      PointBox[{{-32767., -100.}, {-21844.666666666668`, \
-33.333333333333336`}, {0., 0.}, {32767., 100.}}]}, {}}, {}, {}, {{}, {}}, {{
      GraphicsGroupBox[{
        {GrayLevel[1], AbsoluteThickness[4], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]], CapForm["Butt"], JoinForm[
         "Round"], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-32767., -100.}], 
           Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-32767., -100.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {-32767., -100.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {-32767., -100.}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {-32767., -100.}],
            Offset[{8.494480483301837, 
            7.6040596560003095`}, {-32767., -100.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-32767., -100.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-32767., -100.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-32767., -100.}], 
           Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-32767., -100.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {-32767., -100.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {-32767., -100.}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {-32767., -100.}],
            Offset[{8.494480483301837, 
            7.6040596560003095`}, {-32767., -100.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-32767., -100.}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-32767., -100.}]}]}, 
        {EdgeForm[None], FaceForm[{GrayLevel[1], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]]}], 
         PolygonBox[{
          Offset[{23.494480483301835`, 
            15.404059656000312`}, {-32767., -100.}], 
           Offset[{23.494480483301835`, 2.404059656000312}, {-32767., -100.}],
            Offset[{10.494480483301837`, 
            2.4040596560003085`}, {-32767., -100.}], 
           Offset[{10.494480483301833`, 
            15.404059656000308`}, {-32767., -100.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], EdgeForm[None]}, {}, InsetBox[
         StyleBox[
          RotationBox["\<\"R\"\>",
           BoxRotation->0.],
          StripOnInput->False,
          LineOpacity->1,
          FrontFaceOpacity->1,
          BackFaceOpacity->1,
          Opacity->1,
          FontOpacity->1], 
         Offset[{16.994480483301835, 8.90405965600031}, {-32767., -100.}], \
{0, 0}]}], GraphicsGroupBox[{
        {GrayLevel[1], AbsoluteThickness[4], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]], CapForm["Butt"], JoinForm[
         "Round"], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-21844.666666666668`, \
-33.333333333333336`}], 
           Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-21844.666666666668`, \
-33.333333333333336`}], 
           Offset[{4.870860362476378, 
            5.703044742000232}, {-21844.666666666668`, -33.333333333333336`}],
            Offset[{4.870860362476378, 
            5.703044742000232}, {-21844.666666666668`, -33.333333333333336`}],
            Offset[{6.494480483301837, 
            7.6040596560003095`}, {-21844.666666666668`, \
-33.333333333333336`}], 
           Offset[{8.494480483301837, 
            7.6040596560003095`}, {-21844.666666666668`, \
-33.333333333333336`}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-21844.666666666668`, \
-33.333333333333336`}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-21844.666666666668`, \
-33.333333333333336`}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-21844.666666666668`, \
-33.333333333333336`}], 
           Offset[{3.2472402416509185`, 
            3.8020298280001548`}, {-21844.666666666668`, \
-33.333333333333336`}], 
           Offset[{4.870860362476378, 
            5.703044742000232}, {-21844.666666666668`, -33.333333333333336`}],
            Offset[{4.870860362476378, 
            5.703044742000232}, {-21844.666666666668`, -33.333333333333336`}],
            Offset[{6.494480483301837, 
            7.6040596560003095`}, {-21844.666666666668`, \
-33.333333333333336`}], 
           Offset[{8.494480483301837, 
            7.6040596560003095`}, {-21844.666666666668`, \
-33.333333333333336`}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-21844.666666666668`, \
-33.333333333333336`}], 
           Offset[{10.494480483301837`, 
            7.6040596560003095`}, {-21844.666666666668`, \
-33.333333333333336`}]}]}, 
        {EdgeForm[None], FaceForm[{GrayLevel[1], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]]}], 
         PolygonBox[{
          Offset[{23.494480483301835`, 
            15.404059656000312`}, {-21844.666666666668`, \
-33.333333333333336`}], 
           Offset[{23.494480483301835`, 
            2.404059656000312}, {-21844.666666666668`, -33.333333333333336`}],
            Offset[{10.494480483301837`, 
            2.4040596560003085`}, {-21844.666666666668`, \
-33.333333333333336`}], 
           Offset[{10.494480483301833`, 
            15.404059656000308`}, {-21844.666666666668`, \
-33.333333333333336`}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], EdgeForm[None]}, {}, InsetBox[
         StyleBox[
          RotationBox["\<\"T\"\>",
           BoxRotation->0.],
          StripOnInput->False,
          LineOpacity->1,
          FrontFaceOpacity->1,
          BackFaceOpacity->1,
          Opacity->1,
          FontOpacity->1], 
         Offset[{16.994480483301835, 8.90405965600031}, \
{-21844.666666666668, -33.333333333333336}], {0, 0}]}], GraphicsGroupBox[{
        {GrayLevel[1], AbsoluteThickness[4], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]], CapForm["Butt"], JoinForm[
         "Round"], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 3.8020298280001548`}, {0., 0.}], 
           Offset[{3.2472402416509185`, 3.8020298280001548`}, {0., 0.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {0., 0.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {0., 0.}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {0., 0.}], 
           Offset[{8.494480483301837, 7.6040596560003095`}, {0., 0.}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {0., 0.}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {0., 0.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], 
         BSplineCurveBox[{
          Offset[{3.2472402416509185`, 3.8020298280001548`}, {0., 0.}], 
           Offset[{3.2472402416509185`, 3.8020298280001548`}, {0., 0.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {0., 0.}], 
           Offset[{4.870860362476378, 5.703044742000232}, {0., 0.}], 
           Offset[{6.494480483301837, 7.6040596560003095`}, {0., 0.}], 
           Offset[{8.494480483301837, 7.6040596560003095`}, {0., 0.}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {0., 0.}], 
           Offset[{10.494480483301837`, 7.6040596560003095`}, {0., 0.}]}]}, 
        {EdgeForm[None], FaceForm[{GrayLevel[1], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]]}], 
         PolygonBox[{
          Offset[{22.494480483301835`, 15.404059656000312`}, {0., 0.}], 
           Offset[{22.494480483301835`, 2.404059656000312}, {0., 0.}], 
           Offset[{10.494480483301837`, 2.4040596560003085`}, {0., 0.}], 
           Offset[{10.494480483301833`, 15.404059656000308`}, {0., 0.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], EdgeForm[None]}, {}, InsetBox[
         StyleBox[
          RotationBox["\<\"Z\"\>",
           BoxRotation->0.],
          StripOnInput->False,
          LineOpacity->1,
          FrontFaceOpacity->1,
          BackFaceOpacity->1,
          Opacity->1,
          FontOpacity->1], 
         Offset[{16.494480483301835, 8.90405965600031}, {0., 0.}], {0, 0}]}], 
      GraphicsGroupBox[{
        {GrayLevel[1], AbsoluteThickness[4], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]], CapForm["Butt"], JoinForm[
         "Round"], 
         BSplineCurveBox[{
          Offset[{-3.2472402416509203`, -3.802029828000153}, {32767., 100.}], 
           Offset[{-3.2472402416509203`, -3.802029828000153}, {32767., 100.}],
            Offset[{-4.87086036247638, -5.7030447420002295`}, {32767., 100.}],
            Offset[{-4.87086036247638, -5.7030447420002295`}, {32767., 100.}],
            Offset[{-6.494480483301841, -7.604059656000306}, {32767., 100.}], 
           Offset[{-8.49448048330184, -7.604059656000306}, {32767., 100.}], 
           Offset[{-10.49448048330184, -7.604059656000306}, {32767., 100.}], 
           Offset[{-10.49448048330184, -7.604059656000306}, {32767., 
            100.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], 
         BSplineCurveBox[{
          Offset[{-3.2472402416509203`, -3.802029828000153}, {32767., 100.}], 
           Offset[{-3.2472402416509203`, -3.802029828000153}, {32767., 100.}],
            Offset[{-4.87086036247638, -5.7030447420002295`}, {32767., 100.}],
            Offset[{-4.87086036247638, -5.7030447420002295`}, {32767., 100.}],
            Offset[{-6.494480483301841, -7.604059656000306}, {32767., 100.}], 
           Offset[{-8.49448048330184, -7.604059656000306}, {32767., 100.}], 
           Offset[{-10.49448048330184, -7.604059656000306}, {32767., 100.}], 
           Offset[{-10.49448048330184, -7.604059656000306}, {32767., 
            100.}]}]}, 
        {EdgeForm[None], FaceForm[{GrayLevel[1], Opacity[
          NCache[
           Rational[2, 3], 0.6666666666666666]]}], 
         PolygonBox[{
          Offset[{-10.494480483301844`, -2.404059656000305}, {32767., 100.}], 
           Offset[{-10.49448048330184, -15.404059656000305`}, {32767., 100.}],
            Offset[{-22.494480483301842`, -15.404059656000308`}, {32767., 
            100.}], Offset[{-22.494480483301842`, -2.4040596560003085`}, {
            32767., 100.}]}]}, 
        {RGBColor[0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
          AbsoluteThickness[1.25], EdgeForm[None]}, {}, InsetBox[
         StyleBox[
          RotationBox["\<\"F\"\>",
           BoxRotation->0.],
          StripOnInput->False,
          LineOpacity->1,
          FrontFaceOpacity->1,
          BackFaceOpacity->1,
          Opacity->1,
          FontOpacity->1], 
         Offset[{-16.494480483301842, -8.904059656000307}, {32767., 100.}], \
{0, 0}]}]}, {}}}, {{{}, {}, 
     TagBox[
      {RGBColor[1, 0, 0], AbsoluteThickness[1.6], Opacity[1.], 
       LineBox[CompressedData["
1:eJwVx30wlAkAx3F6mVPk5VqS3qxClEvKldeeZS2tl9hl7SpFtIiYFoXbSbck
vXgd02k0lzoVzmvUdfLy4+7U7Y1JePaF5ckkE7kklVgv5/74znc+9JMJnFMr
NDQ0fJf7/zIDwXzbEoVkU++5pSU+7MShxWOLFL5oJanrFvnIGQ3fv37Z56Zu
zYcv8MF8ejpOOE8hpeP94h9zfDREilU6sxTEkYUrsz/zkf/b7WbBRwqZ5Uod
/Xd8sENHxdMjFIpso7eZyvhoKU9csJBSeEhcYhJVfCQFtQ9o51MwOu1lnRzA
B+WukSYVUPjGZCG4Zj4Y9U0l12/uoBD2knQtqAgG1/O0eHR8CMMFB9qjjwSj
wtB697pHQ3ivuHqNqebhxezm3+vThmBmFTVFK+UhVBjXJGQMARej9PNYPPxM
q/7hs/YQxo8Lzq+bDkKtwtRkRc8gHFl9qReLg5A4dCnlbckgDBuJP2fcg3A7
ztObEg7iqNXLZ8ZTgSjRd1ZzbQbx/MG48LufAsH+Qo+9O6NCW9VnXy/3QEin
HJ/Et6hANV3p5r3loj65LtU7U4XoboaOXh4X3k4b1JpHVBDHvcv7x4mLx0b1
gu8NVXhisLVWPMxB3z7nFCY1gIsubkZ2ORx0COcSu8sGEC+aNFbt5cDYzHAk
LnYAz2rQt0cRAPo2Ou21/QAqz2YoLmcGYG5vGF2u7scjlxfn+6wCkJWV/77s
r36w83VOmJP+SIvYYpuRv+zxM0vbJP5w5Q36Ubx+iHz5Tno7/fHoaq6NIb0f
rPjoC6vLj2ChTzT2fFQJNdeuhZzyQ9WDho051UpIvJjxs65+0G1+s2ZXihJb
2Q615sW+YIyy5SxXJXSOE5ZOr31gybkT6aylhF669R6Bow+SWIFCt14FRmqO
VUiLvFHo7+jReVOBtVOlIebDbETcMhjZHqkAi3heku3AxqrFTWFLVgp039Gk
kRmHwb+z4VbjtBwJ+ls3W/d7gdaV4JPWKsdIjuRGzz4vlOqqlS2ZctzfMusZ
me4JquC85YCfHBeaOFcWZSxMWltyztHkKI9p1ZSYsiD02TdFH5DhF0vRBP+M
B/Jrbf0f3JOh8aNW1MFOJq7tDL9eGSuDUXe9saYBEw6vJdmX7WXIbXIJ6Yly
h5+F5myShgzyBgPdmXY37E9/yHrVSULUNvN1la4bujYGBZoXkDBTIHGTkAGp
dkuMfT6JOAtpnU0EA50LO9I98kg8TOr991AYA63DnypO5ZBwNRiNigxhoKai
aOneFRI8tvaxaj8G8hz6Ki0kJK42BzEPHWAgQMDV3JlI4mPpOC1CiwE/76dG
B0UknCenA5JXM8B22b7b6ywJictC7uUVDLjRp3nRCSR0+/XWVM0TsBsrrCqP
JWGx3n7h0wcC61N7gq0iSYRcSn+TpSSgH+t4xiGCRFlvttlNGQGd0LuSwydJ
jNMLT/zaS2AVQ1QdE0biXGuZ8kUXgU9a366sPEYid+bvLuMOAh/mUo2bjpLo
8+hdu6uNwMTEsI00hIRJkcrTpZnASHc9f5xP4r7tZHv4YwKvOjbGzwWTmLjw
dTGxgYCq8ceMtcve36XpnFVHQHF/rNiERyJtk3ZqcTUBsjigxjqIREcM7XFl
JYH/AHLhmKo=
        "]]},
      Annotation[#, "Charting`Private`Tag$43256#1"]& ]}, {}, {}}, {{{}, {}, 
     TagBox[
      {RGBColor[0, 0, 1], AbsoluteThickness[1.6], Opacity[1.], 
       LineBox[CompressedData["
1:eJwVlHs0lAkAxT9KCGVXnU2aTDvI+5nHpGF0pFYyJ9XsZscjJRUmHTIS05TF
aps8ykHKTo1hqNUaoaj9rmLVsDUeM1Q7ihVLWnXyamu09o977vmde37/3nVR
R0OitQmC2LGQ/5v9mCO23aOEecd0eXU1E0bi6Ofpu5QQ1a2t+L6KiVYe16Rr
pxLUy1srDaVMuK0TZPCClaDFl1RxJUwYJ4n3t25VYv1yRo2riAm56TgtfKMS
Trt+aGwqZMInmleeb66Ez/Mv5XIBE5af8iVzY70Ie+00Oc5monCPQ9T9473I
tBmp8p3zRazr9TJf/V4czGHpyIJ9YUwdeqAu64HZHNHDk/qATT8l5tn1gHqi
tc9qigFt1bx2G9kNum5s3MB2Blhlw2uWbe+GuJLmdapwE2J5GeYp/V14ybZI
ThzyxpuexdcK47vgaqLnn+DtDWPOxEDNBwWUg5pt7KyNKIlpKD0pVEB4T6X2
V9PxLoPud5imwCrp7HCWJx29RVs2SyKf4H25LU2W4YULjmqtFzmPMVzDfPfq
uScK1vh5GF/9AxYdh2a0rTzhbP/Vpoy7nfCa6Y9PTPRA6WaZX9hoB6Ic7Y9P
dLoj4FfTu45EB56l5NcFr3IHaRHgEWMtx2HF09N3jm5AylsfyyKfRwjYuCHb
6I4bFOqqV3p7H2JOppq/peOG6a6nksEz7YAXZ0l0uCtCKapntZd+h0rx3n9e
6gLh0aLlYy1tWJTMNRF9dkbYX/KVUW9ascjWZXfhXmdwa+R53UtaUf7SoHg0
0Ak7BLkG1U4PkJB9srL+XwfEVVE/pgTcR3/Ickv2eXvYTdHu5uxrwbi3W/YV
azvUb5lI0zoHWPlS9Gee2UBbrRU9uI0EEWP3gXrMGm6b6p8Ii+9Br+qzXpj5
eogGgtT33jajQe+AxrfXEnlO6b1/WjRBWzgRMR1nAdPznh2PeLeRauc91Eyh
wbL07HVJRQPy/vmle7dsHeT1MT+xpm5B1TEyNB9OxQ0Tm2XpgXVIE0bc/Nli
Lb6gZqSWpNXiXCf9+EiIGShJjzt1S2/ik68olVW7Cmt1HvKapq5D9CmYE9a3
EsVrzh5KipDi4hRF985SE/izIr+T60owTD3xzoNrjJmBGLP5mKvot6cn1Lka
oM5Et7nU4DLyBMVpjDEdxCY/kX9zuBBzgV5m+5sIhFtNa8XEn4OI1TVc7j5D
cko8lbs16WDWt31tyh0lg4qccyIy00HwJx9EGo+S3oU2jCNG6UCAabRUNkKu
zjeTnKKkgdkfV+k5+4rs+/FzUjUjFcRHE3u2YJgMSWlfQfCTAWaU+4WCQTK3
pkbK1sRDUKzJXc3tI7nVIuM4o3gQtju7q2QqMqiiIOU0JQ6C5vIV9FklubQs
edsNxhEQA9tLvhX0kplCn7+1+AdBWFy6drGgi5zuv8wK1YSBCI8/QuG2kzKF
wDyTwgFxZsWk92wbmfDwwORNRiiI8ubEUEEr+brRPleHzwYxrp9eVNBC3nc4
cWWfZscCB5nTuI0kg+LHaGQEgnAutY4U3CJvG+qrDfkBIJLHXK4U1JKcPhd6
goYBYrFhjiO3kgxpaEkx43uAyJOWSguuknm24gShxmHBP8vZwi0iZxWZL9o1
lIU9a1EiN5sU33DbdcyTQS5cmTO/p+K3/wBjUHw1
        "]]},
      Annotation[#, "Charting`Private`Tag$43300#1"]& ]}, {}, {}}, {{{}, {}, 
     TagBox[
      {RGBColor[0, 
        NCache[
         Rational[2, 3], 0.6666666666666666], 0], AbsoluteThickness[1.6], 
       Opacity[1.], LineBox[CompressedData["
1:eJwVznk4lAkAx/FBkW1Fx26Nta7UNiIjOszDzo9cKdO436i2hBlJRTM5OhyV
XF2ydLgqcu1DZhfJFWLUVJhUjtGbdqdGqS1DU5Nj2z++z+ffr1Hgfs9gVQqF
4v6t/41pCZnOHHFiGp+dup6n3/JrV2CAbS3VBNVzaAbh3HymSohlaBrVGk3R
FYUruJXMy5ycOD7VEW30CI46t5nJkfWk7qF6oyNd7DrB6WI+LNmrE0wNgpBx
vG6UQzIpmgyvQCoPwvODETLOv0zduoLxndQTcG3UYL3izDAXKZtFHR8z8UBr
reas7TrQcJYbaOrnw/6s053iLUvgEhfSczmtEEEWSi1LLUOosjV9g8ZLsZkW
/PFHFxPIFVqSNkolqnqP8u+tXwFzt0LPclsBGAtMK2fFmSHJ6q2Dxehf4HzN
yC0i6IiZ87fVsfBa7Ot4bVXpvholz/gdr0xuI9lffdnUXmtEZtRt1a1owC7h
4RBL7lrskt2ITjZtRpMG1SNs63o452TrJb+/g1Xz47NGeAzQGNZHq+it2Ca3
M2PttYWpT17F69NtyM1r11Oc/hVNdkPL6v+5C8EZxqDYEzDI4f3MM+kA77Yd
O3ezPfKi+qU2cUI03y8aSwlwwJvOrFXS1k6Eutg0hhIb4J1t5JprdB+5JZbV
YXscwbZKKB6LESFD3phwIMoJuk42p8zrH0BWxj/EjXSGSm/TOv7iR2h3zriY
mOiCmr4c7rVtXVDbMvDybLwr4p4U769x74aafY1KQcxGrJ7iLLym7Eb6YoW7
+JQbRL95R1FyesDz392qOL4J8vjiDVI3MaQJ1kHM3zdDOkcquPhJDOqFSwMp
V93RKGK9bMp6jHId0xjhFRZM3A1iwxx7IYw0cPqlfAsiNfXEqa96cdWwQM/O
m40UM7WH0Sef4M4RJYXbzYbFPA/6O8unWLpJY3KpnwcaTEVeveKnqOmipfX3
euDZ7D9I+4RnONMxTTfc7on+n+pWGpv0IfPgyJ6dEk8UXbyp29PWh6M/6Gsb
b/XCzON5keoR/Sijzb7Pe+EFuF1KqVgwAPVxFWrLDm/oxKVqDrUMoJhedSzv
tTdKdUPMBsIHQQssY02F+4D2MVzbbZ4EgxvrBD5vfbA+SeKPBgl6rseaMw/6
wtw3KqR0xxAUf3rYGo/5YjR9ctHw1BCmb0VWJ+3zAyNRtjK/7Dnc6M5ORyb8
sE9AUeveRKJ9u0Vo2EECsZLO1nwWCZ3d3PpcPoEk9fOJ+z1IBHCvanVHEcj3
N1LV9iMhj1wosD5CoFvVQYUVSMI4WaGcOkHAyuv4jCiaRJygOf1cFoHP8tmT
wiISDA32zeo6ArP0H9Vnl5A4+X2KqqyegI5r1mFOOYme+a3euk0EaDnLv6pX
keDqWX851krA39FF6dRAIttyiYOriEBDZvLnNjGJ8YAXjwckBDqb2LcuPCHB
3EVdrkUS6JUtid7dRyI1xDOaOUzgnW2pQvX5t7+Iu3qFUgL60nuf7EdIsJNK
gsPfEzDVzqiZP0oiJ224Nv8DgXU2/oeG35OQndP9TjxGgH36zUT8OIn4K+kV
axUEttUKqtkKEqKCdkroFwLc4Vi+oZLE4hvTnle+EuDN3bDmwySJwPJ1RQ+n
CCSsmTvRPEOi4uYBxcwMgf8AyF5IBA==
        "]]},
      Annotation[#, "Charting`Private`Tag$43344#1"]& ]}, {}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{
    FormBox["\"control\"", TraditionalForm], 
    FormBox["\"y\"", TraditionalForm]},
  AxesOrigin->{0, 0},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, Automatic}, {Automatic, Automatic}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImagePadding->All,
  Method->{"CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotLabel->FormBox["\"Scheme C Example\"", TraditionalForm],
  PlotRange->{{-32767., 32767.}, {-110.00000000000001`, 110.00000000000001`}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.08]}, {0, 0}},
  Ticks->{
   Automatic, 
    Automatic}]], \
"Output",ExpressionUUID->"602aba7a-f69d-488c-ae44-3b57ded86832"]
}, Open  ]],

Cell["\<\
What\[CloseCurlyQuote]s important to take away from the above illustrations \
is not the actual coordinate values of the points, but rather their relative \
positioning along the control axis: whether they are in the negative control \
range, at zero, or in the positive control range. In particular, it is \
desirable that in real examples some points be colinear which are not \
illustrated so above.\
\>", "Text",ExpressionUUID->"481f6375-0e8d-4b21-b03f-3654258b9097"],

Cell["\<\
Careful readers will also have noted that we have said nothing about what the \
Y axis represents. This is by design, as the interpretation of this axis will \
vary amongst the schemes. We will discuss this at some length below.\
\>", "Text",ExpressionUUID->"1680ea75-6496-4865-b185-a74613c0e937"]
}, Open  ]],

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". On \[OpenCurlyDoubleQuote]Instantaneous Effective Applied Voltage\
\[CloseCurlyDoubleQuote] and \[OpenCurlyDoubleQuote]Instantanous Current\
\[CloseCurlyDoubleQuote]"
}], "Subsection",ExpressionUUID->"9e1e898e-493a-4434-b603-787b51869aba"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ". Locating the Transition Point"
}], "Section",ExpressionUUID->"52cfff78-8400-4704-8a86-6eca51e4c222"],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". General"
}], "Subsection",ExpressionUUID->"c00fa4ce-1e84-4fba-a8cb-c23c7dcc92db"],

Cell["\<\
In the steady state (no acceleration), the back EMF is proportional to the \
steady state velocity \[CapitalOmega] (in radians per second).\
\>", "Text",ExpressionUUID->"321ee6b7-16fb-4b03-a306-08ccfb2e3d49"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"backEmfEqns", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{"ssEmf", " ", "\[Equal]", " ", 
    RowBox[{"Ke", " ", "\[CapitalOmega]"}]}], 
   "}"}]}]], "Input",ExpressionUUID->"d6bedc95-2668-4c91-89ad-db1d92052ca3"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"ssEmf", "\[Equal]", 
   RowBox[{"Ke", " ", "\[CapitalOmega]"}]}], 
  "}"}]], "Output",ExpressionUUID->"dcd17db7-aef9-4f07-803c-cee74b4f0713"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". Proportional Braking"
}], "Subsection",ExpressionUUID->"83d82174-33fb-43c0-9f27-cdb9fc667606"],

Cell["\<\
We need to know the beginning and endpoints of the proportional braking \
curve, but here need not assume it is linear.\
\>", "Text",ExpressionUUID->"7830a6c9-f0d7-4693-87f3-0c69b60ed5d2"],

Cell["\<\
0% proportional braking is 100% H-bridge state 0. In that state, there is \
zero torque, as we have an open circuit. In order to determine the transition \
between proportional braking and reverse driving, rather than dealing with \
open circuits we will determine for each situation of relevance an equivalent \
instantaneous DC applied voltage for an H-bridge-less variant of the motor. \
For the zero-torque situation, we need to examine our voltage differential \
equation.\
\>", "Text",ExpressionUUID->"31ba116f-0fef-4cae-937f-f0527d275279"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"diffEqns", "[", 
  RowBox[{"[", "3", "]"}], 
  "]"}]], "Input",ExpressionUUID->"faabf45f-2fb9-4cd0-93b3-bff702295809"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"R", " ", 
    RowBox[{"i", "[", "t", "]"}]}], "+", 
   RowBox[{"vg", "[", "t", "]"}], "+", 
   RowBox[{"L", " ", 
    RowBox[{
     SuperscriptBox["i", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}]}]}], "\[Equal]", 
  RowBox[{
  "vapp", "[", "t", 
   "]"}]}]], "Output",ExpressionUUID->"83b76224-8d8c-41c0-800f-f1a5ab614f48"]
}, Open  ]],

Cell["\<\
If we\[CloseCurlyQuote]re in steady state at velocity \[CapitalOmega], and we \
instantaneously drop the voltage, to what level should we drop it so that the \
torque (and thus the current) as averaged over our PID loop execution \
interval (50ms) is zero? We haven\[CloseCurlyQuote]t yet completed that \
analysis, so for now we\[CloseCurlyQuote]ll use an approximation. If there is \
zero torque, there is zero current. Which means that drop across the resistor \
is zero. After a couple of time constants, the drop across the inductor will \
also be zero, and we\[CloseCurlyQuote]re left with:\
\>", "Text",ExpressionUUID->"4a5b2086-a5a4-440d-9f1b-c746d08e8a94"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"diffEqns", "[", 
   RowBox[{"[", "3", "]"}], "]"}], " ", "/.", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{
     RowBox[{"i", "[", "t", "]"}], " ", "\[Rule]", " ", "0"}], ",", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"i", "'"}], "[", "t", "]"}], " ", "\[Rule]", " ", "0"}]}], 
   "}"}]}]], "Input",ExpressionUUID->"cff8f887-f0ba-400b-9c33-d99519bcdc95"],

Cell[BoxData[
 RowBox[{
  RowBox[{"vg", "[", "t", "]"}], "\[Equal]", 
  RowBox[{
  "vapp", "[", "t", 
   "]"}]}]], "Output",ExpressionUUID->"ade18f41-10d4-4a8f-bea6-1392a599ce60"]
}, Open  ]],

Cell["\<\
That is, the voltage we should drop our applied voltage vappt[t] to is \
(approximately) the current back EMF. This is only approximate, as it doesn\
\[CloseCurlyQuote]t account for the exponential ramp down of the current, nor \
does it consider the deceleration of the motor (and consequent drop in the \
back EMF) that will happen over the PID loop interval, but it\
\[CloseCurlyQuote]s the best we have on hand for now.\
\>", "Text",ExpressionUUID->"039c47b6-5ffc-4fd8-9d76-80f75713ed9d"],

Cell["\<\
We recall that this is happening at 0% proportional braking, which we wish to \
be coincident to the origin.\
\>", "Text",ExpressionUUID->"3d5203c4-ceff-4838-b5f3-9540ed5df380"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"prop0Eqns", " ", "=", " ", 
  RowBox[{"{", " ", 
   RowBox[{
    RowBox[{"controlProp0", " ", "\[Equal]", " ", "0"}], ",", " ", 
    RowBox[{"voltProp0", " ", "\[Equal]", " ", "ssEmf"}]}], " ", 
   "}"}]}]], "Input",ExpressionUUID->"28850454-84ef-4296-a008-b4c61db1fba2"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"controlProp0", "\[Equal]", "0"}], ",", 
   RowBox[{"voltProp0", "\[Equal]", "ssEmf"}]}], 
  "}"}]], "Output",ExpressionUUID->"9ea0a3ae-3fe2-4d17-b54d-d1f29580714f"]
}, Open  ]],

Cell["\<\
At 100% proportional braking, we have shorted across the motor terminals; the \
instantaneous applied voltage is zero.\
\>", "Text",ExpressionUUID->"d7abd1eb-2f8b-4335-a925-210edbd4ce1d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"prop100Eqns", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{"voltProp100", " ", "\[Equal]", " ", "0"}], 
   "}"}]}]], "Input",ExpressionUUID->"91b52ab2-48b8-4269-b077-32563c15ab0a"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"voltProp100", "\[Equal]", "0"}], 
  "}"}]], "Output",ExpressionUUID->"8e06d9e5-39f3-4b78-8fed-8bc372f015fa"]
}, Open  ]],

Cell["\<\
We define a linear curve for proportional braking, though in the below we \
only use it for plotting, not in the determination of the transition point.\
\>", "Text",ExpressionUUID->"333a28af-9cd1-48f2-88ce-028cbbe443b9"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"voltProp", "[", "control_", "]"}], "  ", ":=", " ", 
  RowBox[{"voltProp0", " ", "+", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"voltProp100", " ", "-", " ", "voltProp0"}], ")"}], " ", "/", 
     " ", 
     RowBox[{"(", 
      RowBox[{"controlProp100", " ", "-", " ", "controlProp0"}], ")"}]}], " ",
     "*", " ", 
    RowBox[{"(", 
     RowBox[{"control", " ", "-", " ", "controlProp0"}], 
     ")"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{"voltProp", "[", "controlProp100", "]"}], "\[IndentingNewLine]", 
 RowBox[{"voltProp", "[", "controlProp0", 
  "]"}]}], "Input",ExpressionUUID->"fa88c94f-0dda-4ad4-b173-f7dc08ff9794"],

Cell[BoxData["voltProp100"], \
"Output",ExpressionUUID->"1c34a58c-0e25-4cea-9725-02d3601ff475"],

Cell[BoxData["voltProp0"], \
"Output",ExpressionUUID->"98dd7332-1431-4c51-b7db-25b68e638c42"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". Reverse Driving"
}], "Subsection",ExpressionUUID->"0de74517-9def-4c84-b883-d50f88e7f685"],

Cell["\<\
0% reverse driving is almost the same as 100% proportional braking except \
that there\[CloseCurlyQuote]s a diode eating some of the voltage alongside \
the resistor and the inductor. Thus, going back to our differential equation \
above, the instantaneous equivalent applied voltage needs to be adjusted \
slightly positive to balance. \
\>", "Text",ExpressionUUID->"c8541890-e8fe-48cd-939c-d38880abd5c0"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"reverse0Eqns", " ", "=", " ", 
  RowBox[{"{", " ", 
   RowBox[{"voltReverse0", " ", "\[Equal]", " ", 
    RowBox[{"-", 
     RowBox[{"(", 
      RowBox[{"0", " ", "-", " ", "diodeDrop"}], ")"}]}]}], " ", 
   "}"}]}]], "Input",ExpressionUUID->"cb317d2c-1bea-4a53-a6f4-73bf50339604"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"voltReverse0", "\[Equal]", "diodeDrop"}], 
  "}"}]], "Output",ExpressionUUID->"07bd8c04-2a9b-4c6d-b147-4cb99896cc5f"]
}, Open  ]],

Cell["\<\
100% reverse driving applies the full negative battery voltage:\
\>", "Text",ExpressionUUID->"bc320ab7-f3e4-47f9-9ff6-6bb1f38744f3"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"reverse100Eqns", " ", "=", " ", 
  RowBox[{"{", " ", 
   RowBox[{
    RowBox[{"controlReverse100", " ", "\[Equal]", " ", 
     RowBox[{"-", "controlMax"}]}], ",", " ", 
    RowBox[{"voltReverse100", " ", "\[Equal]", " ", 
     RowBox[{"-", "batteryVoltage"}]}]}], " ", 
   "}"}]}]], "Input",ExpressionUUID->"f6e882ad-38d6-46a6-9a42-4a8c6ef0beac"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"controlReverse100", "\[Equal]", 
    RowBox[{"-", "controlMax"}]}], ",", 
   RowBox[{"voltReverse100", "\[Equal]", 
    RowBox[{"-", "batteryVoltage"}]}]}], 
  "}"}]], "Output",ExpressionUUID->"da4143c2-aec1-4913-9998-8cae01d2ee68"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". Continuity"
}], "Subsection",ExpressionUUID->"9a002c89-725d-49e8-9075-4ce3762f96a0"],

Cell["\<\
We will assume linearity of reverse driving in order to set up our continuity \
of voltage (we only use that fact in the initial duty cycle range of reverse \
driving).\
\>", "Text",ExpressionUUID->"15090d70-5363-4659-9aae-c650fd302093"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"voltReverse", "[", "control_", "]"}], "  ", ":=", " ", 
  RowBox[{"voltReverse0", " ", "+", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"voltReverse100", " ", "-", " ", "voltReverse0"}], ")"}], " ", 
     "/", " ", 
     RowBox[{"(", 
      RowBox[{"controlReverse100", " ", "-", " ", "controlReverse0"}], 
      ")"}]}], " ", "*", " ", 
    RowBox[{"(", 
     RowBox[{"control", " ", "-", " ", "controlReverse0"}], 
     ")"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{"voltReverse", "[", "controlReverse100", 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"voltReverse", "[", "controlReverse0", "]"}]}], "Input",
 CellChangeTimes->{{3.7418727964861317`*^9, 3.74187280417984*^9}, {
  3.7418728554857635`*^9, 3.741872913132579*^9}, {3.7419784245695705`*^9, 
  3.7419784405897093`*^9}, {3.741981178518552*^9, 
  3.7419811855587163`*^9}},ExpressionUUID->"c7e9b259-2571-48a0-b4dc-\
017e44d0cd64"],

Cell[BoxData["voltReverse100"], \
"Output",ExpressionUUID->"bfcef493-0062-47d7-be01-3925a26f63ec"],

Cell[BoxData["voltReverse0"], \
"Output",ExpressionUUID->"4e333147-73c5-41fb-9adf-22e4b159923d"]
}, Open  ]],

Cell[TextData[{
 "Because of the diode voltage drop, when we stitch proportional braking \
beside reverse driving so as to have a continuous overall voltage curve, \
there is necessarily a small overlap in the two curves: as we proceed from \
small to large control signal ",
 StyleBox["magnitude",
  FontSlant->"Italic"],
 " (remember that proportional braking and reverse driving are placed in the \
negative control signal range), the reverse driving curve begins before the \
proportional braking curve ends. That is, Abs[controlReverse0] <= \
Abs[controlProp100]."
}], "Text",ExpressionUUID->"f01e962a-57f9-4eca-91e2-a8993e1e9042"],

Cell["\<\
Here, we choose to use braking in the overlap. Thus, here our transition \
point is controlProp100.\
\>", "Text",ExpressionUUID->"e1239284-57c4-43b6-9f1a-66ff3c5a66f1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"controlTransition", " ", "=", " ", "controlProp100"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"controlOther", " ", "=", " ", "controlReverse0"}], ";"}]}], "Input",
 CellChangeTimes->{{3.7419553207894573`*^9, 3.741955321531108*^9}, {
  3.7419608590677457`*^9, 
  3.741960873349608*^9}},ExpressionUUID->"f03a0b3a-6b37-4eaf-b3da-\
e44a69fe1ed0"],

Cell["\<\
Our continuity requirement is that at the transition, the two curves must \
coincide.\
\>", "Text",
 CellChangeTimes->{{3.741866864158252*^9, 3.7418668921186624`*^9}, {
  3.741866952795929*^9, 3.74186697297461*^9}, {3.7418670328769064`*^9, 
  3.7418671052645936`*^9}, {3.7418740412792234`*^9, 3.7418740660168886`*^9}, {
  3.74195524858578*^9, 
  3.7419552501197786`*^9}},ExpressionUUID->"f312e50a-97c7-4a81-985a-\
bd1873e7fff2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ctyEqns", " ", "=", " ", 
  RowBox[{"{", " ", 
   RowBox[{
    RowBox[{"voltProp", "[", "controlTransition", "]"}], " ", "\[Equal]", " ", 
    RowBox[{"voltReverse", "[", "controlTransition", "]"}]}], " ", 
   "}"}]}]], "Input",ExpressionUUID->"8c225054-56c2-48ad-94b6-bb3b4049c973"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"voltProp100", "\[Equal]", 
   RowBox[{"voltReverse0", "+", 
    FractionBox[
     RowBox[{
      RowBox[{"(", 
       RowBox[{"controlProp100", "-", "controlReverse0"}], ")"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", "voltReverse0"}], "+", "voltReverse100"}], ")"}]}], 
     RowBox[{
      RowBox[{"-", "controlReverse0"}], "+", "controlReverse100"}]]}]}], 
  "}"}]], "Output",ExpressionUUID->"566d98de-7db7-449f-9214-7d448956890a"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". Linearity"
}], "Subsection",ExpressionUUID->"ae9b490a-f791-448c-a788-6b4684a5ed2d"],

Cell["\<\
All other things being equal, what we want is that the overall voltage vs \
control signal in the negative control range be as linear as possible. The \
shapes of the two curves, and the voltages at their endpoints is fixed; all \
we have to control is the transition threshold. We assume that the duty cycle \
response curves of both modes is linear. (While they\[CloseCurlyQuote]re not \
entirely so, they\[CloseCurlyQuote]re close, and we need to start somewhere. \
If we actually knew the curves we\[CloseCurlyQuote]d do a least squares fit.) \
Then, the overall concatenation can best be fit as  linear by matching the \
slopes of the proportional braking as a whole and the reverse driving as a \
whole.\
\>", "Text",ExpressionUUID->"4c7da862-912b-4263-85f6-219224b7aa18"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"slopeEqns", " ", "=", " ", 
  RowBox[{"{", " ", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"slope", " ", "\[Equal]", " ", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"voltProp100", " ", "-", " ", "voltProp0"}], ")"}], " ", "/", 
      " ", 
      RowBox[{"(", 
       RowBox[{"controlProp100", " ", "-", " ", "controlProp0"}], ")"}]}]}], 
    ",", "\[IndentingNewLine]", 
    RowBox[{"slope", " ", "\[Equal]", " ", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"voltReverse100", " ", "-", " ", "voltReverse0"}], ")"}], " ", 
      "/", " ", 
      RowBox[{"(", 
       RowBox[{"controlReverse100", " ", "-", " ", "controlReverse0"}], 
       ")"}]}]}]}], "\[IndentingNewLine]", 
   "}"}]}]], "Input",ExpressionUUID->"d3886e9e-90d1-4f78-8d8e-ec10125f9b56"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"slope", "\[Equal]", 
    FractionBox[
     RowBox[{
      RowBox[{"-", "voltProp0"}], "+", "voltProp100"}], 
     RowBox[{
      RowBox[{"-", "controlProp0"}], "+", "controlProp100"}]]}], ",", 
   RowBox[{"slope", "\[Equal]", 
    FractionBox[
     RowBox[{
      RowBox[{"-", "voltReverse0"}], "+", "voltReverse100"}], 
     RowBox[{
      RowBox[{"-", "controlReverse0"}], "+", "controlReverse100"}]]}]}], 
  "}"}]], "Output",ExpressionUUID->"22a7ff35-2208-4323-b2d1-6d5612884dac"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". Summary"
}], "Subsection",ExpressionUUID->"db7ed2ae-eef3-42d4-b4b0-161df1e7cb82"],

Cell["We put all our equations together.", \
"Text",ExpressionUUID->"67960be9-cb70-489d-bc16-208899dee703"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(", 
   RowBox[{"eqns", " ", "=", " ", 
    RowBox[{"Join", "[", 
     RowBox[{
     "backEmfEqns", ",", " ", "prop0Eqns", ",", " ", "prop100Eqns", ",", " ", 
      "reverse0Eqns", ",", " ", "reverse100Eqns", ",", " ", "ctyEqns", ",", 
      " ", "slopeEqns"}], "]"}]}], ")"}], " ", "//", " ", 
  "prettyPrint"}]], \
"Input",ExpressionUUID->"56750233-9bd5-4ebc-ad1a-6afce8aaad75"],

Cell[BoxData[
 InterpretationBox[Cell[BoxData[
   FormBox[
    StyleBox[
     TagBox[
      FormBox[
       InterpretationBox[GridBox[{
          {
           RowBox[{"ssEmf", "\[LongEqual]", 
            RowBox[{"Ke", " ", "\[CapitalOmega]"}]}]},
          {
           RowBox[{"controlProp0", "\[LongEqual]", "0"}]},
          {
           RowBox[{"voltProp0", "\[LongEqual]", "ssEmf"}]},
          {
           RowBox[{"voltProp100", "\[LongEqual]", "0"}]},
          {
           RowBox[{"voltReverse0", "\[LongEqual]", "diodeDrop"}]},
          {
           RowBox[{"controlReverse100", "\[LongEqual]", 
            RowBox[{"-", "controlMax"}]}]},
          {
           RowBox[{"voltReverse100", "\[LongEqual]", 
            RowBox[{"-", "batteryVoltage"}]}]},
          {
           RowBox[{"voltProp100", "\[LongEqual]", 
            RowBox[{"voltReverse0", "+", 
             FractionBox[
              RowBox[{
               RowBox[{"(", 
                RowBox[{"controlProp100", "-", "controlReverse0"}], ")"}], 
               " ", 
               RowBox[{"(", 
                RowBox[{"voltReverse100", "-", "voltReverse0"}], ")"}]}], 
              RowBox[{"controlReverse100", "-", "controlReverse0"}]]}]}]},
          {
           RowBox[{"slope", "\[LongEqual]", 
            FractionBox[
             RowBox[{"voltProp100", "-", "voltProp0"}], 
             RowBox[{"controlProp100", "-", "controlProp0"}]]}]},
          {
           RowBox[{"slope", "\[LongEqual]", 
            FractionBox[
             RowBox[{"voltReverse100", "-", "voltReverse0"}], 
             RowBox[{"controlReverse100", "-", "controlReverse0"}]]}]}
         },
         BaselinePosition->{Baseline, {1, 1}},
         GridBoxAlignment->{
          "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, 
           "Rows" -> {{Baseline}}, "RowsIndexed" -> {}}],
        ColumnForm[{$CellContext`ssEmf == $CellContext`Ke $CellContext`\
\[CapitalOmega], $CellContext`controlProp0 == 
          0, $CellContext`voltProp0 == $CellContext`ssEmf, \
$CellContext`voltProp100 == 
          0, $CellContext`voltReverse0 == $CellContext`diodeDrop, \
$CellContext`controlReverse100 == -$CellContext`controlMax, \
$CellContext`voltReverse100 == -$CellContext`batteryVoltage, \
$CellContext`voltProp100 == $CellContext`voltReverse0 + \
(($CellContext`controlProp100 - \
$CellContext`controlReverse0)/(-$CellContext`controlReverse0 + \
$CellContext`controlReverse100)) (-$CellContext`voltReverse0 + \
$CellContext`voltReverse100), $CellContext`slope == \
(-$CellContext`controlProp0 + $CellContext`controlProp100)^(-1) \
(-$CellContext`voltProp0 + $CellContext`voltProp100), $CellContext`slope == \
(-$CellContext`controlReverse0 + $CellContext`controlReverse100)^(-1) \
(-$CellContext`voltReverse0 + $CellContext`voltReverse100)}],
        Editable->False],
       TraditionalForm],
      TraditionalForm,
      Editable->True],
     StripOnInput->False,
     FontSize->15], TextForm]], "InlineText",ExpressionUUID->
   "9f77b5fd-cf12-46a9-99c8-781cd604b686"],
  Text[
   Style[
    TraditionalForm[
     ColumnForm[{$CellContext`ssEmf == $CellContext`Ke $CellContext`\
\[CapitalOmega], $CellContext`controlProp0 == 
       0, $CellContext`voltProp0 == $CellContext`ssEmf, \
$CellContext`voltProp100 == 
       0, $CellContext`voltReverse0 == $CellContext`diodeDrop, \
$CellContext`controlReverse100 == -$CellContext`controlMax, \
$CellContext`voltReverse100 == -$CellContext`batteryVoltage, \
$CellContext`voltProp100 == $CellContext`voltReverse0 + \
(($CellContext`controlProp100 - \
$CellContext`controlReverse0)/(-$CellContext`controlReverse0 + \
$CellContext`controlReverse100)) (-$CellContext`voltReverse0 + \
$CellContext`voltReverse100), $CellContext`slope == \
(-$CellContext`controlProp0 + $CellContext`controlProp100)^(-1) \
(-$CellContext`voltProp0 + $CellContext`voltProp100), $CellContext`slope == \
(-$CellContext`controlReverse0 + $CellContext`controlReverse100)^(-1) \
(-$CellContext`voltReverse0 + $CellContext`voltReverse100)}]], FontSize -> 
    15]]]], "Output",ExpressionUUID->"10234ef7-fac6-46cb-a7c1-36ff8f14efb4"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". Solving"
}], "Subsection",ExpressionUUID->"c870bcec-b498-44fd-b14a-16fb74feafbb"],

Cell["We solve these equations.", \
"Text",ExpressionUUID->"81adedcf-add4-48b2-a77d-284a2449b41d"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"solveFor", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
    "controlTransition", ",", " ", "controlOther", ",", " ", "slope", ",", 
     " ", "voltProp0", ",", " ", "voltProp100", ",", " ", "voltReverse0", ",",
      "voltReverse100", ",", " ", "controlProp0", ",", " ", 
     "controlReverse100", ",", " ", "ssEmf"}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"soln", " ", "=", " ", 
   RowBox[{"uniqueSolve", "[", 
    RowBox[{"eqns", ",", " ", "solveFor"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"soln", " ", "//", " ", 
  "prettyPrint"}]}], \
"Input",ExpressionUUID->"4f0a2ca6-23a0-437a-bf5f-fd76a3b360ee"],

Cell[BoxData[
 InterpretationBox[Cell[BoxData[
   FormBox[
    StyleBox[
     TagBox[
      FormBox[
       InterpretationBox[GridBox[{
          {
           RowBox[{"controlProp100", "\[Rule]", 
            RowBox[{"-", 
             FractionBox[
              RowBox[{"controlMax", " ", "Ke", " ", "\[CapitalOmega]"}], 
              RowBox[{"batteryVoltage", "+", 
               RowBox[{"Ke", " ", "\[CapitalOmega]"}]}]]}]}]},
          {
           RowBox[{"controlReverse0", "\[Rule]", 
            FractionBox[
             RowBox[{
              RowBox[{"controlMax", " ", "diodeDrop"}], "-", 
              RowBox[{"controlMax", " ", "Ke", " ", "\[CapitalOmega]"}]}], 
             RowBox[{"batteryVoltage", "+", 
              RowBox[{"Ke", " ", "\[CapitalOmega]"}]}]]}]},
          {
           RowBox[{"slope", "\[Rule]", 
            FractionBox[
             RowBox[{"batteryVoltage", "+", 
              RowBox[{"Ke", " ", "\[CapitalOmega]"}]}], "controlMax"]}]},
          {
           RowBox[{"voltProp0", "\[Rule]", 
            RowBox[{"Ke", " ", "\[CapitalOmega]"}]}]},
          {
           RowBox[{"voltProp100", "\[Rule]", "0"}]},
          {
           RowBox[{"voltReverse0", "\[Rule]", "diodeDrop"}]},
          {
           RowBox[{"voltReverse100", "\[Rule]", 
            RowBox[{"-", "batteryVoltage"}]}]},
          {
           RowBox[{"controlProp0", "\[Rule]", "0"}]},
          {
           RowBox[{"controlReverse100", "\[Rule]", 
            RowBox[{"-", "controlMax"}]}]},
          {
           RowBox[{"ssEmf", "\[Rule]", 
            RowBox[{"Ke", " ", "\[CapitalOmega]"}]}]}
         },
         BaselinePosition->{Baseline, {1, 1}},
         GridBoxAlignment->{
          "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, 
           "Rows" -> {{Baseline}}, "RowsIndexed" -> {}}],
        ColumnForm[{$CellContext`controlProp100 -> \
((-$CellContext`controlMax) $CellContext`Ke) \
($CellContext`\[CapitalOmega]/($CellContext`batteryVoltage + $CellContext`Ke \
$CellContext`\[CapitalOmega])), $CellContext`controlReverse0 -> \
($CellContext`batteryVoltage + $CellContext`Ke \
$CellContext`\[CapitalOmega])^(-1) ($CellContext`controlMax \
$CellContext`diodeDrop - ($CellContext`controlMax $CellContext`Ke) \
$CellContext`\[CapitalOmega]), $CellContext`slope -> \
$CellContext`controlMax^(-1) ($CellContext`batteryVoltage + $CellContext`Ke \
$CellContext`\[CapitalOmega]), $CellContext`voltProp0 -> $CellContext`Ke \
$CellContext`\[CapitalOmega], $CellContext`voltProp100 -> 
          0, $CellContext`voltReverse0 -> $CellContext`diodeDrop, \
$CellContext`voltReverse100 -> -$CellContext`batteryVoltage, \
$CellContext`controlProp0 -> 
          0, $CellContext`controlReverse100 -> -$CellContext`controlMax, \
$CellContext`ssEmf -> $CellContext`Ke $CellContext`\[CapitalOmega]}],
        Editable->False],
       TraditionalForm],
      TraditionalForm,
      Editable->True],
     StripOnInput->False,
     FontSize->15], TextForm]], "InlineText",ExpressionUUID->
   "5e350579-5967-44d2-b1b0-3eacaf3831ca"],
  Text[
   Style[
    TraditionalForm[
     ColumnForm[{$CellContext`controlProp100 -> ((-$CellContext`controlMax) \
$CellContext`Ke) ($CellContext`\[CapitalOmega]/($CellContext`batteryVoltage + \
$CellContext`Ke $CellContext`\[CapitalOmega])), $CellContext`controlReverse0 -> \
($CellContext`batteryVoltage + $CellContext`Ke \
$CellContext`\[CapitalOmega])^(-1) ($CellContext`controlMax \
$CellContext`diodeDrop - ($CellContext`controlMax $CellContext`Ke) \
$CellContext`\[CapitalOmega]), $CellContext`slope -> \
$CellContext`controlMax^(-1) ($CellContext`batteryVoltage + $CellContext`Ke \
$CellContext`\[CapitalOmega]), $CellContext`voltProp0 -> $CellContext`Ke \
$CellContext`\[CapitalOmega], $CellContext`voltProp100 -> 
       0, $CellContext`voltReverse0 -> $CellContext`diodeDrop, \
$CellContext`voltReverse100 -> -$CellContext`batteryVoltage, \
$CellContext`controlProp0 -> 
       0, $CellContext`controlReverse100 -> -$CellContext`controlMax, \
$CellContext`ssEmf -> $CellContext`Ke $CellContext`\[CapitalOmega]}]], 
    FontSize -> 
    15]]]], "Output",ExpressionUUID->"3a4c9733-ac84-4a2e-b094-8fbb43cded55"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". Results"
}], "Subsection",ExpressionUUID->"e8506fee-4e99-4d1e-b2f6-b08388c9b429"],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ".",
 
 CounterBox["Subsubsection"],
 ". In Radians / Second & Battery Volts"
}], "Subsubsection",ExpressionUUID->"fde4c9e4-f216-4a36-a88d-06598a7f3de8"],

Cell["\<\
The control transition point (and it\[CloseCurlyQuote]s dancing partner) we \
seek is the following:\
\>", "Text",ExpressionUUID->"a5ff93ce-9991-46a4-a904-7199d4351c7b"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"result", " ", "=", " ", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
      "\"\<controlTransition\>\"", " ", "\[Rule]", " ", "controlTransition"}],
       " ", "/.", " ", "soln"}], ",", " ", 
     RowBox[{
      RowBox[{"\"\<controlOther\>\"", " ", "\[Rule]", " ", "controlOther"}], 
      " ", "/.", " ", "soln"}]}], "}"}], " ", "//", " ", 
   "Simplify"}]}]], "Input",
 CellFrameColor->GrayLevel[
  0],ExpressionUUID->"c8ecf1d5-b1cd-4c60-a778-c793b6d0d67b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"controlTransition\"\>", "\[Rule]", 
    RowBox[{"-", 
     FractionBox[
      RowBox[{"controlMax", " ", "Ke", " ", "\[CapitalOmega]"}], 
      RowBox[{"batteryVoltage", "+", 
       RowBox[{"Ke", " ", "\[CapitalOmega]"}]}]]}]}], ",", 
   RowBox[{"\<\"controlOther\"\>", "\[Rule]", 
    FractionBox[
     RowBox[{"controlMax", " ", 
      RowBox[{"(", 
       RowBox[{"diodeDrop", "-", 
        RowBox[{"Ke", " ", "\[CapitalOmega]"}]}], ")"}]}], 
     RowBox[{"batteryVoltage", "+", 
      RowBox[{"Ke", " ", "\[CapitalOmega]"}]}]]}]}], "}"}]], "Output",
 CellFrameColor->GrayLevel[
  0],ExpressionUUID->"d52f40c4-6b0f-49b0-b6e6-724e864b27bc"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ".",
 
 CounterBox["Subsubsection"],
 ". In Encoder Counts / Second & Battery mV"
}], "Subsubsection",ExpressionUUID->"0205e11a-ba7e-4700-81b1-008accde7e85"],

Cell["\<\
To implement the logic, we need the the result with a different measure of \
velocity and battery voltage.\
\>", "Text",ExpressionUUID->"94baa526-ffab-4354-a87a-f770c0fb0d88"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"tpsToRadiansPerSec", "[", "cps_", "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"Quantity", "[", 
     RowBox[{"cps", ",", " ", 
      RowBox[{
       RowBox[{"IndependentUnit", "[", "\"\<counts\>\"", "]"}], "/", " ", 
       "\"\<Seconds\>\""}]}], "]"}], " ", "/", " ", 
    RowBox[{"Quantity", "[", 
     RowBox[{"countsPerRev", ",", " ", 
      RowBox[{
       RowBox[{"IndependentUnit", "[", "\"\<counts\>\"", "]"}], "/", " ", 
       "\"\<Revolutions\>\""}]}], "]"}]}], " ", "*", " ", 
   RowBox[{"Quantity", "[", 
    RowBox[{
     RowBox[{"2", " ", "Pi"}], ",", " ", 
     RowBox[{"\"\<Radians\>\"", " ", "/", " ", "\"\<Revolutions\>\""}]}], 
    "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"tpsToRadiansPerSec", "[", "cps", 
  "]"}]}], "Input",ExpressionUUID->"51ffed64-9cd3-4c35-a905-36a3cff7920f"],

Cell[BoxData[
 TemplateBox[{FractionBox[
    RowBox[{"2", " ", "cps", " ", "\[Pi]"}], "countsPerRev"],
   RowBox[{"\"rad\"", "\[InvisibleSpace]", "\"/\"", "\[InvisibleSpace]", 
     "\"s\""}],"radians per second",FractionBox["\"Radians\"", "\"Seconds\""]},
  "Quantity"]], \
"Output",ExpressionUUID->"6a44fadc-1c3c-4ad7-ac83-b58e4cee3101"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"resultUnits", " ", "=", " ", 
  RowBox[{"{", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"controlMax", " ", "\[Rule]", " ", 
     RowBox[{"Quantity", "[", 
      RowBox[{"controlMax", ",", " ", 
       RowBox[{"IndependentUnit", "[", "\"\<pids\>\"", "]"}]}], "]"}]}], ",", 
    " ", "\[IndentingNewLine]", 
    RowBox[{"batteryVoltage", " ", "\[Rule]", " ", 
     RowBox[{
      RowBox[{"Quantity", "[", 
       RowBox[{"mvBatteryVoltage", ",", " ", "\"\<Volts\>\""}], "]"}], " ", 
      "/", " ", "1000"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{"Ke", " ", "\[Rule]", " ", 
     RowBox[{
      RowBox[{"Quantity", "[", 
       RowBox[{"Ke", ",", " ", "\"\<Volt Seconds\>\""}], "]"}], " ", "/", " ", 
      RowBox[{"Quantity", "[", 
       RowBox[{"1", ",", " ", "\"\<Radians\>\""}], "]"}]}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"diodeDrop", "\[Rule]", " ", 
     RowBox[{"Quantity", "[", 
      RowBox[{"diodeDrop", ",", " ", "\"\<Volts\>\""}], "]"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"\[CapitalOmega]", " ", "\[Rule]", " ", 
     RowBox[{"tpsToRadiansPerSec", "[", "cps", "]"}]}]}], 
   "\[IndentingNewLine]", "}"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"result", "/.", " ", "resultUnits"}], " ", "//", " ", 
  "Simplify"}], "\[IndentingNewLine]", 
 RowBox[{"resultCps", " ", "=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"result", "/.", " ", "resultUnits"}], " ", "//", " ", 
    "Simplify"}], " ", "//", " ", 
   "clearUnits"}]}]}], \
"Input",ExpressionUUID->"9d1f1d22-fa13-40ca-9ddb-c414b8067f0f"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"controlMax", "\[Rule]", 
    TemplateBox[{"controlMax",RowBox[{
        FrameBox[
         StyleBox["\"pids\"", ShowStringCharacters -> False], FrameMargins -> 
         1, FrameStyle -> GrayLevel[0.85], BaselinePosition -> Baseline, 
         RoundingRadius -> 3, StripOnInput -> False]}],"pids",
      RowBox[{"IndependentUnit", "[", "\"pids\"", "]"}]},
     "Quantity"]}], ",", 
   RowBox[{"batteryVoltage", "\[Rule]", 
    TemplateBox[{
     FractionBox["mvBatteryVoltage", "1000"],"\"V\"","volts","\"Volts\""},
     "Quantity"]}], ",", 
   RowBox[{"Ke", "\[Rule]", 
    TemplateBox[{
     "Ke",RowBox[{
       "\"s\"", "\[ThinSpace]", "\"V\"", "\[InvisibleSpace]", "\"/\"", 
        "\[InvisibleSpace]", "\"rad\""}],"second volts per radian",FractionBox[
       RowBox[{"\"Seconds\"", " ", "\"Volts\""}], "\"Radians\""]},
     "Quantity"]}], ",", 
   RowBox[{"diodeDrop", "\[Rule]", 
    TemplateBox[{"diodeDrop","\"V\"","volts","\"Volts\""},
     "Quantity"]}], ",", 
   RowBox[{"\[CapitalOmega]", "\[Rule]", 
    TemplateBox[{FractionBox[
       RowBox[{"2", " ", "cps", " ", "\[Pi]"}], "countsPerRev"],
      RowBox[{"\"rad\"", "\[InvisibleSpace]", "\"/\"", "\[InvisibleSpace]", 
        "\"s\""}],"radians per second",FractionBox[
      "\"Radians\"", "\"Seconds\""]},
     "Quantity"]}]}], 
  "}"}]], "Output",ExpressionUUID->"fb335acd-c547-4a95-a908-8e04de76a085"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"controlTransition\"\>", "\[Rule]", 
    TemplateBox[{RowBox[{"-", 
        FractionBox[
         RowBox[{
          "2000", " ", "controlMax", " ", "cps", " ", "Ke", " ", "\[Pi]"}], 
         RowBox[{
           RowBox[{"countsPerRev", " ", "mvBatteryVoltage"}], "+", 
           RowBox[{"2000", " ", "cps", " ", "Ke", " ", "\[Pi]"}]}]]}],RowBox[{
        FrameBox[
         StyleBox["\"pids\"", ShowStringCharacters -> False], FrameMargins -> 
         1, FrameStyle -> GrayLevel[0.85], BaselinePosition -> Baseline, 
         RoundingRadius -> 3, StripOnInput -> False]}],"pids",
      RowBox[{"IndependentUnit", "[", "\"pids\"", "]"}]},
     "Quantity"]}], ",", 
   RowBox[{"\<\"controlOther\"\>", "\[Rule]", 
    TemplateBox[{FractionBox[
       RowBox[{"1000", " ", "controlMax", " ", 
         RowBox[{"(", 
           RowBox[{
             RowBox[{"countsPerRev", " ", "diodeDrop"}], "-", 
             RowBox[{"2", " ", "cps", " ", "Ke", " ", "\[Pi]"}]}], ")"}]}], 
       RowBox[{
         RowBox[{"countsPerRev", " ", "mvBatteryVoltage"}], "+", 
         RowBox[{"2000", " ", "cps", " ", "Ke", " ", "\[Pi]"}]}]],RowBox[{
        FrameBox[
         StyleBox["\"pids\"", ShowStringCharacters -> False], FrameMargins -> 
         1, FrameStyle -> GrayLevel[0.85], BaselinePosition -> Baseline, 
         RoundingRadius -> 3, StripOnInput -> False]}],"pids",
      RowBox[{"IndependentUnit", "[", "\"pids\"", "]"}]},
     "Quantity"]}]}], 
  "}"}]], "Output",ExpressionUUID->"7584e318-3499-4992-be64-3cd78c5f36be"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"controlTransition\"\>", "\[Rule]", 
    RowBox[{"-", 
     FractionBox[
      RowBox[{
      "2000", " ", "controlMax", " ", "cps", " ", "Ke", " ", "\[Pi]"}], 
      RowBox[{
       RowBox[{"countsPerRev", " ", "mvBatteryVoltage"}], "+", 
       RowBox[{"2000", " ", "cps", " ", "Ke", " ", "\[Pi]"}]}]]}]}], ",", 
   RowBox[{"\<\"controlOther\"\>", "\[Rule]", 
    FractionBox[
     RowBox[{"1000", " ", "controlMax", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"countsPerRev", " ", "diodeDrop"}], "-", 
        RowBox[{"2", " ", "cps", " ", "Ke", " ", "\[Pi]"}]}], ")"}]}], 
     RowBox[{
      RowBox[{"countsPerRev", " ", "mvBatteryVoltage"}], "+", 
      RowBox[{"2000", " ", "cps", " ", "Ke", " ", "\[Pi]"}]}]]}]}], 
  "}"}]], "Output",ExpressionUUID->"a665dad5-b1fb-4bb7-a601-ea8b32b20c4e"]
}, Open  ]],

Cell["\<\
To compute the value, we\[CloseCurlyQuote]ll first compute the transition, \
then compute the delta from the transition to the other control point\
\>", "Text",ExpressionUUID->"4ab23244-3b0a-4341-8026-ee7e3d6728d0"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"computedControlTransiton", " ", "=", " ", 
  RowBox[{
   RowBox[{"\"\<controlTransition\>\"", " ", "/.", " ", "resultCps"}], " ", "//",
    " ", "Apart"}]}]], \
"Input",ExpressionUUID->"6ea403f2-bf09-4ef9-9e96-ca41156fd8a2"],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", "controlMax"}], "+", 
  FractionBox[
   RowBox[{"controlMax", " ", "countsPerRev", " ", "mvBatteryVoltage"}], 
   RowBox[{
    RowBox[{"countsPerRev", " ", "mvBatteryVoltage"}], "+", 
    RowBox[{
    "2000", " ", "cps", " ", "Ke", " ", 
     "\[Pi]"}]}]]}]], \
"Output",ExpressionUUID->"1cffeb8f-7e43-432e-9603-2bbf0b2c3673"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"\[CapitalDelta]computedControlOther", " ", "=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"(", 
     RowBox[{
     "\"\<controlOther\>\"", " ", "-", " ", "\"\<controlTransition\>\""}], 
     ")"}], " ", "/.", " ", "resultCps"}], " ", "//", " ", 
   "Apart"}]}]], \
"Input",ExpressionUUID->"05eb3e20-3231-4fbd-8185-4c27c8845472"],

Cell[BoxData[
 FractionBox[
  RowBox[{"1000", " ", "controlMax", " ", "countsPerRev", " ", "diodeDrop"}], 
  RowBox[{
   RowBox[{"countsPerRev", " ", "mvBatteryVoltage"}], "+", 
   RowBox[{
   "2000", " ", "cps", " ", "Ke", " ", 
    "\[Pi]"}]}]]], \
"Output",ExpressionUUID->"b36146e9-c807-477c-817a-0b1f443a1869"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ". Verification"
}], "Section",ExpressionUUID->"cee426e7-5a4b-4090-9007-904e611cb9aa"],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". Check"
}], "Subsection",ExpressionUUID->"ad9d8be5-fc14-4b27-a8c7-cd7f6d20d25d"],

Cell["\<\
Let us verify that at the control transition point, the two curves coincide.\
\>", "Text",ExpressionUUID->"2acfdb88-dd03-451a-a121-405c1a89dfe6"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"voltProp", "[", "controlTransition", "]"}], " ", "-", " ", 
  RowBox[{
  "voltReverse", "[", "controlTransition", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"%", " ", "/.", " ", "soln"}], "\[IndentingNewLine]", 
 RowBox[{"%", " ", "//", " ", 
  "FullSimplify"}]}], \
"Input",ExpressionUUID->"3d56f91b-6351-4dde-81bd-0d217bf526b6"],

Cell[BoxData[
 RowBox[{"voltProp100", "-", "voltReverse0", "-", 
  FractionBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{"controlProp100", "-", "controlReverse0"}], ")"}], " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", "voltReverse0"}], "+", "voltReverse100"}], ")"}]}], 
   RowBox[{
    RowBox[{"-", "controlReverse0"}], "+", 
    "controlReverse100"}]]}]], \
"Output",ExpressionUUID->"1e1a95ac-6ab6-48a6-a019-2dd0a9781b87"],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", "diodeDrop"}], "-", 
  FractionBox[
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", "batteryVoltage"}], "-", "diodeDrop"}], ")"}], " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", 
       FractionBox[
        RowBox[{"controlMax", " ", "Ke", " ", "\[CapitalOmega]"}], 
        RowBox[{"batteryVoltage", "+", 
         RowBox[{"Ke", " ", "\[CapitalOmega]"}]}]]}], "-", 
      FractionBox[
       RowBox[{
        RowBox[{"controlMax", " ", "diodeDrop"}], "-", 
        RowBox[{"controlMax", " ", "Ke", " ", "\[CapitalOmega]"}]}], 
       RowBox[{"batteryVoltage", "+", 
        RowBox[{"Ke", " ", "\[CapitalOmega]"}]}]]}], ")"}]}], 
   RowBox[{
    RowBox[{"-", "controlMax"}], "-", 
    FractionBox[
     RowBox[{
      RowBox[{"controlMax", " ", "diodeDrop"}], "-", 
      RowBox[{"controlMax", " ", "Ke", " ", "\[CapitalOmega]"}]}], 
     RowBox[{"batteryVoltage", "+", 
      RowBox[{
      "Ke", " ", 
       "\[CapitalOmega]"}]}]]}]]}]], \
"Output",ExpressionUUID->"a101aabc-e20e-4229-9427-0b28ccf6784a"],

Cell[BoxData["0"], \
"Output",ExpressionUUID->"e90eb0a4-178c-48e4-bae4-93cf2c9b5df7"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". In Real Life"
}], "Subsection",ExpressionUUID->"4fb0ffd9-a02e-4715-88a1-8110ebaaa583"],

Cell["\<\
We examine what this looks like for an actual motor. We choose a NeveRest 60. \
We ignore the gearing since we want the Ke relative to the pre-gearbox \
armature velocity, not the post-gearbox shaft velocity.\
\>", "Text",ExpressionUUID->"fde9c27a-7e62-47b0-a128-6ec3c6eeb6f9"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"aMotor", " ", "=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"motorParameters", "[", 
     RowBox[{"\"\<AM 60 A\>\"", ",", " ", 
      RowBox[{"Geared", " ", "\[Rule]", " ", "False"}]}], "]"}], " ", "//", 
    " ", "siUnits"}], " ", "//", " ", "clearUnits"}]}], "\[IndentingNewLine]", 
 RowBox[{"constants", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"diodeDrop", " ", "\[Rule]", " ", 
     RowBox[{"7", "/", "10"}]}], ",", " ", 
    RowBox[{"Ke", " ", "\[Rule]", " ", 
     RowBox[{"(", 
      RowBox[{"Ke", " ", "/.", " ", "aMotor"}], ")"}]}], ",", " ", 
    RowBox[{"batteryVoltage", " ", "\[Rule]", " ", "12"}], ",", " ", 
    RowBox[{"controlMax", " ", "\[Rule]", " ", "32767"}]}], 
   "}"}]}]}], "Input",ExpressionUUID->"16443520-b262-43dc-87c6-55d6e0f089b1"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{"R", "\[Rule]", 
    FractionBox["33", "10"]}], ",", 
   RowBox[{"L", "\[Rule]", 
    FractionBox["347", "500000"]}], ",", 
   RowBox[{"Ke", "\[Rule]", 
    FractionBox["533", "500"]}], ",", 
   RowBox[{"Kt", "\[Rule]", 
    FractionBox["533", "500"]}], ",", 
   RowBox[{"J", "\[Rule]", 
    FractionBox["1041", "100000000"]}], ",", 
   RowBox[{"B", "\[Rule]", 
    FractionBox["33", "1000"]}], ",", 
   RowBox[{"\[CapitalNu]", "\[Rule]", "1"}], ",", 
   RowBox[{"\[Eta]", "\[Rule]", "1"}], ",", 
   RowBox[{"Jafter", "\[Rule]", "0"}], ",", 
   RowBox[{"Bafter", "\[Rule]", "0"}], ",", 
   RowBox[{"const\[Tau]appafter", "\[Rule]", "0"}]}], 
  "\[RightAssociation]"}]], \
"Output",ExpressionUUID->"19edad2b-2239-429d-bcc7-0fc0d6ca58e9"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"diodeDrop", "\[Rule]", 
    FractionBox["7", "10"]}], ",", 
   RowBox[{"Ke", "\[Rule]", 
    FractionBox["533", "500"]}], ",", 
   RowBox[{"batteryVoltage", "\[Rule]", "12"}], ",", 
   RowBox[{"controlMax", "\[Rule]", "32767"}]}], 
  "}"}]], "Output",ExpressionUUID->"85c491ce-1277-4eef-b371-914cf510f6c7"]
}, Open  ]],

Cell["There are three points of relevance to us.", \
"Text",ExpressionUUID->"2890d4bc-25e8-45db-ba0a-7ac880f19846"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"points", " ", "=", " ", 
  RowBox[{"{", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Z", " ", "\[Rule]", " ", 
     RowBox[{"{", 
      RowBox[{"controlProp0", ",", " ", "voltProp0"}], "}"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"T", " ", "\[Rule]", " ", 
     RowBox[{"{", 
      RowBox[{"controlProp100", ",", " ", "voltProp100"}], "}"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"R", " ", "\[Rule]", " ", 
     RowBox[{"{", 
      RowBox[{"controlReverse100", ",", " ", "voltReverse100"}], "}"}]}]}], 
   "\[IndentingNewLine]", 
   "}"}]}]], "Input",ExpressionUUID->"9f3b69f8-f067-487b-9a7f-e7fa5a582eb4"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"Z", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"controlProp0", ",", "voltProp0"}], "}"}]}], ",", 
   RowBox[{"T", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"controlProp100", ",", "voltProp100"}], "}"}]}], ",", 
   RowBox[{"R", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"controlReverse100", ",", "voltReverse100"}], "}"}]}]}], 
  "}"}]], "Output",ExpressionUUID->"657308bb-d380-442c-bf0c-1f1c58fc59f7"]
}, Open  ]],

Cell["\<\
The maximum velocity of this motor is just over 10 radians / second.\
\>", "Text",ExpressionUUID->"f0c94e26-3d18-48c2-9a85-aea2684f222e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"ssVel", " ", "/.", " ", "ss"}], " ", "/.", " ", "aMotor"}], " ",
     "/.", " ", 
    RowBox[{"constvapp", " ", "\[Rule]", " ", "batteryVoltage"}]}], " ", "/.",
    " ", "constants"}], " ", "//", " ", 
  "N"}]], "Input",ExpressionUUID->"5dbf16ec-edaa-490e-b22a-4740c8e94339"],

Cell[BoxData["10.272586520362077`"], \
"Output",ExpressionUUID->"99906dc9-3ae3-4d1d-a5db-e561bef07e2a"]
}, Open  ]],

Cell["\<\
At that velocity, what part of the negative control range is devoted to \
proportional braking?\
\>", "Text",ExpressionUUID->"e61be56c-6d46-43b4-a810-3e7848f194b6"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"speed", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{"\[CapitalOmega]", " ", "\[Rule]", " ", "10.27"}], 
   "}"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"all", " ", "=", " ", 
   RowBox[{"Join", "[", 
    RowBox[{"soln", ",", " ", "constants", ",", " ", "speed"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"p1", " ", "=", " ", 
   RowBox[{"Plot", "[", 
    RowBox[{
     RowBox[{"Evaluate", "[", 
      RowBox[{
       RowBox[{"voltReverse", "[", "control", "]"}], " ", "//.", " ", "all"}],
       "]"}], ",", " ", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "control", ",", " ", "controlReverse100", ",", " ", 
        "controlReverse0"}], "}"}], " ", "//.", " ", "all"}], ",", " ", 
     RowBox[{"PlotStyle", "\[Rule]", "Red"}], ",", " ", 
     RowBox[{"AxesOrigin", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
     RowBox[{"PlotRange", "\[Rule]", 
      RowBox[{"Evaluate", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "batteryVoltage"}], "-", "1"}], ",", " ", 
          RowBox[{"batteryVoltage", "+", "1"}]}], "}"}], " ", "//.", " ", 
        "all"}], "]"}]}], ",", " ", "\[IndentingNewLine]", 
     RowBox[{"AxesLabel", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"HoldForm", "[", 
         RowBox[{"Control", " ", "Signal"}], "]"}], ",", " ", 
        RowBox[{"HoldForm", "[", 
         RowBox[{
         "Instantaneous", " ", "Equivalent", " ", "Applied", " ", "Voltage"}],
          "]"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"p2", " ", "=", " ", 
   RowBox[{"Plot", "[", 
    RowBox[{
     RowBox[{"Evaluate", "[", 
      RowBox[{
       RowBox[{"voltProp", "[", "control", "]"}], " ", "//.", " ", "all"}], 
      "]"}], ",", " ", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "control", ",", " ", "controlProp100", ",", " ", "controlProp0"}], 
       "}"}], " ", "//.", " ", "all"}], ",", " ", 
     RowBox[{"PlotStyle", "\[Rule]", "Blue"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"p3", " ", "=", " ", 
   RowBox[{"ListPlot", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"Z", ",", " ", "T", ",", " ", "R"}], "}"}], "/.", " ", 
      RowBox[{"(", 
       RowBox[{"points", " ", "//.", " ", "all"}], ")"}]}], ",", " ", 
     RowBox[{"AxesOrigin", "\[Rule]", " ", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
     RowBox[{"PlotStyle", "\[Rule]", "Black"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Show", "[", 
  RowBox[{"p1", ",", "p2", ",", "p3"}], 
  "]"}]}], "Input",ExpressionUUID->"e95caa1f-f660-497a-bd0c-4a84d01e5376"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\[CapitalOmega]", "\[Rule]", "10.27`"}], 
  "}"}]], "Output",ExpressionUUID->"923000f0-82f5-491e-96e5-36228dde84d3"],

Cell[BoxData[
 GraphicsBox[{{{{}, {}, 
     TagBox[
      {RGBColor[1, 0, 0], AbsoluteThickness[1.6], Opacity[1.], 
       LineBox[CompressedData["
1:eJwVx3k41HkAx3FSWbmPRI7c07hKq7QefKUeKrUkKiOKYtvMkgpFpGNiPdmK
lt1ORlEKeWzJJvOxjqTfuDLj9rMYUaIyMSOx7R/v5/28jEMifUIXyMjIbP/W
/5dWTkh58zS0c7ZPz88zcGO8ZPHeORphhW0RsnMMuBge15TM0igrDxheMMvA
+QSJ9eoZGntbfxYskjCg4iS7P1tMgyt3oVTxAwNm5Rp1SaM01oRVRi7rZ8C7
dG36htc0dlitGrEFA3n58ZbVeTQuPlbrDExigK78fuVWdxrFntp75z9b4CRr
vG7tWB824qwbddwCtqUqEGX0IVC8Zcp4yhyRjgEXdO37YFyw0/MZ2xwa7gXv
S7p6wXKpkUsaM8OGJHOTxpO9cPKNDUwJNkNq7OKSouW9yGVyzut2mmLt5Gj/
ZFUPTvdKVYT+pmDflPZWBPdATrPEUdhkgoWU4qm38j2YtWh6KetlgrKyc8d7
irsRN+Nh8aTZGFMtDEcf725wveTMijyMkXWkMdt6ugsu58w5LS+MUOOc05aa
2YXz61OT1zsbQam+M6TQoQu3WRlF3odX4LFQK92e7oSBbL9WMtsQbzVP/UZO
d2KioOT5Jn8DJAlEVsXmnchT32Hjv0cfubXxmdyaDpTGR9PiDXroPxobwArt
QMNBL2vu6uU4fSe6Kkbpm5dMkzw7XRQszBZrP2yH/l+mmXYGOlg3StXr+bTD
b7lhqabeMvSm7psekgpxY55/WN5QG2oBhpN214SwH1kQelZxKe4U05cGXYUo
TVtk4auohdo1fKlOvwDJ69KYhZ81IHPMqFLjjAChQQ0vlonUcdMhxjRqpQDW
GwXWncNqqLOU+O2sb8PFXQ33Nuapwpt7inkt4puzOZyzucr4LAzbfVe7DfdG
HmQNFSjCwjHBx77sNQ459Nj6JSvgqXHmOCPoNcTz+TuPpcij3aF79+2vrbBs
Svh6O2gRdreahMTntsJWZ8I+zl8On5jNdXqerdi271VObJAsdB/dl5B3LTBg
HWDIR83xcv7mvKq/0gLn0TCLuIgZ3pPJtHDB6hYUcxJXLdGe4olGv4TmtTTD
05Cd29/ykRd9kC3bc6IZC/2MQ82K3vHSlRUO/67TDJ2U9KwqpUGeUYz3m7CE
JtRsGpSxnBXwvD1ZxVb8RnzIF03f5z3l/ZlQoS5RbsTKWNfyqje15O5T0ydp
AXxwNYIayKcu8sl3RilqDx+qt1Rm7v/QTVw+Nh/w9eMjncljap3pJh3MRHU9
Lz7CXY1+HVHtIYrXO9j33PiwjxjwuGLTS6IS0kyrmXy8eBlWO3CIJs5u05cl
0xRi4ND/z8S/JLWP/6ZbTMF6sZokVnOACOPuuPA+Uhj3HFG1cRggR0p3jHHe
UQho/4NkJQ6QXLOHHpo0BTIuvRWuPEgU5IPnbOooKOhXBGpZDZFduQ5+6tUU
eMFXo1/+OES4ROWhmEfhTD47LfHoEHE68cz/WTmF92sMno+UD5HI0aWPNxdS
aN2SqP98s4hUcMYUrQsopFzaZX+ULSLfmVSHqOZT2Cqw3ca4LCJc1hE1YTaF
sv10/JV2EZmYcv+p/CaFX/LKMty/iIhThkHljWsUTMcuPfhiOExSVom1krIo
iOwOVT9yGyaCVw3hB65SuB7r2h0aNkz+AyMmmwg=
        "]]},
      Annotation[#, "Charting`Private`Tag$8344#1"]& ]}, {}, {}}, {{{}, {}, 
     TagBox[
      {RGBColor[0, 0, 1], AbsoluteThickness[1.6], Opacity[1.], 
       LineBox[CompressedData["
1:eJwVzXk41AkcBvCRGtLmHNtIxjh+yNFTlrYnx++rA+WoqG1LRdKxYkyYSXpy
K5uiRLMhdmoyjdkYlQ3l8XWOe0PlWMcIUVFUjjbszv7xPu/7+es18A/xOr6E
QqF4yPN/8wvMgkySWlE+17fPX3Xsl4nKMVFu9eqeJXGnydVaFmo+8XIjY7Au
9jyZftbqYWqU3Nfch+/HJpNJYD03Fy43d2jkVmwWyWq3S2g6Kvd4wYm0WDFp
P+OZzbaTO48mTIl9SnY6cJrLPrQgJd5FeiW2iYwsTU886dqCMZytjUWiXvLg
gPSNzoNmfJ52w/LVzhGyd/VX8y5aM/qZ8170642TzVsWpAUhTShToNpdqJoi
52jaK5NfNqIkuO1l68ZpMq3j3/zodY3Ijtw3sXZ6jmwVjlnEXG7AsROGxSp3
5kkXk5G9F6fqcdPamLudShRYd/3xK4FbPUaENOUXDCnAnjwepUEiRbDV543m
KsKqtoiVX+lSlAXyfI55L4OdY5ZhTuF1SJk63T9koQRloi8xqT21KJhxda4b
Vgbe/tTR6R9qsd49LuhBlQqs0jXbcOpaDVZpygI7ed9BR9ILQ9lsNbr+7Ox5
zEMVFl57B7O9qtH47NK5r1rqEDD6xpdaUoVvFQLtwqbUYVOXu/ixehW+f7zQ
xxrUgMJ+STcrqBJ7cu+Or2jRBP9UM8m6DsSUxpaJ7vtaEG8ZNkC1QozWM/E0
59GgcvROcINRBdpKlvDFHG2o5Pu8zv5cjl2RU76tu76HbJsyZb7oGZYGq0aF
2a+CSV2IlnCe4pHfC1N26NBBv/e0cNK0DJ2+RS3ylXXghvRGhqusBDVS/Hqy
PutAjNJQh7jgCeb51d2va10NrsyuavLYnxjhc/BV2DNduHz1i+KAVTGq3gyd
2ZO5BtRNVqrcXHyEacq349rC9CCU11R5ofgh7r07HdzhywCPw0UN7Lgi7L7Q
7ka11wfFefv4dFsJeiKr5rA2EwL6B3QuLTzAtKMbe58nMMFN17GUli3GFoZS
Pu0TE94uH3uqqCRC00mW8NYpAzjHlx1ZnpOH/oN0xo+dBoDvjI+zFQRY/uZA
jfYuQ7h2+egs9QwfVZUFzNoaQ7iX1+19SicHnXasn7libQS8rEvRiW9/w/Qc
728ZIiNgvW5//5dGOtZrlZ57QjeGwj/0ZJ8EKfhZYFogSjSGwz41nKb9Ceiw
00qz75sx5Pu46SxwOPiLGuejWSABvs5Mc4LJQU9rYGkHEUDbML3ZozEcbfat
mFBgERBFzT10mxGOi5n8dz1nCPAu+pTrIA3FdJPWkSvnCJinZppE0dlY4WDa
O5lEQFZA28lFznGkBXXXlwgJoG4+/6tnYwD+kyJwuScigK1GiHMYAThQFFJ3
XUzAtrKID45Sf8yfXVYTWEjAhBqTE033QzLeumLNE/k/t2+pAncfBmYmF8fU
EeBlsMGVz9iLu8t/sgmuJ8C0OSHZSeqFtjKDRwcaCXhuYKkZR9+NFJMSiXUr
AVszpx2p3O2YUTQsHn5JwPjH7Fpn6RY8/6LQvK2TgIzt29wv0QH9ZiNF5d0E
tAwSj9S5tmjhoCG82UeA/tVwvE5fj+p+vUT8AAGD7ItZBJfA6TihIGSQAJVU
l6BdXG38+16o0aEhApj7aal+YzYVWO9wx3WEgP8ApsFlPw==
        "]]},
      Annotation[#, "Charting`Private`Tag$8389#1"]& ]}, {}, {}}, {{}, {{}, 
     {GrayLevel[0], PointSize[0.012833333333333334`], AbsoluteThickness[1.6], 
      PointBox[{{0., 10.94782}, {-15632.300494774669`, 
       0.}, {-32767., -12.}}]}, {}}, {}, {}, {}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{True, True},
  AxesLabel->{
    FormBox[
     TagBox[
      RowBox[{"Control", " ", "Signal"}], HoldForm], TraditionalForm], 
    FormBox[
     TagBox[
      RowBox[{
       "Instantaneous", " ", "Equivalent", " ", "Applied", " ", "Voltage"}], 
      HoldForm], TraditionalForm]},
  AxesOrigin->{0., 0.},
  DisplayFunction->Identity,
  Frame->{{False, False}, {False, False}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->{{Automatic, 
     Charting`ScaledFrameTicks[{Identity, Identity}]}, {Automatic, 
     Charting`ScaledFrameTicks[{Identity, Identity}]}},
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImagePadding->All,
  ImageSize->Large,
  Method->{
   "DefaultBoundaryStyle" -> Automatic, "DefaultMeshStyle" -> 
    AbsolutePointSize[6], "ScalingFunctions" -> None, 
    "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Identity[#]& )[
         Part[#, 1]], 
        (Identity[#]& )[
         Part[#, 2]]}& )}},
  PlotRange->{{-32766.999629913804`, 0.}, {-13, 13}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {0, 0}},
  Ticks->{
   Automatic, 
    Automatic}]], \
"Output",ExpressionUUID->"af482b65-48dd-4329-ab8b-ec3ef4564e4e"]
}, Open  ]],

Cell["\<\
Answer: about half of it. Good. It will be less for lesser velocities, but \
still a good chunk.\
\>", "Text",ExpressionUUID->"8f7b28f7-b0dc-40dc-8f25-97954c21fdba"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ". Revision History"
}], "Section",ExpressionUUID->"276978c4-a71c-4a3f-acf0-32b83569abc0"],

Cell["2018.08.07 Initial version.", \
"Item",ExpressionUUID->"c7e98618-4fda-46a1-9c3b-e7a69012bc31"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ". Playpen"
}], "Section",ExpressionUUID->"61e7a625-ff47-436d-b4e5-9047ed46612b"],

Cell[CellGroupData[{

Cell[BoxData["resultCps"], \
"Input",ExpressionUUID->"a1a63777-6906-4aa6-874b-0f09b6e2d89b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"controlTransition\"\>", "\[Rule]", 
    RowBox[{"-", 
     FractionBox[
      RowBox[{"2", " ", "controlMax", " ", "cps", " ", "Ke", " ", "\[Pi]"}], 
      RowBox[{
       RowBox[{"batteryVoltage", " ", "countsPerRev"}], "+", 
       RowBox[{"2", " ", "cps", " ", "Ke", " ", "\[Pi]"}]}]]}]}], ",", 
   RowBox[{"\<\"controlOther\"\>", "\[Rule]", 
    FractionBox[
     RowBox[{"controlMax", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"countsPerRev", " ", "diodeDrop"}], "-", 
        RowBox[{"2", " ", "cps", " ", "Ke", " ", "\[Pi]"}]}], ")"}]}], 
     RowBox[{
      RowBox[{"batteryVoltage", " ", "countsPerRev"}], "+", 
      RowBox[{"2", " ", "cps", " ", "Ke", " ", "\[Pi]"}]}]]}]}], 
  "}"}]], "Output",ExpressionUUID->"cbc572a3-1d60-4919-80f4-fffb4c795acf"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"tttt", " ", "=", 
  RowBox[{
   RowBox[{"\"\<controlTransition\>\"", " ", "/.", " ", "resultCps"}], " ", "/.",
    " ", 
   RowBox[{"batteryVoltage", " ", "\[Rule]", " ", 
    RowBox[{"1000", " ", "mVBatteryVoltage"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{"tttt", " ", "//", " ", 
  "Apart"}]}], "Input",ExpressionUUID->"c8e4b0fa-525c-492c-972a-24969b8775e0"],

Cell[BoxData[
 RowBox[{"-", 
  FractionBox[
   RowBox[{"2", " ", "controlMax", " ", "cps", " ", "Ke", " ", "\[Pi]"}], 
   RowBox[{
    RowBox[{"1000", " ", "countsPerRev", " ", "mVBatteryVoltage"}], "+", 
    RowBox[{
    "2", " ", "cps", " ", "Ke", " ", 
     "\[Pi]"}]}]]}]], \
"Output",ExpressionUUID->"784231f3-8c9b-4c9f-af3a-2bbc9e08453b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", "controlMax"}], "+", 
  FractionBox[
   RowBox[{
   "500", " ", "controlMax", " ", "countsPerRev", " ", "mVBatteryVoltage"}], 
   RowBox[{
    RowBox[{"500", " ", "countsPerRev", " ", "mVBatteryVoltage"}], "+", 
    RowBox[{
    "cps", " ", "Ke", " ", 
     "\[Pi]"}]}]]}]], \
"Output",ExpressionUUID->"0d05a2d1-ef60-49d4-991e-6601986fc38a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"oooo", " ", "=", 
  RowBox[{
   RowBox[{"\"\<controlOther\>\"", " ", "/.", " ", "resultCps"}], " ", "/.", 
   " ", 
   RowBox[{"batteryVoltage", " ", "\[Rule]", " ", 
    RowBox[{"1000", " ", "mVBatteryVoltage"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{"oooo", " ", "//", " ", 
  "Apart"}]}], "Input",ExpressionUUID->"b0249a0f-6a5a-47e7-bf95-ba0fdb9ae473"],

Cell[BoxData[
 FractionBox[
  RowBox[{"controlMax", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"countsPerRev", " ", "diodeDrop"}], "-", 
     RowBox[{"2", " ", "cps", " ", "Ke", " ", "\[Pi]"}]}], ")"}]}], 
  RowBox[{
   RowBox[{"1000", " ", "countsPerRev", " ", "mVBatteryVoltage"}], "+", 
   RowBox[{
   "2", " ", "cps", " ", "Ke", " ", 
    "\[Pi]"}]}]]], \
"Output",ExpressionUUID->"f90b3877-2752-4963-ab51-61baef2fa5af"],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", "controlMax"}], "+", 
  FractionBox[
   RowBox[{
    RowBox[{"controlMax", " ", "countsPerRev", " ", "diodeDrop"}], "+", 
    RowBox[{
    "1000", " ", "controlMax", " ", "countsPerRev", " ", 
     "mVBatteryVoltage"}]}], 
   RowBox[{"2", " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"500", " ", "countsPerRev", " ", "mVBatteryVoltage"}], "+", 
      RowBox[{"cps", " ", "Ke", " ", "\[Pi]"}]}], 
     ")"}]}]]}]], \
"Output",ExpressionUUID->"dd957695-2f0f-4f5f-a013-8d775446a236"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"dddd", " ", "=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"(", 
     RowBox[{
     "\"\<controlOther\>\"", " ", "-", " ", "\"\<controlTransition\>\""}], 
     " ", ")"}], " ", "/.", " ", "resultCps"}], "/.", " ", 
   RowBox[{"batteryVoltage", " ", "\[Rule]", " ", 
    RowBox[{"1000", " ", "mVBatteryVoltage"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{"dddd", " ", "//", " ", 
  "Apart"}]}], "Input",ExpressionUUID->"493e3522-4540-4c96-a785-0a060e89769d"],

Cell[BoxData[
 RowBox[{
  FractionBox[
   RowBox[{"2", " ", "controlMax", " ", "cps", " ", "Ke", " ", "\[Pi]"}], 
   RowBox[{
    RowBox[{"1000", " ", "countsPerRev", " ", "mVBatteryVoltage"}], "+", 
    RowBox[{"2", " ", "cps", " ", "Ke", " ", "\[Pi]"}]}]], "+", 
  FractionBox[
   RowBox[{"controlMax", " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"countsPerRev", " ", "diodeDrop"}], "-", 
      RowBox[{"2", " ", "cps", " ", "Ke", " ", "\[Pi]"}]}], ")"}]}], 
   RowBox[{
    RowBox[{"1000", " ", "countsPerRev", " ", "mVBatteryVoltage"}], "+", 
    RowBox[{
    "2", " ", "cps", " ", "Ke", " ", 
     "\[Pi]"}]}]]}]], \
"Output",ExpressionUUID->"b0520581-f512-47ac-9a90-31be02232b47"],

Cell[BoxData[
 FractionBox[
  RowBox[{"controlMax", " ", "countsPerRev", " ", "diodeDrop"}], 
  RowBox[{"2", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"500", " ", "countsPerRev", " ", "mVBatteryVoltage"}], "+", 
     RowBox[{"cps", " ", "Ke", " ", "\[Pi]"}]}], 
    ")"}]}]]], "Output",ExpressionUUID->"0dcf0b51-a9fa-40b1-9608-8737747e2382"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"N", "[", 
  RowBox[{"Pi", " ", "*", " ", "1024"}], 
  "]"}]], "Input",ExpressionUUID->"e0f34970-0cb9-439c-9042-814e1bca42e7"],

Cell[BoxData["3216.990877275948`"], \
"Output",ExpressionUUID->"03ea90ec-904e-4ceb-a91f-e3b0f50aa59e"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"3217", " ", "/", " ", "1024"}], " ", "//", " ", 
  "N"}]], "Input",ExpressionUUID->"e9b2abab-a30b-4e7b-9a1c-ee0d63b3ceaf"],

Cell[BoxData["3.1416015625`"], \
"Output",ExpressionUUID->"69bbde6b-a6d6-4213-a49a-8749f1f5a0db"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"num", " ", "/", " ", 
  RowBox[{"(", 
   RowBox[{"den", " ", "/", " ", 
    RowBox[{"2", "^", "20"}]}], 
   ")"}]}]], "Input",ExpressionUUID->"ba3e01b9-8364-4b69-a665-f90a1ec1f636"],

Cell[BoxData[
 FractionBox[
  RowBox[{"1048576", " ", "num"}], 
  "den"]], "Output",ExpressionUUID->"750209cb-aff7-459c-a5a2-e8c44dcd6143"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"0.7", " ", "*", " ", "1024"}], " ", "//", " ", 
  "N"}]], "Input",ExpressionUUID->"fc3549fb-908c-461b-ba66-6a8bfafa35fd"],

Cell[BoxData["716.8`"], \
"Output",ExpressionUUID->"5c956730-49d9-4c75-a224-1cd90902ce3b"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Playpen", \
"Section",ExpressionUUID->"73e61f5b-778a-404f-99b9-58aab3cf0917"],

Cell[CellGroupData[{

Cell[TextData[{
 
 CounterBox["Section"],
 ".",
 
 CounterBox["Subsection"],
 ". Implementation Verification"
}], "Subsection",ExpressionUUID->"4be77d18-297b-4751-a70d-aac9ae2517e4"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"keShift", " ", "=", " ", "10"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"piShift", " ", "=", " ", "10"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"Clear", "[", "shift", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"shift", "[", 
    RowBox[{"i_", ",", " ", "n_"}], "]"}], " ", ":=", " ", 
   RowBox[{"Floor", "[", 
    RowBox[{"i", " ", "*", " ", 
     RowBox[{"2", "^", "n"}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"Clear", "[", "numerator", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"numerator", "[", 
    RowBox[{"batteryVoltagemV_", ",", " ", "countsPerRev_"}], "]"}], " ", ":=",
    " ", 
   RowBox[{"Module", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"PIDMAXOUTPUT", " ", "=", " ", "32767"}], ",", "ucontrolMax", 
       ",", " ", "urevbat", ",", " ", "unum", ",", " ", "unum42q13", ","}], 
      " ", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ucontrolMax", "=", "PIDMAXOUTPUT"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"urevbat", "=", 
       RowBox[{"countsPerRev", "*", "batteryVoltagemV"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"unum", "=", 
       RowBox[{"urevbat", "*", "ucontrolMax"}]}], ";", "\[IndentingNewLine]", 
      "unum"}]}], " ", 
    RowBox[{"(*", 
     RowBox[{"42", "q0"}], "*)"}], "\[IndentingNewLine]", "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"Clear", "[", "denominator", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"denominator", "[", 
    RowBox[{
    "batteryVoltagemV_", ",", " ", "measuredcps_", ",", " ", "countsPerRev_", 
     ",", " ", "keq_"}], "]"}], " ", ":=", " ", 
   RowBox[{"Module", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"PIDMAXOUTPUT", " ", "=", " ", "32767"}], ",", " ", "term0", 
       ",", " ", "term0q10", ",", " ", "term1q10", ",", " ", 
       RowBox[{"piq", " ", "=", " ", 
        RowBox[{"shift", "[", 
         RowBox[{"Pi", ",", "piShift"}], "]"}]}]}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"term0", "=", " ", 
       RowBox[{"countsPerRev", " ", "batteryVoltagemV"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"term0q10", " ", "=", " ", 
       RowBox[{"shift", "[", 
        RowBox[{"term0", " ", ",", 
         RowBox[{"(", 
          RowBox[{"keShift", " ", "+", " ", "piShift"}], ")"}]}], "]"}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"term1q10", " ", "=", " ", 
       RowBox[{"2000", " ", "measuredcps", " ", "keq", " ", "piq"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(", 
       RowBox[{"term0q10", " ", "+", " ", "term1q10"}], ")"}]}]}], " ", 
    "\[IndentingNewLine]", "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"Clear", "[", "computeControlProp100Core", 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"computeControlProp100Core", "[", 
    RowBox[{
    "batteryVoltagemV_", ",", " ", "measuredcps_", ",", " ", "countsPerRev_", 
     ",", " ", "ke_"}], "]"}], " ", ":=", " ", 
   RowBox[{"Module", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"PIDMAXOUTPUT", " ", "=", " ", "32767"}], ",", " ", 
       "ucontrolMax", ",", " ", "num", ",", " ", "numq", ",", " ", "denq", 
       ",", " ", "dControl"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ucontrolMax", "=", "PIDMAXOUTPUT"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"num", " ", "=", " ", 
       RowBox[{"numerator", "[", 
        RowBox[{"batteryVoltagemV", ",", " ", "countsPerRev"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"numq", " ", "=", " ", 
       RowBox[{"shift", "[", 
        RowBox[{"num", ",", 
         RowBox[{"(", 
          RowBox[{"keShift", " ", "+", " ", "piShift"}], ")"}]}], "]"}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"denq", " ", "=", " ", 
       RowBox[{"denominator", "[", 
        RowBox[{
        "batteryVoltagemV", ",", " ", "measuredcps", ",", " ", "countsPerRev",
          ",", " ", 
         RowBox[{"shift", "[", 
          RowBox[{"ke", ",", " ", "keShift"}], "]"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"dControl", " ", "=", "  ", 
       RowBox[{"numq", " ", "/", " ", "denq"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"-", "ucontrolMax"}], "+", " ", "dControl"}]}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"computeControlProp100Core", "[", 
   RowBox[{"12000", ",", " ", "2000", ",", "1140", ",", " ", "1"}], "]"}], 
  " ", "//", " ", "N"}], "\[IndentingNewLine]", 
 RowBox[{"computeControlProp100Core", "[", 
  RowBox[{"mv", ",", " ", "cps", ",", "cpsRev", ",", " ", "ke"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"numerator", "[", 
  RowBox[{"mv", ",", "cpsRev"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"denominator", "[", 
   RowBox[{"mv", ",", " ", "cps", ",", "cpsRev", ",", " ", 
    RowBox[{"ke", "*", 
     RowBox[{"2", "^", "keShift"}]}]}], "]"}], " ", "//", " ", 
  "Apart"}]}], "Input",ExpressionUUID->"31cdce54-bae8-4c98-b232-44b5a657b788"],

Cell[BoxData[
 RowBox[{"-", 
  "15685.831666190341`"}]], \
"Output",ExpressionUUID->"aece772f-a66e-42dc-919c-488743f4ed49"],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", "32767"}], "+", 
  FractionBox[
   RowBox[{"Floor", "[", 
    RowBox[{"34358689792", " ", "cpsRev", " ", "mv"}], "]"}], 
   RowBox[{
    RowBox[{"6432000", " ", "cps", " ", 
     RowBox[{"Floor", "[", 
      RowBox[{"1024", " ", "ke"}], "]"}]}], "+", 
    RowBox[{"Floor", "[", 
     RowBox[{"1048576", " ", "cpsRev", " ", "mv"}], 
     "]"}]}]]}]], \
"Output",ExpressionUUID->"33331514-ae82-4cdb-aa61-b972b86a9ee7"],

Cell[BoxData[
 RowBox[{"32767", " ", "cpsRev", " ", 
  "mv"}]], "Output",ExpressionUUID->"67216c60-4833-48cf-b42a-4c0fc3caab1d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"6586368000", " ", "cps", " ", "ke"}], "+", 
  RowBox[{"Floor", "[", 
   RowBox[{"1048576", " ", "cpsRev", " ", "mv"}], 
   "]"}]}]], "Output",ExpressionUUID->"99ef5a22-d980-4504-966b-8524fa0ea688"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1069, 1501},
WindowMargins->{{991, Automatic}, {19, Automatic}},
PrintingCopies->1,
PrintingPageRange->{32000, 32000},
PrintingOptions->{"Magnification"->1.,
"PaperOrientation"->"Portrait",
"PaperSize"->{612, 792}},
PrivateNotebookOptions->{"FileOutlineCache"->False},
CellContext->Notebook,
CellLabelAutoDelete->True,
TrackCellChangeTimes->False,
Magnification:>0.9 Inherited,
FrontEndVersion->"11.3 for Microsoft Windows (64-bit) (March 6, 2018)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> 
     FrontEnd`FileName[{"Report"}, "StandardReport.nb", CharacterEncoding -> 
       "UTF-8"]]], 
   Cell[
    StyleData[All, "Printout"], Magnification -> 0.5]}, 
  WindowMargins -> {{1490, Automatic}, {Automatic, 334}}, Visible -> False, 
  FrontEndVersion -> "11.3 for Microsoft Windows (64-bit) (March 6, 2018)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"]
]

